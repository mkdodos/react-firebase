/*! For license information please see main.2998a369.js.LICENSE.txt */
(()=>{var e={172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(396);n(554);var i=n(43);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){a(this,e),l(this,"handlers",void 0),this.handlers=t.slice(0)}return u(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var o=this.handlers[i];-1===t.indexOf(o)&&n.push(o)}return new e(n)}}]),e}();function m(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function g(e){return Array.isArray(e)?e:[e]}function y(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===o(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var v=function(){function e(t,n){a(this,e),l(this,"handlerSets",void 0),l(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return u(e,[{key:"addHandlers",value:function(t,n){var r=m(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=m(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();l(v,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new v(e,r)}));var b=function(){function e(t){var n=this;a(this,e),l(this,"handlers",new Map),l(this,"pools",new Map),l(this,"target",void 0),l(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return u(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,v.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),w=new(function(){function e(){var t=this;a(this,e),l(this,"targets",new Map),l(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=y(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new b(r);return t.targets.set(r,i),i})),l(this,"removeTarget",(function(e){t.targets.delete(y(e))}))}return u(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,a=n.pool,s=void 0===a?"default":a;this.getTarget(o).addHandlers(s,e,g(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,a=n.pool,s=void 0===a?"default":a,u=this.getTarget(o,!1);u&&(u.removeHandlers(s,e,g(t)),u.hasHandlers()||this.removeTarget(o))}}}]),e}()),E=function(){function e(){return a(this,e),f(this,h(e).apply(this,arguments))}return c(e,i.PureComponent),u(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),e}();l(E,"defaultProps",{pool:"default",target:"document"}),E.propTypes={},t.instance=w,t.default=E},173:(e,t,n)=>{"use strict";var r;r=n(172),e.exports=r.default,e.exports.instance=r.instance},396:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},90:e=>{"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var o=i+65;n[o]=[String.fromCharCode(o+32),String.fromCharCode(o)]}var a={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};a.Spacebar=a[" "],a.Digit0=a[0],a.Digit1=a[1],a.Digit2=a[2],a.Digit3=a[3],a.Digit4=a[4],a.Digit5=a[5],a.Digit6=a[6],a.Digit7=a[7],a.Digit8=a[8],a.Digit9=a[9],a.Tilde=a["~"],a.GraveAccent=a["`"],a.ExclamationPoint=a["!"],a.AtSign=a["@"],a.PoundSign=a["#"],a.PercentSign=a["%"],a.Caret=a["^"],a.Ampersand=a["&"],a.PlusSign=a["+"],a.MinusSign=a["-"],a.EqualsSign=a["="],a.DivisionSign=a["/"],a.MultiplicationSign=a["*"],a.Comma=a[","],a.Decimal=a["."],a.Colon=a[":"],a.Semicolon=a[";"],a.Pipe=a["|"],a.BackSlash=a["\\"],a.QuestionMark=a["?"],a.SingleQuote=a["'"],a.DoubleQuote=a['"'],a.LeftCurlyBrace=a["{"],a.RightCurlyBrace=a["}"],a.LeftParenthesis=a["("],a.RightParenthesis=a[")"],a.LeftAngleBracket=a["<"],a.RightAngleBracket=a[">"],a.LeftSquareBracket=a["["],a.RightSquareBracket=a["]"],e.exports=a},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},554:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case x:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Ie=null;function xe(e){if(e=gi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=vi(t),Se(e.stateNode,e.type,t))}}function ke(e){Te?Ie?Ie.push(e):Ie=[e]:Te=e}function _e(){if(Te){var e=Te,t=Ie;if(Ie=Te=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Te||null!==Ie)&&(Ae(),_e())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=vi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){Re=!1}function je(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,o,a,s,u){Le=!1,Me=null,je.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,We=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,Tt,It,xt=!1,kt=[],_t=null,Ct=null,At=null,Nt=new Map,Dt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function jt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=gi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=mi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function Vt(){xt=!1,null!==_t&&Mt(_t)&&(_t=null),null!==Ct&&Mt(Ct)&&(Ct=null),null!==At&&Mt(At)&&(At=null),Nt.forEach(Ft),Dt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<kt.length){Ut(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Ut(_t,e),null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),Nt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig;function zt(e,t,n,r){var i=vt,o=qt.transition;qt.transition=null;try{vt=1,Kt(e,t,n,r)}finally{vt=i,qt.transition=o}}function Ht(e,t,n,r){var i=vt,o=qt.transition;qt.transition=null;try{vt=4,Kt(e,t,n,r)}finally{vt=i,qt.transition=o}}function Kt(e,t,n,r){var i=$t(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=jt(_t,e,t,n,r,i),!0;case"dragenter":return Ct=jt(Ct,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,jt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,jt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=gi(i);if(null!==o&&wt(o),null===(o=$t(e,t,n,r))&&qr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=mi(e=Ee(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Wt=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in Wt?Wt.value:Wt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,on,an,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=nn(sn),ln=M({},sn,{view:0,detail:0}),cn=nn(ln),hn=M({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(rn=e.screenX-an.screenX,on=e.screenY-an.screenY):on=rn=0,an=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),dn=nn(hn),fn=nn(M({},hn,{dataTransfer:0})),pn=nn(M({},ln,{relatedTarget:0})),mn=nn(M({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(gn),vn=nn(M({},sn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Sn}var In=M({},ln,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=nn(In),kn=nn(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=nn(M({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Cn=nn(M({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=nn(An),Dn=[9,13,27,32],On=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Pn=c&&"TextEvent"in window&&!Rn,jn=c&&(!On||Rn&&8<Rn&&11>=Rn),Ln=String.fromCharCode(32),Mn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function zn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){Lr(e,0)}function $n(e){if($(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var Wn=!1;if(c){var Yn;if(c){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Yn=Xn}else Yn=!1;Wn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Hn&&(Hn.detachEvent("onpropertychange",er),Kn=Hn=null)}function er(e){if("value"===e.propertyName&&$n(Kn)){var t=[];zn(t,Kn,e,Ee(e)),De(Gn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function rr(e,t){if("click"===e)return $n(t)}function ir(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ar(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,gr=null,yr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ar(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},Sr={};function Tr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ir=Tr("animationend"),xr=Tr("animationiteration"),kr=Tr("animationstart"),_r=Tr("transitionend"),Cr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Cr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Or=Ar[Dr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Ir,"onAnimationEnd"),Nr(xr,"onAnimationIteration"),Nr(kr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(_r,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Be.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=Me;Le=!1,Me=null,Fe||(Fe=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,l),o=u}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Mr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Fr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=zt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}De((function(){var r=o,i=Ee(n),a=[];e:{var s=Cr.get(e);if(void 0!==s){var u=un,l=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":l="focus",u=pn;break;case"focusout":l="blur",u=pn;break;case"beforeblur":case"afterblur":u=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=_n;break;case Ir:case xr:case kr:u=mn;break;case _r:u=Cn;break;case"scroll":u=cn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&c.push(zr(p,m,f)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(h=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=dn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=kn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?s:yi(u),f=null==l?s:yi(l),(s=new c(m,p+"leave",u,n,i)).target=h,s.relatedTarget=f,m=null,mi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=f,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(d=l,p=0,f=c=u;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==u&&Gr(a,s,u,c,!1),null!==l&&null!==h&&Gr(a,h,l,c,!0)}if("select"===(u=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Qn;else if(qn(s))if(Wn)g=ir;else{g=nr;var y=tr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=rr);switch(g&&(g=g(e,r))?zn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?yi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(pr=y,mr=r,gr=null);break;case"focusout":gr=mr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,vr(a,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":vr(a,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=Jt()):(Yt="value"in(Wt=i)?Wt.value:Wt.textContent,Un=!0)),0<(y=Hr(r,b)).length&&(b=new vn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Pn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Fn(e,t)?(e=Jt(),Xt=Yt=Wt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Lr(a,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(zr(e,o,i)),null!=(o=Oe(e,t))&&r.push(zr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Oe(n,o))&&a.unshift(zr(n,u,s)):i||null!=(u=Oe(n,o))&&a.push(zr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Wr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=Wr(t),Wr(e)!==t&&n)throw Error(o(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),li="__reactFiber$"+ui,ci="__reactProps$"+ui,hi="__reactContainer$"+ui,di="__reactEvents$"+ui,fi="__reactListeners$"+ui,pi="__reactHandles$"+ui;function mi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[li])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[li]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function vi(e){return e[ci]||null}var bi=[],wi=-1;function Ei(e){return{current:e}}function Si(e){0>wi||(e.current=bi[wi],bi[wi]=null,wi--)}function Ti(e,t){wi++,bi[wi]=e.current,e.current=t}var Ii={},xi=Ei(Ii),ki=Ei(!1),_i=Ii;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Si(ki),Si(xi)}function Di(e,t,n){if(xi.current!==Ii)throw Error(o(168));Ti(xi,t),Ti(ki,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return M({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,_i=xi.current,Ti(xi,e),Ti(ki,ki.current),!0}function Pi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,Si(ki),Si(xi),Ti(xi,e)):Si(ki),Ti(ki,n)}var ji=null,Li=!1,Mi=!1;function Fi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Mi&&null!==ji){Mi=!0;var e=0,t=vt;try{var n=ji;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Li=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),$e(Ze,Vi),i}finally{vt=t,Mi=!1}}return null}var Ui=w.ReactCurrentBatchConfig;function Bi(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var qi=Ei(null),zi=null,Hi=null,Ki=null;function Gi(){Ki=Hi=zi=null}function $i(e){var t=qi.current;Si(qi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wi(e,t){zi=e,Ki=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===zi)throw Error(o(308));Hi=e,zi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function no(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==bu&&0!==(1&e.mode)&&0===(2&vu)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oo(e,t,n,r){var i=e.updateQueue;Ji=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,c=l=u=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ji=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=f,u=h):c=c.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);ku|=a,e.lanes=a,e.memoizedState=h}}function ao(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var so=(new r.Component).refs;function uo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var lo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zu(),i=Hu(e),o=to(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),no(e,o),null!==(t=Ku(e,i,r))&&ro(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zu(),i=Hu(e),o=to(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),no(e,o),null!==(t=Ku(e,i,r))&&ro(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zu(),r=Hu(e),i=to(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),no(e,i),null!==(t=Ku(e,r,n))&&ro(t,e,r)}};function co(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ar(n,r)||!ar(i,o))}function ho(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=Yi(o):(i=Ai(t)?_i:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=lo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lo.enqueueReplaceState(t,t.state,null)}function po(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=so,Zi(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Yi(o):(o=Ai(t)?_i:xi.current,i.context=Ci(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(uo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&lo.enqueueReplaceState(i,i.state,null),oo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var mo=[],go=0,yo=null,vo=0,bo=[],wo=0,Eo=null,So=1,To="";function Io(e,t){mo[go++]=vo,mo[go++]=yo,yo=e,vo=t}function xo(e,t,n){bo[wo++]=So,bo[wo++]=To,bo[wo++]=Eo,Eo=e;var r=So;e=To;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,So=1<<32-at(t)+i|n<<i|r,To=o+e}else So=1<<o|n<<i|r,To=e}function ko(e){null!==e.return&&(Io(e,1),xo(e,1,0))}function _o(e){for(;e===yo;)yo=mo[--go],mo[go]=null,vo=mo[--go],mo[go]=null;for(;e===Eo;)Eo=bo[--wo],bo[wo]=null,To=bo[--wo],bo[wo]=null,So=bo[--wo],bo[wo]=null}var Co=null,Ao=null,No=!1,Do=null;function Oo(e,t){var n=El(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ro(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Co=e,Ao=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Co=e,Ao=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Eo?{id:So,overflow:To}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=El(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Co=e,Ao=null,!0);default:return!1}}function Po(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function jo(e){if(No){var t=Ao;if(t){var n=t;if(!Ro(e,t)){if(Po(e))throw Error(o(418));t=ai(n.nextSibling);var r=Co;t&&Ro(e,t)?Oo(r,n):(e.flags=-4097&e.flags|2,No=!1,Co=e)}}else{if(Po(e))throw Error(o(418));e.flags=-4097&e.flags|2,No=!1,Co=e}}}function Lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Co=e}function Mo(e){if(e!==Co)return!1;if(!No)return Lo(e),No=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ao)){if(Po(e)){for(e=Ao;e;)e=ai(e.nextSibling);throw Error(o(418))}for(;t;)Oo(e,t),t=ai(t.nextSibling)}if(Lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ao=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ao=null}}else Ao=Co?ai(e.stateNode.nextSibling):null;return!0}function Fo(){Ao=Co=null,No=!1}function Vo(e){null===Do?Do=[e]:Do.push(e)}function Uo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===so&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Bo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qo(e){return(0,e._init)(e._payload)}function zo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Tl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=_l(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===T?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&qo(o)===t.type)?((r=i(t,n.props)).ref=Uo(e,t,n),r.return=e,r):((r=Il(n.type,n.key,n.props,null,e.mode,r)).ref=Uo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Cl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=xl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_l(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Il(t.type,t.key,t.props,null,e.mode,n)).ref=Uo(e,null,t),n.return=e,n;case S:return(t=Cl(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=xl(t,e.mode,n,null)).return=e,t;Bo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:h(e,t,n,r,null);Bo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return h(t,e=e.get(n)||null,r,i,null);Bo(t,r)}return null}function m(i,o,s,u){for(var l=null,c=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,s[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,m),null===c?l=y:c.sibling=y,c=y,h=g}if(m===s.length)return n(i,h),No&&Io(i,m),l;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],u))&&(o=a(h,o,m),null===c?l=h:c.sibling=h,c=h);return No&&Io(i,m),l}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),No&&Io(i,m),l}function g(i,s,u,l){var c=j(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,m=s,g=s=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),No&&Io(i,g),c;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(i,v.value,l))&&(s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return No&&Io(i,g),c}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),No&&Io(i,g),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===T&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===T){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&qo(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Uo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===T?((o=xl(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Il(a.type,a.key,a.props,null,r.mode,u)).ref=Uo(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Cl(a,r.mode,u)).return=r,r=o}return s(r);case O:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return m(r,o,a,u);if(j(a))return g(r,o,a,u);Bo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=_l(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Ho=zo(!0),Ko=zo(!1),Go={},$o=Ei(Go),Qo=Ei(Go),Wo=Ei(Go);function Yo(e){if(e===Go)throw Error(o(174));return e}function Xo(e,t){switch(Ti(Wo,t),Ti(Qo,e),Ti($o,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($o),Ti($o,t)}function Jo(){Si($o),Si(Qo),Si(Wo)}function Zo(e){Yo(Wo.current);var t=Yo($o.current),n=ue(t,e.type);t!==n&&(Ti(Qo,e),Ti($o,n))}function ea(e){Qo.current===e&&(Si($o),Si(Qo))}var ta=Ei(0);function na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function ia(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var oa=w.ReactCurrentDispatcher,aa=w.ReactCurrentBatchConfig,sa=0,ua=null,la=null,ca=null,ha=!1,da=!1,fa=0,pa=0;function ma(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,i,a){if(sa=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,fa=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,i)}while(da)}if(oa.current=Ja,t=null!==la&&null!==la.next,sa=0,ca=la=ua=null,ha=!1,t)throw Error(o(300));return e}function va(){var e=0!==fa;return fa=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?ua.memoizedState=ca=e:ca=ca.next=e,ca}function wa(){if(null===la){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?ua.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?ua.memoizedState=ca=e:ca=ca.next=e}return ca}function Ea(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=wa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((sa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,ua.lanes|=h,ku|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,or(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ua.lanes|=a,ku|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=wa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);or(a,t.memoizedState)||(vs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function xa(e,t){var n=ua,r=wa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,vs=!0),r=r.queue,La(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Da(9,_a.bind(null,n,r,i,t),void 0,null),null===bu)throw Error(o(349));0!==(30&sa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Ku(e,1,-1)}function Ca(e,t,n){return n((function(){Aa(t)&&Ku(e,1,-1)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Na(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,ua,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return wa().memoizedState}function Ra(e,t,n,r){var i=ba();ua.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=wa();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Da(t,n,o,r))}ua.flags|=e,i.memoizedState=Da(1|t,n,o,r)}function ja(e,t){return Ra(8390656,8,e,t)}function La(e,t){return Pa(2048,8,e,t)}function Ma(e,t){return Pa(4,2,e,t)}function Fa(e,t){return Pa(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Va.bind(null,t,e),n)}function Ba(){}function qa(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=aa.transition;aa.transition={};try{e(!1),t()}finally{vt=n,aa.transition=r}}function Ka(){return wa().memoizedState}function Ga(e,t,n){var r=Hu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e)?Wa(t,n):(Ya(e,t,n),null!==(e=Ku(e,r,n=zu()))&&Xa(e,t,r))}function $a(e,t,n){var r=Hu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Wa(t,i);else{Ya(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,or(s,a))return}catch(u){}null!==(e=Ku(e,r,n=zu()))&&Xa(e,t,r)}}function Qa(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function Wa(e,t){da=ha=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){null!==bu&&0!==(1&e.mode)&&0===(2&vu)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Yi,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},Za={readContext:Yi,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Na,useDebugValue:Ba,useDeferredValue:function(e){var t=Na(e),n=t[0],r=t[1];return ja((function(){var t=aa.transition;aa.transition={};try{r(e)}finally{aa.transition=t}}),[e]),n},useTransition:function(){var e=Na(!1),t=e[0];return e=Ha.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,i=ba();if(No){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===bu)throw Error(o(349));0!==(30&sa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ja(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,_a.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=bu.identifierPrefix;if(No){var n=To;t=":"+t+"R"+(n=(So&~(1<<32-at(So)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Yi,useCallback:qa,useContext:Yi,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:za,useReducer:Sa,useRef:Oa,useState:function(){return Sa(Ea)},useDebugValue:Ba,useDeferredValue:function(e){var t=Sa(Ea),n=t[0],r=t[1];return La((function(){var t=aa.transition;aa.transition={};try{r(e)}finally{aa.transition=t}}),[e]),n},useTransition:function(){return[Sa(Ea)[0],wa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:xa,useId:Ka,unstable_isNewReconciler:!1},ts={readContext:Yi,useCallback:qa,useContext:Yi,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:za,useReducer:Ta,useRef:Oa,useState:function(){return Ta(Ea)},useDebugValue:Ba,useDeferredValue:function(e){var t=Ta(Ea),n=t[0],r=t[1];return La((function(){var t=aa.transition;aa.transition={};try{r(e)}finally{aa.transition=t}}),[e]),n},useTransition:function(){return[Ta(Ea)[0],wa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:xa,useId:Ka,unstable_isNewReconciler:!1};function ns(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function rs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var is,os,as,ss,us="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=to(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ru||(Ru=!0,Pu=r),rs(0,t)},n}function cs(e,t,n){(n=to(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){rs(0,t),"function"!==typeof r&&(null===ju?ju=new Set([this]):ju.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new us;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ml.bind(null,e,t,n),t.then(e,e))}function ds(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=to(-1,1)).tag=2,no(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ps(e,t){if(!No)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ms(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gs(e,t,n){var r=t.pendingProps;switch(_o(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(t),null;case 1:case 17:return Ai(t.type)&&Ni(),ms(t),null;case 3:return r=t.stateNode,Jo(),Si(ki),Si(xi),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Mo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Do&&(Yu(Do),Do=null))),os(e,t),ms(t),null;case 5:ea(t);var i=Yo(Wo.current);if(n=t.type,null!==e&&null!=t.stateNode)as(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ms(t),null}if(e=Yo($o.current),Mo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[li]=t,r[ci]=a,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Mr(Rr[i],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Y(r,a),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Mr("invalid",r);break;case"textarea":ie(r,a),Mr("invalid",r)}for(var u in ve(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(Yr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(Yr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Mr("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[li]=t,e[ci]=r,is(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),i=r;break;case"iframe":case"object":case"embed":Mr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Mr(Rr[i],e);i=r;break;case"source":Mr("error",e),i=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),i=r;break;case"details":Mr("toggle",e),i=r;break;case"input":Y(e,r),i=W(e,r),Mr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Mr("invalid",e)}for(a in ve(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Mr("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ms(t),null;case 6:if(e&&null!=t.stateNode)ss(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Wo.current),Yo($o.current),Mo(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(a=r.nodeValue!==n)&&null!==(e=Co))switch(u=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,u);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,u)}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[li]=t,t.stateNode=r}return ms(t),null;case 13:if(Si(ta),r=t.memoizedState,No&&null!==Ao&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ao;r;)r=ai(r.nextSibling);return Fo(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Mo(t),null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[li]=t}else Fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ms(t),null}return null!==Do&&(Yu(Do),Do=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Mo(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===Iu&&(Iu=3):ol())),null!==t.updateQueue&&(t.flags|=4),ms(t),null);case 4:return Jo(),os(e,t),null===e&&Ur(t.stateNode.containerInfo),ms(t),null;case 10:return $i(t.type._context),ms(t),null;case 19:if(Si(ta),null===(a=t.memoizedState))return ms(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)ps(a,!1);else{if(0!==Iu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=na(e))){for(t.flags|=128,ps(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Ou&&(t.flags|=128,r=!0,ps(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=na(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ps(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!No)return ms(t),null}else 2*Xe()-a.renderingStartTime>Ou&&1073741824!==n&&(t.flags|=128,r=!0,ps(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ta.current,Ti(ta,r?1&n|2:1&n),t):(ms(t),null);case 22:case 23:return tl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Su)&&(ms(t),6&t.subtreeFlags&&(t.flags|=8192)):ms(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},os=function(){},as=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo($o.current);var o,a=null;switch(n){case"input":i=W(e,i),r=W(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Mr("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},ss=function(e,t,n,r){n!==r&&(t.flags|=4)};var ys=w.ReactCurrentOwner,vs=!1;function bs(e,t,n,r){t.child=null===e?Ko(t,null,n,r):Ho(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var o=t.ref;return Wi(t,i),r=ya(e,t,n,r,o,i),n=va(),null===e||vs?(No&&n&&ko(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Sl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Il(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(a,r)&&e.ref===t.ref)return Us(e,t,i)}return t.flags|=1,(e=Tl(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e&&ar(e.memoizedProps,r)&&e.ref===t.ref){if(vs=!1,0===(e.lanes&i))return t.lanes=e.lanes,Us(e,t,i);0!==(131072&e.flags)&&(vs=!0)}return xs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Ti(Tu,Su),Su|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ti(Tu,Su),Su|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==o?o.baseLanes:n,Ti(Tu,Su),Su|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Tu,Su),Su|=r;return bs(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var o=Ai(n)?_i:xi.current;return o=Ci(t,o),Wi(t,i),n=ya(e,t,n,r,o,i),r=va(),null===e||vs?(No&&r&&ko(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function ks(e,t,n,r,i){if(Ai(n)){var o=!0;Ri(t)}else o=!1;if(Wi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ho(t,n,r),po(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Yi(l):l=Ci(t,l=Ai(n)?_i:xi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&fo(t,a,r,l),Ji=!1;var d=t.memoizedState;a.state=d,oo(t,r,a,i),u=t.memoizedState,s!==r||d!==u||ki.current||Ji?("function"===typeof c&&(uo(t,n,c,r),u=t.memoizedState),(s=Ji||co(t,n,s,r,d,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,eo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Bi(t.type,s),a.props=l,h=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Yi(u):u=Ci(t,u=Ai(n)?_i:xi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==u)&&fo(t,a,r,u),Ji=!1,d=t.memoizedState,a.state=d,oo(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||ki.current||Ji?("function"===typeof f&&(uo(t,n,f,r),p=t.memoizedState),(l=Ji||co(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,o,i)}function _s(e,t,n,r,i,o){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Pi(t,n,!1),Us(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ho(t,e.child,null,o),t.child=Ho(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,i&&Pi(t,n,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xo(e,t.containerInfo)}function As(e,t,n,r,i){return Fo(),Vo(i),t.flags|=256,bs(e,t,n,r),t.child}var Ns={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null}}function Os(e,t,n){var r,i=t.pendingProps,a=ta.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(ta,1&a),null===e)return jo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=kl(a,i,0,null),e=xl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ns,e):Rs(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Ls(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=kl({mode:"visible",children:i.children},a,0,null),(s=xl(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ho(t,e.child,null,n),t.child.memoizedState=Ds(n),t.memoizedState=Ns,s);if(0===(1&t.mode))t=Ls(e,t,n,null);else if("$!"===r.data)t=Ls(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),vs||i){if(null!==(i=bu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,Ku(e,i,-1))}ol(),t=Ls(e,t,n,Error(o(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=yl.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Ao=ai(r.nextSibling),Co=t,No=!0,Do=null,null!==n&&(bo[wo++]=So,bo[wo++]=To,bo[wo++]=Eo,So=n.id,To=n.overflow,Eo=t),(t=Rs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ds(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i):(n=Ps(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=js(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ds(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i):(n=Ps(e,t,i.children,n),t.memoizedState=null,n)}function Rs(e,t){return(t=kl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ps(e,t,n,r){var i=e.child;return e=i.sibling,n=Tl(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function js(e,t,n,r,i){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Tl(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Tl(a,r):(r=xl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ls(e,t,n,r){return null!==r&&Vo(r),Ho(t,e.child,null,n),(e=Rs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ms(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ms(e,n,t);else if(19===e.tag)Ms(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ta,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===na(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===na(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fs(t,!0,n,null,o);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ku|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Tl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Bs(e,t){switch(_o(t),t.tag){case 1:return Ai(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Si(ki),Si(xi),ia(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(Si(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ta),null;case 4:return Jo(),null;case 10:return $i(t.type._context),null;case 22:case 23:return tl(),null;default:return null}}var qs=!1,zs=!1,Hs="function"===typeof WeakSet?WeakSet:Set,Ks=null;function Gs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){pl(e,t,r)}else n.current=null}function $s(e,t,n){try{n()}catch(r){pl(e,t,r)}}var Qs=!1;function Ws(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&$s(t,n,o)}i=i.next}while(i!==r)}}function Ys(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xs(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Js(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&$s(t,n,o),r=r.next}while(r!==e)}break;case 1:if(Gs(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){pl(t,n,a)}break;case 5:Gs(t,n);break;case 4:ou(e,t,n)}}function Zs(e){var t=e.alternate;null!==t&&(e.alternate=null,Zs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[li],delete t[ci],delete t[di],delete t[fi],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eu(e){return 5===e.tag||3===e.tag||4===e.tag}function tu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function nu(e){e:{for(var t=e.return;null!==t;){if(eu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(de(t,""),n.flags&=-33),iu(e,n=tu(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ru(e,n=tu(e),t);break;default:throw Error(o(161))}}function ru(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ru(e,t,n),e=e.sibling;null!==e;)ru(e,t,n),e=e.sibling}function iu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(iu(e,t,n),e=e.sibling;null!==e;)iu(e,t,n),e=e.sibling}function ou(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,l=a,c=n,h=l;;)if(Js(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break e;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,l=a.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(a.stateNode)}else if(18===a.tag)i?(u=r,l=a.stateNode,8===u.nodeType?oi(u.parentNode,l):1===u.nodeType&&oi(u,l),Bt(u)):oi(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(Js(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function au(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Ws(3,t,t.return),Ys(3,t),void Ws(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),be(e,i),t=be(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?ge(n,u):"dangerouslySetInnerHTML"===s?he(n,u):"children"===s?de(n,u):b(n,s,u,t)}switch(e){case"input":J(n,r);break;case"textarea":oe(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ne(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[ci]=r}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Bt(t.stateNode.containerInfo));case 13:case 19:return void su(t)}throw Error(o(163))}function su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Hs),t.forEach((function(t){var r=vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function uu(e,t,n){Ks=e,lu(e,t,n)}function lu(e,t,n){for(var r=0!==(1&e.mode);null!==Ks;){var i=Ks,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||zs;s=qs;var l=zs;if(qs=a,(zs=u)&&!l)for(Ks=i;null!==Ks;)u=(a=Ks).child,22===a.tag&&null!==a.memoizedState?du(i):null!==u?(u.return=a,Ks=u):du(i);for(;null!==o;)Ks=o,lu(o,t,n),o=o.sibling;Ks=i,qs=s,zs=l}cu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ks=o):cu(e)}}function cu(e){for(;null!==Ks;){var t=Ks;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zs||Ys(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ao(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ao(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}zs||512&t.flags&&Xs(t)}catch(f){pl(t,t.return,f)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function hu(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function du(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ys(4,t)}catch(u){pl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){pl(t,i,u)}}var o=t.return;try{Xs(t)}catch(u){pl(t,o,u)}break;case 5:var a=t.return;try{Xs(t)}catch(u){pl(t,a,u)}}}catch(u){pl(t,t.return,u)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var fu,pu=Math.ceil,mu=w.ReactCurrentDispatcher,gu=w.ReactCurrentOwner,yu=w.ReactCurrentBatchConfig,vu=0,bu=null,wu=null,Eu=0,Su=0,Tu=Ei(0),Iu=0,xu=null,ku=0,_u=0,Cu=0,Au=null,Nu=null,Du=0,Ou=1/0,Ru=!1,Pu=null,ju=null,Lu=!1,Mu=null,Fu=0,Vu=0,Uu=null,Bu=-1,qu=0;function zu(){return 0!==(6&vu)?Xe():-1!==Bu?Bu:Bu=Xe()}function Hu(e){return 0===(1&e.mode)?1:0!==(2&vu)&&0!==Eu?Eu&-Eu:null!==Ui.transition?(0===qu&&(e=lt,0===(4194240&(lt<<=1))&&(lt=64),qu=e),qu):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Ku(e,t,n){if(50<Vu)throw Vu=0,Uu=null,Error(o(185));var r=Gu(e,t);return null===r?null:(gt(r,t,n),0!==(2&vu)&&r===bu||(r===bu&&(0===(2&vu)&&(_u|=t),4===Iu&&Xu(r,Eu)),$u(r,n),1===t&&0===vu&&0===(1&e.mode)&&(Ou=Xe()+500,Li&&Vi())),r)}function Gu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function $u(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===bu?Eu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Li=!0,Fi(e)}(Ju.bind(null,e)):Fi(Ju.bind(null,e)),ri((function(){0===vu&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=bl(n,Qu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qu(e,t){if(Bu=-1,qu=0,0!==(6&vu))throw Error(o(327));var n=e.callbackNode;if(dl()&&e.callbackNode!==n)return null;var r=dt(e,e===bu?Eu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=al(e,r);else{t=r;var i=vu;vu|=2;var a=il();for(bu===e&&Eu===t||(Ou=Xe()+500,nl(e,t));;)try{ul();break}catch(u){rl(e,u)}Gi(),mu.current=a,vu=i,null!==wu?t=0:(bu=null,Eu=0,t=Iu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Wu(e,i))),1===t)throw n=xu,nl(e,0),Xu(e,r),$u(e,Xe()),n;if(6===t)Xu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!or(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=al(e,r))&&(0!==(a=pt(e))&&(r=a,t=Wu(e,a))),1===t))throw n=xu,nl(e,0),Xu(e,r),$u(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:hl(e,Nu);break;case 3:if(Xu(e,r),(130023424&r)===r&&10<(t=Du+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){zu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(hl.bind(null,e,Nu),t);break}hl(e,Nu);break;case 4:if(Xu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pu(r/1960))-r)){e.timeoutHandle=ei(hl.bind(null,e,Nu),r);break}hl(e,Nu);break;default:throw Error(o(329))}}}return $u(e,Xe()),e.callbackNode===n?Qu.bind(null,e):null}function Wu(e,t){var n=Au;return e.current.memoizedState.isDehydrated&&(nl(e,t).flags|=256),2!==(e=al(e,t))&&(t=Nu,Nu=n,null!==t&&Yu(t)),e}function Yu(e){null===Nu?Nu=e:Nu.push.apply(Nu,e)}function Xu(e,t){for(t&=~Cu,t&=~_u,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function Ju(e){if(0!==(6&vu))throw Error(o(327));dl();var t=dt(e,0);if(0===(1&t))return $u(e,Xe()),null;var n=al(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Wu(e,r))}if(1===n)throw n=xu,nl(e,0),Xu(e,t),$u(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hl(e,Nu),$u(e,Xe()),null}function Zu(e,t){var n=vu;vu|=1;try{return e(t)}finally{0===(vu=n)&&(Ou=Xe()+500,Li&&Vi())}}function el(e){null!==Mu&&0===Mu.tag&&0===(6&vu)&&dl();var t=vu;vu|=1;var n=yu.transition,r=vt;try{if(yu.transition=null,vt=1,e)return e()}finally{vt=r,yu.transition=n,0===(6&(vu=t))&&Vi()}}function tl(){Su=Tu.current,Si(Tu)}function nl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==wu)for(n=wu.return;null!==n;){var r=n;switch(_o(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Jo(),Si(ki),Si(xi),ia();break;case 5:ea(r);break;case 4:Jo();break;case 13:case 19:Si(ta);break;case 10:$i(r.type._context);break;case 22:case 23:tl()}n=n.return}if(bu=e,wu=e=Tl(e.current,null),Eu=Su=t,Iu=0,xu=null,Cu=_u=ku=0,Nu=Au=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Xi=null}return e}function rl(e,t){for(;;){var n=wu;try{if(Gi(),oa.current=Ja,ha){for(var r=ua.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ha=!1}if(sa=0,ca=la=ua=null,da=!1,fa=0,gu.current=null,null===n||null===n.return){Iu=1,xu=t,wu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Eu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ds(s);if(null!==p){p.flags&=-257,fs(p,s,u,0,t),1&p.mode&&hs(a,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){hs(a,c,t),ol();break e}l=Error(o(426))}else if(No&&1&u.mode){var y=ds(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),fs(y,s,u,0,t),Vo(l);break e}}a=l,4!==Iu&&(Iu=2),null===Au?Au=[a]:Au.push(a),l=ns(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,io(u,ls(0,l,t));break e;case 1:a=l;var v=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ju||!ju.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,io(u,cs(u,a,t));break e}}u=u.return}while(null!==u)}cl(n)}catch(w){t=w,wu===n&&null!==n&&(wu=n=n.return);continue}break}}function il(){var e=mu.current;return mu.current=Ja,null===e?Ja:e}function ol(){0!==Iu&&3!==Iu&&2!==Iu||(Iu=4),null===bu||0===(268435455&ku)&&0===(268435455&_u)||Xu(bu,Eu)}function al(e,t){var n=vu;vu|=2;var r=il();for(bu===e&&Eu===t||nl(e,t);;)try{sl();break}catch(i){rl(e,i)}if(Gi(),vu=n,mu.current=r,null!==wu)throw Error(o(261));return bu=null,Eu=0,Iu}function sl(){for(;null!==wu;)ll(wu)}function ul(){for(;null!==wu&&!We();)ll(wu)}function ll(e){var t=fu(e.alternate,e,Su);e.memoizedProps=e.pendingProps,null===t?cl(e):wu=t,gu.current=null}function cl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=gs(n,t,Su)))return void(wu=n)}else{if(null!==(n=Bs(n,t)))return n.flags&=32767,void(wu=n);if(null===e)return Iu=6,void(wu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(wu=t);wu=t=e}while(null!==t);0===Iu&&(Iu=5)}function hl(e,t){var n=vt,r=yu.transition;try{yu.transition=null,vt=1,function(e,t,n){do{dl()}while(null!==Mu);if(0!==(6&vu))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===bu&&(wu=bu=null,Eu=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Lu||(Lu=!0,bl(tt,(function(){return dl(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=yu.transition,yu.transition=null;var s=vt;vt=1;var u=vu;vu|=4,gu.current=null,function(e,t){if(hr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(u=s),f===a&&++h===r&&(l=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Ks=t;null!==Ks;)if(e=(t=Ks).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Bi(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var E=w.body;null!=E&&(E.textContent="")}break;default:throw Error(o(163))}}catch(S){pl(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}m=Qs,Qs=!1}(e,r),function(e,t){for(Ks=t;null!==Ks;){var n=(t=Ks).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{ou(e,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(I){pl(i,t,I)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Ks=n;else for(;null!==Ks;){t=Ks;try{var a=t.flags;if(32&a&&de(t.stateNode,""),512&a){var s=t.alternate;if(null!==s){var u=s.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&a)switch(t.tag){case 13:if(null!==t.memoizedState){var l=t.alternate;null!==l&&null!==l.memoizedState||(Du=Xe())}break;case 22:var c=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;e:{i=c;for(var f=null,p=r=n=t;;){if(5===p.tag){if(null===f){f=p;var m=p.stateNode;if(i){var g=m.style;"function"===typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var y=p.stateNode,v=p.memoizedProps.style,b=void 0!==v&&null!==v&&v.hasOwnProperty("display")?v.display:null;y.style.display=me("display",b)}}}else if(6===p.tag)null===f&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}if(c&&!d&&0!==(1&n.mode)){Ks=n;for(var w=n.child;null!==w;){for(n=Ks=w;null!==Ks;){var E=(r=Ks).child;switch(r.tag){case 0:case 11:case 14:case 15:Ws(4,r,r.return);break;case 1:Gs(r,r.return);var S=r.stateNode;if("function"===typeof S.componentWillUnmount){var T=r.return;try{S.props=r.memoizedProps,S.state=r.memoizedState,S.componentWillUnmount()}catch(I){pl(r,T,I)}}break;case 5:Gs(r,r.return);break;case 22:if(null!==r.memoizedState){hu(n);continue}}null!==E?(E.return=r,Ks=E):hu(n)}w=w.sibling}}}switch(4102&a){case 2:nu(t),t.flags&=-3;break;case 6:nu(t),t.flags&=-3,au(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,au(t.alternate,t);break;case 4:au(t.alternate,t)}}catch(I){pl(t,t.return,I)}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}}(e,r),dr(Jr),Jr=null,e.current=r,uu(r,e,i),Ye(),vu=u,vt=s,yu.transition=a}else e.current=r;if(Lu&&(Lu=!1,Mu=e,Fu=i),a=e.pendingLanes,0===a&&(ju=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),$u(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ru)throw Ru=!1,e=Pu,Pu=null,e;0!==(1&Fu)&&0!==e.tag&&dl(),a=e.pendingLanes,0!==(1&a)?e===Uu?Vu++:(Vu=0,Uu=e):Vu=0,Vi()}(e,t,n)}finally{yu.transition=r,vt=n}return null}function dl(){if(null!==Mu){var e=bt(Fu),t=yu.transition,n=vt;try{if(yu.transition=null,vt=16>e?16:e,null===Mu)var r=!1;else{if(e=Mu,Mu=null,Fu=0,0!==(6&vu))throw Error(o(331));var i=vu;for(vu|=4,Ks=e.current;null!==Ks;){var a=Ks,s=a.child;if(0!==(16&Ks.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Ks=c;null!==Ks;){var h=Ks;switch(h.tag){case 0:case 11:case 15:Ws(8,h,a)}var d=h.child;if(null!==d)d.return=h,Ks=d;else for(;null!==Ks;){var f=(h=Ks).sibling,p=h.return;if(Zs(h),h===c){Ks=null;break}if(null!==f){f.return=p,Ks=f;break}Ks=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ks=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Ks=s;else e:for(;null!==Ks;){if(0!==(2048&(a=Ks).flags))switch(a.tag){case 0:case 11:case 15:Ws(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Ks=v;break e}Ks=a.return}}var b=e.current;for(Ks=b;null!==Ks;){var w=(s=Ks).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Ks=w;else e:for(s=b;null!==Ks;){if(0!==(2048&(u=Ks).flags))try{switch(u.tag){case 0:case 11:case 15:Ys(9,u)}}catch(S){pl(u,u.return,S)}if(u===s){Ks=null;break e}var E=u.sibling;if(null!==E){E.return=u.return,Ks=E;break e}Ks=u.return}}if(vu=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{vt=n,yu.transition=t}}return!1}function fl(e,t,n){no(e,t=ls(0,t=ns(n,t),1)),t=zu(),null!==(e=Gu(e,1))&&(gt(e,1,t),$u(e,t))}function pl(e,t,n){if(3===e.tag)fl(e,e,n);else for(;null!==t;){if(3===t.tag){fl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ju||!ju.has(r))){no(t,e=cs(t,e=ns(n,e),1)),e=zu(),null!==(t=Gu(t,1))&&(gt(t,1,e),$u(t,e));break}}t=t.return}}function ml(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=zu(),e.pingedLanes|=e.suspendedLanes&n,bu===e&&(Eu&n)===n&&(4===Iu||3===Iu&&(130023424&Eu)===Eu&&500>Xe()-Du?nl(e,0):Cu|=n),$u(e,t)}function gl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=zu();null!==(e=Gu(e,t))&&(gt(e,t,n),$u(e,n))}function yl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),gl(e,n)}function vl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),gl(e,n)}function bl(e,t){return $e(e,t)}function wl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function El(e,t,n,r){return new wl(e,t,n,r)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tl(e,t){var n=e.alternate;return null===n?((n=El(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Il(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Sl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return xl(n.children,i,a,t);case I:s=8,i|=8;break;case x:return(e=El(12,n,t,2|i)).elementType=x,e.lanes=a,e;case A:return(e=El(13,n,t,i)).elementType=A,e.lanes=a,e;case N:return(e=El(19,n,t,i)).elementType=N,e.lanes=a,e;case R:return kl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case _:s=9;break e;case C:s=11;break e;case D:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=El(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function xl(e,t,n,r){return(e=El(7,e,r,t)).lanes=n,e}function kl(e,t,n,r){return(e=El(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function _l(e,t,n){return(e=El(6,e,null,t)).lanes=n,e}function Cl(e,t,n){return(t=El(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Al(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nl(e,t,n,r,i,o,a,s,u){return e=new Al(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=El(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(o),e}function Dl(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Oi(e,n,t)}return t}function Ol(e,t,n,r,i,o,a,s,u){return(e=Nl(n,r,!0,e,0,o,0,s,u)).context=Dl(null),n=e.current,(o=to(r=zu(),i=Hu(n))).callback=void 0!==t&&null!==t?t:null,no(n,o),e.current.lanes=i,gt(e,i,r),$u(e,r),e}function Rl(e,t,n,r){var i=t.current,o=zu(),a=Hu(i);return n=Dl(n),null===t.context?t.context=n:t.pendingContext=n,(t=to(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),no(i,t),null!==(e=Ku(i,a,o))&&ro(e,i,a),a}function Pl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ll(e,t){jl(e,t),(e=e.alternate)&&jl(e,t)}fu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)vs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Cs(t),Fo();break;case 5:Zo(t);break;case 1:Ai(t.type)&&Ri(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(qi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Os(e,t,n):(Ti(ta,1&ta.current),null!==(e=Us(e,t,n))?e.sibling:null);Ti(ta,1&ta.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ta,ta.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Us(e,t,n)}(e,t,n);vs=0!==(131072&e.flags)}else vs=!1,No&&0!==(1048576&t.flags)&&xo(t,vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,xi.current);Wi(t,n),i=ya(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=lo,t.stateNode=i,i._reactInternals=t,po(t,r,e,n),t=_s(null,t,r,!0,a,n)):(t.tag=0,No&&a&&ko(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Sl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=Bi(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=ks(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Es(null,t,r,Bi(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 3:e:{if(Cs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,eo(e,t),oo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=As(e,t,r,n,i=Error(o(424)));break e}for(Ao=ai(t.stateNode.containerInfo.firstChild),Co=t,No=!0,Do=null,n=Ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fo(),r===i){t=Us(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&jo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Zr(r,i)?s=null:null!==a&&Zr(r,a)&&(t.flags|=32),Is(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&jo(t),null;case 13:return Os(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ho(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(qi,r._currentValue),r._currentValue=s,null!==a)if(or(a.value,s)){if(a.children===i.children&&!ki.current){t=Us(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=to(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Qi(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Qi(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Wi(t,n),r=r(i=Yi(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=Bi(r=t.type,t.pendingProps),Es(e,t,r,i=Bi(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Ri(t)):e=!1,Wi(t,n),ho(t,r,i),po(t,r,i,n),_s(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Ml="function"===typeof reportError?reportError:function(e){console.error(e)};function Fl(e){this._internalRoot=e}function Vl(e){this._internalRoot=e}function Ul(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ql(){}function zl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Pl(a);s.call(e)}}Rl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Pl(a);o.call(e)}}var a=Ol(t,r,e,0,null,!1,0,"",ql);return e._reactRootContainer=a,e[hi]=a.current,Ur(8===e.nodeType?e.parentNode:e),el(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Pl(u);s.call(e)}}var u=Nl(e,0,!1,null,0,!1,0,"",ql);return e._reactRootContainer=u,e[hi]=u.current,Ur(8===e.nodeType?e.parentNode:e),el((function(){Rl(t,u,n,r)})),u}(n,t,e,i,r);return Pl(a)}Vl.prototype.render=Fl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Rl(e,t,null,null)},Vl.prototype.unmount=Fl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;el((function(){Rl(null,e,null,null)})),t[hi]=null}},Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),$u(t,Xe()),0===(6&vu)&&(Ou=Xe()+500,Vi()))}break;case 13:var r=zu();el((function(){return Ku(e,1,r)})),Ll(e,1)}},Et=function(e){13===e.tag&&(Ku(e,134217728,zu()),Ll(e,134217728))},St=function(e){if(13===e.tag){var t=zu(),n=Hu(e);Ku(e,n,t),Ll(e,n)}},Tt=function(){return vt},It=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vi(r);if(!i)throw Error(o(90));$(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Zu,Ae=el;var Hl={usingClientEntryPoint:!1,Events:[gi,yi,vi,ke,_e,Zu]},Kl={findFiberByHostInstance:mi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gl={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{it=$l.inject(Gl),ot=$l}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ul(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ul(e))throw Error(o(299));var n=!1,r="",i=Ml;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nl(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Fl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return el(e)},t.hydrate=function(e,t,n){if(!Bl(t))throw Error(o(200));return zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ul(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Ml;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ol(t,null,e,1,null!=n?n:null,i,0,a,s),e[hi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vl(t)},t.render=function(e,t,n){if(!Bl(t))throw Error(o(200));return zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(o(40));return!!e._reactRootContainer&&(el((function(){zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=Zu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return zl(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},82:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case m:case u:return e;default:return t}}case i:return t}}}function S(e){return E(e)===h}t.isForwardRef=function(e){return E(e)===d}},86:(e,t,n)=>{"use strict";e.exports=n(82)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:T.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+C(u,0):o,E(a)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",E(e))for(var l=0;l<e.length;l++){var c=o+C(s=e[l],l);u+=A(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,c=o+C(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:T};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)S.call(t,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function E(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,R(S);else{var t=r(c);null!==t&&P(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var o=f;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!A());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var h=r(c);null!==h&&P(E,h.startTime-n),u=!1}return u}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,I=!1,x=null,k=-1,_=5,C=-1;function A(){return!(t.unstable_now()-C<_)}function N(){if(null!==x){var e=t.unstable_now();C=e;var n=!0;try{n=x(!0,e)}finally{n?T():(I=!1,x=null)}}else I=!1}if("function"===typeof b)T=function(){b(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=N,T=function(){O.postMessage(null)}}else T=function(){y(N,0)};function R(e){x=e,I||(I=!0,T())}function P(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(g?(v(k),k=-1):g=!0,P(E,o-a))):(e.sortIndex=s,n(l,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],h=t[l];if(!1===(i=n?n.call(r,c,h,l):void 0)||void 0===i&&c!==h)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>B_,hasStandardBrowserEnv:()=>q_,hasStandardBrowserWebWorkerEnv:()=>H_,origin:()=>K_});var t=n(391),r=n(43),i=n.t(r,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const s=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r};var u={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function l(e){var t=typeof e;return"string"===t||"number"===t?u[e]||e:""}var c=function(e,t){return e&&t},h=function(e,t){return e&&!0!==e&&e+" "+t},d=function(e,t){return e&&(!0===e?t:e+" "+t)},f=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},p=function(e){return"justified"===e?"justified":h(e,"aligned")},m=function(e){return h(e,"aligned")},g=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?l(e):l(e)+" "+t};const y=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};const v=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var o=n();if(o)return o}return t.href?"a":i.as||"div"};const b=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const w=function(){this.__data__=[],this.size=0};const E=function(e,t){return e===t||e!==e&&t!==t};const S=function(e,t){for(var n=e.length;n--;)if(E(e[n][0],t))return n;return-1};var T=Array.prototype.splice;const I=function(e){var t=this.__data__,n=S(t,e);return!(n<0)&&(n==t.length-1?t.pop():T.call(t,n,1),--this.size,!0)};const x=function(e){var t=this.__data__,n=S(t,e);return n<0?void 0:t[n][1]};const k=function(e){return S(this.__data__,e)>-1};const _=function(e,t){var n=this.__data__,r=S(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function C(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C.prototype.clear=w,C.prototype.delete=I,C.prototype.get=x,C.prototype.has=k,C.prototype.set=_;const A=C;const N=function(){this.__data__=new A,this.size=0};const D=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const O=function(e){return this.__data__.get(e)};const R=function(e){return this.__data__.has(e)};const P="object"==typeof global&&global&&global.Object===Object&&global;var j="object"==typeof self&&self&&self.Object===Object&&self;const L=P||j||Function("return this")();const M=L.Symbol;var F=Object.prototype,V=F.hasOwnProperty,U=F.toString,B=M?M.toStringTag:void 0;const q=function(e){var t=V.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(Fx){}var i=U.call(e);return r&&(t?e[B]=n:delete e[B]),i};var z=Object.prototype.toString;const H=function(e){return z.call(e)};var K=M?M.toStringTag:void 0;const G=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":K&&K in Object(e)?q(e):H(e)};const $=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const Q=function(e){if(!$(e))return!1;var t=G(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const W=L["__core-js_shared__"];var Y=function(){var e=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const X=function(e){return!!Y&&Y in e};var J=Function.prototype.toString;const Z=function(e){if(null!=e){try{return J.call(e)}catch(Fx){}try{return e+""}catch(Fx){}}return""};var ee=/^\[object .+?Constructor\]$/,te=Function.prototype,ne=Object.prototype,re=te.toString,ie=ne.hasOwnProperty,oe=RegExp("^"+re.call(ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ae=function(e){return!(!$(e)||X(e))&&(Q(e)?oe:ee).test(Z(e))};const se=function(e,t){return null==e?void 0:e[t]};const ue=function(e,t){var n=se(e,t);return ae(n)?n:void 0};const le=ue(L,"Map");const ce=ue(Object,"create");const he=function(){this.__data__=ce?ce(null):{},this.size=0};const de=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var fe=Object.prototype.hasOwnProperty;const pe=function(e){var t=this.__data__;if(ce){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return fe.call(t,e)?t[e]:void 0};var me=Object.prototype.hasOwnProperty;const ge=function(e){var t=this.__data__;return ce?void 0!==t[e]:me.call(t,e)};const ye=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?"__lodash_hash_undefined__":t,this};function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ve.prototype.clear=he,ve.prototype.delete=de,ve.prototype.get=pe,ve.prototype.has=ge,ve.prototype.set=ye;const be=ve;const we=function(){this.size=0,this.__data__={hash:new be,map:new(le||A),string:new be}};const Ee=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Se=function(e,t){var n=e.__data__;return Ee(t)?n["string"==typeof t?"string":"hash"]:n.map};const Te=function(e){var t=Se(this,e).delete(e);return this.size-=t?1:0,t};const Ie=function(e){return Se(this,e).get(e)};const xe=function(e){return Se(this,e).has(e)};const ke=function(e,t){var n=Se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_e.prototype.clear=we,_e.prototype.delete=Te,_e.prototype.get=Ie,_e.prototype.has=xe,_e.prototype.set=ke;const Ce=_e;const Ae=function(e,t){var n=this.__data__;if(n instanceof A){var r=n.__data__;if(!le||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ce(r)}return n.set(e,t),this.size=n.size,this};function Ne(e){var t=this.__data__=new A(e);this.size=t.size}Ne.prototype.clear=N,Ne.prototype.delete=D,Ne.prototype.get=O,Ne.prototype.has=R,Ne.prototype.set=Ae;const De=Ne;const Oe=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const Re=function(e){return this.__data__.has(e)};function Pe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ce;++t<n;)this.add(e[t])}Pe.prototype.add=Pe.prototype.push=Oe,Pe.prototype.has=Re;const je=Pe;const Le=function(e,t){return e.has(t)};const Me=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var h=-1,d=!0,f=2&n?new je:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var p=e[h],m=t[h];if(r)var g=a?r(m,p,h,t,e,o):r(p,m,h,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!b(t,(function(e,t){if(!Le(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d};const Fe=L.Uint8Array;const Ve=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const Ue=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Be=M?M.prototype:void 0,qe=Be?Be.valueOf:void 0;const ze=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Fe(e),new Fe(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return E(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ve;case"[object Set]":var u=1&r;if(s||(s=Ue),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=Me(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(qe)return qe.call(e)==qe.call(t)}return!1};const He=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const Ke=Array.isArray;const Ge=function(e,t,n){var r=t(e);return Ke(e)?r:He(r,n(e))};const $e=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};const Qe=function(){return[]};var We=Object.prototype.propertyIsEnumerable,Ye=Object.getOwnPropertySymbols;const Xe=Ye?function(e){return null==e?[]:(e=Object(e),$e(Ye(e),(function(t){return We.call(e,t)})))}:Qe;const Je=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const Ze=function(e){return null!=e&&"object"==typeof e};const et=function(e){return Ze(e)&&"[object Arguments]"==G(e)};var tt=Object.prototype,nt=tt.hasOwnProperty,rt=tt.propertyIsEnumerable;const it=et(function(){return arguments}())?et:function(e){return Ze(e)&&nt.call(e,"callee")&&!rt.call(e,"callee")};const ot=function(){return!1};var at="object"==typeof exports&&exports&&!exports.nodeType&&exports,st=at&&"object"==typeof module&&module&&!module.nodeType&&module,ut=st&&st.exports===at?L.Buffer:void 0;const lt=(ut?ut.isBuffer:void 0)||ot;var ct=/^(?:0|[1-9]\d*)$/;const ht=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ct.test(e))&&e>-1&&e%1==0&&e<t};const dt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Arguments]"]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft["[object Function]"]=ft["[object Map]"]=ft["[object Number]"]=ft["[object Object]"]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;const pt=function(e){return Ze(e)&&dt(e.length)&&!!ft[G(e)]};const mt=function(e){return function(t){return e(t)}};var gt="object"==typeof exports&&exports&&!exports.nodeType&&exports,yt=gt&&"object"==typeof module&&module&&!module.nodeType&&module,vt=yt&&yt.exports===gt&&P.process,bt=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(Fx){}}();var wt=bt&&bt.isTypedArray;const Et=wt?mt(wt):pt;var St=Object.prototype.hasOwnProperty;const Tt=function(e,t){var n=Ke(e),r=!n&&it(e),i=!n&&!r&&lt(e),o=!n&&!r&&!i&&Et(e),a=n||r||i||o,s=a?Je(e.length,String):[],u=s.length;for(var l in e)!t&&!St.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ht(l,u))||s.push(l);return s};var It=Object.prototype;const xt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||It)};const kt=function(e,t){return function(n){return e(t(n))}};const _t=kt(Object.keys,Object);var Ct=Object.prototype.hasOwnProperty;const At=function(e){if(!xt(e))return _t(e);var t=[];for(var n in Object(e))Ct.call(e,n)&&"constructor"!=n&&t.push(n);return t};const Nt=function(e){return null!=e&&dt(e.length)&&!Q(e)};const Dt=function(e){return Nt(e)?Tt(e):At(e)};const Ot=function(e){return Ge(e,Dt,Xe)};var Rt=Object.prototype.hasOwnProperty;const Pt=function(e,t,n,r,i,o){var a=1&n,s=Ot(e),u=s.length;if(u!=Ot(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:Rt.call(t,c)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++l<u;){var m=e[c=s[l]],g=t[c];if(r)var y=a?r(g,m,c,t,e,o):r(m,g,c,e,t,o);if(!(void 0===y?m===g||i(m,g,n,r,o):y)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f};const jt=ue(L,"DataView");const Lt=ue(L,"Promise");const Mt=ue(L,"Set");const Ft=ue(L,"WeakMap");var Vt="[object Map]",Ut="[object Promise]",Bt="[object Set]",qt="[object WeakMap]",zt="[object DataView]",Ht=Z(jt),Kt=Z(le),Gt=Z(Lt),$t=Z(Mt),Qt=Z(Ft),Wt=G;(jt&&Wt(new jt(new ArrayBuffer(1)))!=zt||le&&Wt(new le)!=Vt||Lt&&Wt(Lt.resolve())!=Ut||Mt&&Wt(new Mt)!=Bt||Ft&&Wt(new Ft)!=qt)&&(Wt=function(e){var t=G(e),n="[object Object]"==t?e.constructor:void 0,r=n?Z(n):"";if(r)switch(r){case Ht:return zt;case Kt:return Vt;case Gt:return Ut;case $t:return Bt;case Qt:return qt}return t});const Yt=Wt;var Xt="[object Arguments]",Jt="[object Array]",Zt="[object Object]",en=Object.prototype.hasOwnProperty;const tn=function(e,t,n,r,i,o){var a=Ke(e),s=Ke(t),u=a?Jt:Yt(e),l=s?Jt:Yt(t),c=(u=u==Xt?Zt:u)==Zt,h=(l=l==Xt?Zt:l)==Zt,d=u==l;if(d&&lt(e)){if(!lt(t))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new De),a||Et(e)?Me(e,t,n,r,i,o):ze(e,t,u,n,r,i,o);if(!(1&n)){var f=c&&en.call(e,"__wrapped__"),p=h&&en.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new De),i(m,g,n,r,o)}}return!!d&&(o||(o=new De),Pt(e,t,n,r,i,o))};const nn=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Ze(t)&&!Ze(n)?t!==t&&n!==n:tn(t,n,r,i,e,o))};const rn=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var h=new De;if(r)var d=r(l,c,u,e,t,h);if(!(void 0===d?nn(c,l,3,r,h):d))return!1}}return!0};const on=function(e){return e===e&&!$(e)};const an=function(e){for(var t=Dt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,on(i)]}return t};const sn=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const un=function(e){var t=an(e);return 1==t.length&&t[0][2]?sn(t[0][0],t[0][1]):function(n){return n===e||rn(n,e,t)}};const ln=function(e){return"symbol"==typeof e||Ze(e)&&"[object Symbol]"==G(e)};var cn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hn=/^\w*$/;const dn=function(e,t){if(Ke(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ln(e))||(hn.test(e)||!cn.test(e)||null!=t&&e in Object(t))};function fn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(fn.Cache||Ce),n}fn.Cache=Ce;const pn=fn;const mn=function(e){var t=pn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t};var gn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yn=/\\(\\)?/g;const vn=mn((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(gn,(function(e,n,r,i){t.push(r?i.replace(yn,"$1"):n||e)})),t}));const bn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var wn=M?M.prototype:void 0,En=wn?wn.toString:void 0;const Sn=function e(t){if("string"==typeof t)return t;if(Ke(t))return bn(t,e)+"";if(ln(t))return En?En.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const Tn=function(e){return null==e?"":Sn(e)};const In=function(e,t){return Ke(e)?e:dn(e,t)?[e]:vn(Tn(e))};const xn=function(e){if("string"==typeof e||ln(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const kn=function(e,t){for(var n=0,r=(t=In(t,e)).length;null!=e&&n<r;)e=e[xn(t[n++])];return n&&n==r?e:void 0};const _n=function(e,t,n){var r=null==e?void 0:kn(e,t);return void 0===r?n:r};const Cn=function(e,t){return null!=e&&t in Object(e)};const An=function(e,t,n){for(var r=-1,i=(t=In(t,e)).length,o=!1;++r<i;){var a=xn(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&dt(i)&&ht(a,i)&&(Ke(e)||it(e))};const Nn=function(e,t){return null!=e&&An(e,t,Cn)};const Dn=function(e,t){return dn(e)&&on(t)?sn(xn(e),t):function(n){var r=_n(n,e);return void 0===r&&r===t?Nn(n,e):nn(t,r,3)}};const On=function(e){return e};const Rn=function(e){return function(t){return null==t?void 0:t[e]}};const Pn=function(e){return function(t){return kn(t,e)}};const jn=function(e){return dn(e)?Rn(xn(e)):Pn(e)};const Ln=function(e){return"function"==typeof e?e:null==e?On:"object"==typeof e?Ke(e)?Dn(e[0],e[1]):un(e):jn(e)};const Mn=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}};const Fn=Mn();const Vn=function(e,t){return function(n,r){if(null==n)return n;if(!Nt(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}};const Un=Vn((function(e,t){return e&&Fn(e,t,Dt)}));const Bn=function(e,t){var n;return Un(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};const qn=function(e,t,n){if(!$(n))return!1;var r=typeof t;return!!("number"==r?Nt(n)&&ht(t,n.length):"string"==r&&t in n)&&E(n[t],e)};const zn=function(e,t,n){var r=Ke(e)?b:Bn;return n&&qn(e,t,n)&&(t=void 0),r(e,Ln(t,3))};var Hn=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};function Kn(e){var t=e.children,n=e.className,i=e.content,a=e.fluid,u=e.text,l=e.textAlign,h=s("ui",c(u,"text"),c(a,"fluid"),p(l),"container",n),d=y(Kn,e),f=v(Kn,e);return r.createElement(f,o({},d,{className:h}),Hn(t)?i:t)}Kn.handledProps=["as","children","className","content","fluid","text","textAlign"],Kn.propTypes={};const Gn=Kn;function $n(e,t){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$n(e,t)}function Qn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$n(e,t)}const Wn=function(e,t){var n=-1,r=Nt(e)?Array(e.length):[];return Un(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};const Yn=function(e,t){return(Ke(e)?bn:Wn)(e,Ln(t,3))};const Xn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};const Jn=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const Zn=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};const er=function(e,t){return t.length<2?e:kn(e,Zn(t,0,-1))};const tr=function(e,t,n){t=In(t,e);var r=null==(e=er(e,t))?e:e[xn(Jn(t))];return null==r?void 0:Xn(r,e,n)};var nr=Math.max;const rr=function(e,t,n){return t=nr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=nr(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Xn(e,this,s)}};const ir=function(e){return function(){return e}};const or=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(Fx){}}();const ar=or?function(e,t){return or(e,"toString",{configurable:!0,enumerable:!1,value:ir(t),writable:!0})}:On;var sr=Date.now;const ur=function(e){var t=0,n=0;return function(){var r=sr(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const lr=ur(ar);const cr=function(e,t){return lr(rr(e,t,On),e+"")};const hr=cr(tr);const dr=function(e){return void 0===e};var fr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(t=e.call.apply(e,[this].concat(r))||this).constructor,s=a.autoControlledProps,u=a.getAutoControlledStateFromProps,l=hr(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),"getInitialAutoControlledState",t.props)||{},c=s.reduce((function(e,n){return e[n]=function(e,t,n,r){void 0===r&&(r=!1);var i,o=t[e];if(void 0!==o)return o;if(r){var a=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==a)return a;if(n){var s=n[e];if(void 0!==s)return s}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,l,!0),e}),{});return t.state=o({},l,c,{autoControlledProps:s,getAutoControlledStateFromProps:u}),t}return Qn(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!dr(e[n])&&(t[n]=e[n]),t}),{});if(r){var a=r(e,o({},t,i),t);return o({},i,a)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(r.Component);const pr=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};const mr=function(e){return e!==e};const gr=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};const yr=function(e,t,n){return t===t?gr(e,t,n):pr(e,mr,n)};const vr=function(e,t){return!!(null==e?0:e.length)&&yr(e,t,0)>-1};const br=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};const wr=function(){};var Er=Mt&&1/Ue(new Mt([,-0]))[1]==1/0?function(e){return new Mt(e)}:wr;const Sr=Er;const Tr=function(e,t,n){var r=-1,i=vr,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=br;else if(o>=200){var l=t?null:Sr(e);if(l)return Ue(l);a=!1,i=Le,u=new je}else u=t?[]:s;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s};const Ir=function(e){return e&&e.length?Tr(e):[]};const xr=kt(Object.getPrototypeOf,Object);var kr=Function.prototype,_r=Object.prototype,Cr=kr.toString,Ar=_r.hasOwnProperty,Nr=Cr.call(Object);const Dr=function(e){if(!Ze(e)||"[object Object]"!=G(e))return!1;var t=xr(e);if(null===t)return!0;var n=Ar.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Cr.call(n)==Nr};const Or=function(e){return"number"==typeof e||Ze(e)&&"[object Number]"==G(e)};const Rr=function(e){return"string"==typeof e||!Ke(e)&&Ze(e)&&"[object String]"==G(e)};const Pr=function(e){return!0===e||!1===e||Ze(e)&&"[object Boolean]"==G(e)};const jr=function(e){return null==e};function Lr(e,t,n,i){if(void 0===i&&(i={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(jr(n)||Pr(n))return null;var a=Rr(n),u=Or(n),l=Q(n),c=r.isValidElement(n),h=Dr(n),d=a||u||Ke(n);if(!l&&!c&&!h&&!d)return null;var f=i.defaultProps,p=void 0===f?{}:f,m=c&&n.props||h&&n||d&&t(n),g=i.overrideProps,y=void 0===g?{}:g;y=Q(y)?y(o({},p,m)):y;var v=o({},p,m,y);if(p.className||y.className||m.className){var b=s(p.className,y.className,m.className);v.className=Ir(b.split(" ")).join(" ")}if((p.style||y.style||m.style)&&(v.style=o({},p.style,m.style,y.style)),jr(v.key)){var w=v.childKey,E=i.autoGenerateKey,S=void 0===E||E;jr(w)?S&&(a||u)&&(v.key=n):(v.key="function"===typeof w?w(v):w,delete v.childKey)}return c?r.cloneElement(n,v):"function"===typeof v.children?v.children(e,o({},v,{children:void 0})):d||h?r.createElement(e,v):l?n(e,v,v.children):void 0}function Mr(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return Lr(e,t,n,r)}}var Fr=Mr("input",(function(e){return{type:e}})),Vr=Mr("label",(function(e){return{children:e}}));function Ur(e){var t=e.children,n=e.className,i=e.content,a=s("header",n),u=y(Ur,e),l=v(Ur,e);return r.createElement(l,o({},u,{className:a}),Hn(t)?i:t)}Ur.handledProps=["as","children","className","content"],Ur.propTypes={};const Br=Ur;const qr=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};const zr=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});var Hr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kr=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const Gr=function(e){return(e=Tn(e))&&e.replace(Hr,zr).replace(Kr,"")};var $r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const Qr=function(e){return e.match($r)||[]};var Wr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const Yr=function(e){return Wr.test(e)};var Xr="\\ud800-\\udfff",Jr="\\u2700-\\u27bf",Zr="a-z\\xdf-\\xf6\\xf8-\\xff",ei="A-Z\\xc0-\\xd6\\xd8-\\xde",ti="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ni="["+ti+"]",ri="\\d+",ii="["+Jr+"]",oi="["+Zr+"]",ai="[^"+Xr+ti+ri+Jr+Zr+ei+"]",si="(?:\\ud83c[\\udde6-\\uddff]){2}",ui="[\\ud800-\\udbff][\\udc00-\\udfff]",li="["+ei+"]",ci="(?:"+oi+"|"+ai+")",hi="(?:"+li+"|"+ai+")",di="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",fi="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",pi="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",mi="[\\ufe0e\\ufe0f]?",gi=mi+pi+("(?:\\u200d(?:"+["[^"+Xr+"]",si,ui].join("|")+")"+mi+pi+")*"),yi="(?:"+[ii,si,ui].join("|")+")"+gi,vi=RegExp([li+"?"+oi+"+"+di+"(?="+[ni,li,"$"].join("|")+")",hi+"+"+fi+"(?="+[ni,li+ci,"$"].join("|")+")",li+"?"+ci+"+"+di,li+"+"+fi,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ri,yi].join("|"),"g");const bi=function(e){return e.match(vi)||[]};const wi=function(e,t,n){return e=Tn(e),void 0===(t=n?void 0:t)?Yr(e)?bi(e):Qr(e):e.match(t)||[]};var Ei=RegExp("['\u2019]","g");const Si=function(e){return function(t){return qr(wi(Gr(t).replace(Ei,"")),e,"")}};const Ti=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Zn(e,t,n)};var Ii=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const xi=function(e){return Ii.test(e)};const ki=function(e){return e.split("")};var _i="\\ud800-\\udfff",Ci="["+_i+"]",Ai="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ni="\\ud83c[\\udffb-\\udfff]",Di="[^"+_i+"]",Oi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ri="[\\ud800-\\udbff][\\udc00-\\udfff]",Pi="(?:"+Ai+"|"+Ni+")"+"?",ji="[\\ufe0e\\ufe0f]?",Li=ji+Pi+("(?:\\u200d(?:"+[Di,Oi,Ri].join("|")+")"+ji+Pi+")*"),Mi="(?:"+[Di+Ai+"?",Ai,Oi,Ri,Ci].join("|")+")",Fi=RegExp(Ni+"(?="+Ni+")|"+Mi+Li,"g");const Vi=function(e){return e.match(Fi)||[]};const Ui=function(e){return xi(e)?Vi(e):ki(e)};const Bi=function(e){return function(t){t=Tn(t);var n=xi(t)?Ui(t):void 0,r=n?n[0]:t.charAt(0),i=n?Ti(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase");var qi=Si((function(e,t,n){return e+(n?" ":"")+Bi(t)}));const zi=qi;function Hi(e){var t=e.children,n=e.className,i=e.content,a=e.size,u=s(a,"icons",n),l=y(Hi,e),c=v(Hi,e);return r.createElement(c,o({},l,{className:u}),Hn(t)?i:t)}Hi.handledProps=["as","children","className","content","size"],Hi.propTypes={},Hi.defaultProps={as:"i"};const Ki=Hi;var Gi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():hr(t.props,"onClick",e,t.props)},t}Qn(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return jr(n)?e["aria-hidden"]="true":e["aria-label"]=n,jr(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,i=e.circular,a=e.className,u=e.color,l=e.corner,f=e.disabled,p=e.fitted,m=e.flipped,g=e.inverted,b=e.link,w=e.loading,E=e.name,S=e.rotated,T=e.size,I=s(u,E,T,c(n,"bordered"),c(i,"circular"),c(f,"disabled"),c(p,"fitted"),c(g,"inverted"),c(b,"link"),c(w,"loading"),d(l,"corner"),h(m,"flipped"),h(S,"rotated"),"icon",a),x=y(t,this.props),k=v(t,this.props),_=this.getIconAriaOptions();return r.createElement(k,o({},x,_,{className:I,onClick:this.handleClick}))},t}(r.PureComponent);Gi.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],Gi.propTypes={},Gi.defaultProps={as:"i"},Gi.Group=Ki,Gi.create=Mr(Gi,(function(e){return{name:e}}));const $i=Gi;var Qi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||hr(t.props,"onClick",e,t.props)},t}return Qn(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,u=e.color,l=e.content,h=e.disabled,f=e.fitted,p=e.header,m=e.icon,g=e.link,b=e.name,w=e.onClick,E=e.position,S=s(u,E,c(n,"active"),c(h,"disabled"),c(!0===m||m&&!(b||l),"icon"),c(p,"header"),c(g,"link"),d(f,"fitted"),"item",a),T=v(t,this.props,(function(){if(w)return"a"})),I=y(t,this.props);return Hn(i)?r.createElement(T,o({},I,{className:S,onClick:this.handleClick}),$i.create(m,{autoGenerateKey:!1}),Hn(l)?zi(b):l):r.createElement(T,o({},I,{className:S,onClick:this.handleClick}),i)},t}(r.Component);function Wi(e){var t=e.children,n=e.className,i=e.content,a=e.position,u=s(a,"menu",n),l=y(Wi,e),c=v(Wi,e);return r.createElement(c,o({},l,{className:u}),Hn(t)?i:t)}Qi.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],Qi.propTypes={},Qi.create=Mr(Qi,(function(e){return{content:e,name:e}})),Wi.handledProps=["as","children","className","content","position"],Wi.propTypes={};const Yi=Wi;var Xi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),hr(e,"onClick",n,r),hr(t.props,"onItemClick",n,r)}}},t}Qn(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return Yn(t,(function(t,r){return Qi.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,i=e.borderless,a=e.children,u=e.className,l=e.color,f=e.compact,p=e.fixed,m=e.floated,b=e.fluid,w=e.icon,E=e.inverted,S=e.pagination,T=e.pointing,I=e.secondary,x=e.size,k=e.stackable,_=e.tabular,C=e.text,A=e.vertical,N=e.widths,D=s("ui",l,x,c(i,"borderless"),c(f,"compact"),c(b,"fluid"),c(E,"inverted"),c(S,"pagination"),c(T,"pointing"),c(I,"secondary"),c(k,"stackable"),c(C,"text"),c(A,"vertical"),d(n,"attached"),d(m,"floated"),d(w,"icon"),d(_,"tabular"),h(p,"fixed"),g(N,"item"),u,"menu"),O=y(t,this.props),R=v(t,this.props);return r.createElement(R,o({},O,{className:D}),Hn(a)?this.renderItems():a)},t}(fr);Xi.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],Xi.propTypes={},Xi.autoControlledProps=["activeIndex"],Xi.Header=Br,Xi.Item=Qi,Xi.Menu=Yi,Xi.create=Mr(Xi,(function(e){return{items:e}}));const Ji=Xi;var Zi=/\s/;const eo=function(e){for(var t=e.length;t--&&Zi.test(e.charAt(t)););return t};var to=/^\s+/;const no=function(e){return e?e.slice(0,eo(e)+1).replace(to,""):e};var ro=/^[-+]0x[0-9a-f]+$/i,io=/^0b[01]+$/i,oo=/^0o[0-7]+$/i,ao=parseInt;const so=function(e){if("number"==typeof e)return e;if(ln(e))return NaN;if($(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=no(e);var n=io.test(e);return n||oo.test(e)?ao(e.slice(2),n?2:8):ro.test(e)?NaN:+e};var uo=1/0;const lo=function(e){return e?(e=so(e))===uo||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};const co=function(e){var t=lo(e),n=t%1;return t===t?n?t-n:t:0};const ho=function(e,t){return bn(t,(function(t){return e[t]}))};const fo=function(e){return null==e?[]:ho(e,Dt(e))};var po=Math.max;const mo=function(e,t,n,r){e=Nt(e)?e:fo(e),n=n&&!r?co(n):0;var i=e.length;return n<0&&(n=po(i+n,0)),Rr(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&yr(e,t,n)>-1};const go=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i};const yo=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};const vo=function(e,t){var n=!0;return Un(e,(function(e,r,i){return n=!!t(e,r,i)})),n};const bo=function(e,t,n){var r=Ke(e)?yo:vo;return n&&qn(e,t,n)&&(t=void 0),r(e,Ln(t,3))};const wo=function(e,t,n,r){var i=-1,o=vr,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=bn(t,mt(n))),r?(o=br,a=!1):t.length>=200&&(o=Le,a=!1,t=new je(t));e:for(;++i<s;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h===h){for(var d=l;d--;)if(t[d]===h)continue e;u.push(c)}else o(t,h,r)||u.push(c)}return u};const Eo=function(e){return Ze(e)&&Nt(e)};var So=cr((function(e,t){return Eo(e)?wo(e,t):[]}));const To=So;const Io=function(e){return function(t,n,r){var i=Object(t);if(!Nt(t)){var o=Ln(n,3);t=Dt(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}};var xo=Math.max;const ko=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:co(n);return i<0&&(i=xo(r+i,0)),pr(e,Ln(t,3),i)};const _o=Io(ko);const Co=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:co(t),Zn(e,0,(t=r-t)<0?0:t)):[]};var Ao=Object.prototype.hasOwnProperty;const No=function(e){if(null==e)return!0;if(Nt(e)&&(Ke(e)||"string"==typeof e||"function"==typeof e.splice||lt(e)||Et(e)||it(e)))return!e.length;var t=Yt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(xt(e))return!At(e).length;for(var n in e)if(Ao.call(e,n))return!1;return!0};const Do=Rn("length");var Oo="\\ud800-\\udfff",Ro="["+Oo+"]",Po="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",jo="\\ud83c[\\udffb-\\udfff]",Lo="[^"+Oo+"]",Mo="(?:\\ud83c[\\udde6-\\uddff]){2}",Fo="[\\ud800-\\udbff][\\udc00-\\udfff]",Vo="(?:"+Po+"|"+jo+")"+"?",Uo="[\\ufe0e\\ufe0f]?",Bo=Uo+Vo+("(?:\\u200d(?:"+[Lo,Mo,Fo].join("|")+")"+Uo+Vo+")*"),qo="(?:"+[Lo+Po+"?",Po,Mo,Fo,Ro].join("|")+")",zo=RegExp(jo+"(?="+jo+")|"+qo+Bo,"g");const Ho=function(e){for(var t=zo.lastIndex=0;zo.test(e);)++t;return t};const Ko=function(e){return xi(e)?Ho(e):Do(e)};const Go=function(e){if(null==e)return 0;if(Nt(e))return Rr(e)?Ko(e):e.length;var t=Yt(e);return"[object Map]"==t||"[object Set]"==t?e.size:At(e).length};var $o=M?M.isConcatSpreadable:void 0;const Qo=function(e){return Ke(e)||it(e)||!!($o&&e&&e[$o])};const Wo=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=Qo),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):He(o,u):i||(o[o.length]=u)}return o};var Yo=cr((function(e,t){return Eo(e)?wo(e,Wo(t,1,Eo,!0)):[]}));const Xo=Yo;const Jo=cr((function(e){return Tr(Wo(e,1,Eo,!0))}));const Zo=function(e,t){return nn(e,t)};const ea=function(e,t,n){"__proto__"==t&&or?or(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var ta=Object.prototype.hasOwnProperty;const na=function(e,t,n){var r=e[t];ta.call(e,t)&&E(r,n)&&(void 0!==n||t in e)||ea(e,t,n)};const ra=function(e,t,n,r){if(!$(e))return e;for(var i=-1,o=(t=In(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=xn(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=$(c)?c:ht(t[i+1])?[]:{})}na(s,u,l),s=s[u]}return e};const ia=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=kn(e,a);n(s,a)&&ra(o,In(a,e),s)}return o};const oa=function(e,t){return ia(e,t,(function(t,n){return Nn(e,n)}))};const aa=function(e){return(null==e?0:e.length)?Wo(e,1):[]};const sa=function(e){return lr(rr(e,void 0,aa),e+"")}((function(e,t){return null==e?{}:oa(e,t)}));var ua=n(173),la=n.n(ua);function ca(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var ha=n(86),da=n(950),fa=n.t(da,2),pa=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},ma=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")};var ga=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}Qn(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=da.findDOMNode(this);this.prevNode=e,pa(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=da.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,pa(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&pa(this.props.innerRef,t)},n.componentWillUnmount=function(){pa(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(r.Component),ya=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;pa(r.ref,e),pa(i,e),t.currentNode=e},t}Qn(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&pa(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return r.cloneElement(e,{ref:this.handleRefOverride})},t}(r.Component),va=["children","innerRef"],ba=function(e){var t=e.children,n=e.innerRef,i=ca(e,va),o=r.Children.only(t),a=ha.isForwardRef(o)?ya:ga,s=o&&i&&Object.keys(i).length>0?r.cloneElement(o,i):o;return r.createElement(a,{innerRef:n},s)},wa=n(90),Ea=n.n(wa),Sa=n(324),Ta=n.n(Sa),Ia=Math.max,xa=Math.min;const ka=function(e,t,n){return e>=xa(t,n)&&e<Ia(t,n)};const _a=function(e,t,n){return t=lo(t),void 0===n?(n=t,t=0):n=lo(n),e=so(e),ka(e,t,n)};const Ca=function(e){return e&&e.length?e[0]:void 0};const Aa=function(e,t){if(zn([t,e],jr))return!1;if(t.target&&(hr(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return hr(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(zn([n,r],jr))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var o=Ca(i),a=o.top,s=o.bottom,u=o.left,l=o.right;return!zn([a,s,u,l],jr)&&(_a(r,a,s+.001)&&_a(n,u,l+.001))};const Na=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const Da=function(e){return"function"==typeof e?e:On};const Oa=function(e,t){return(Ke(e)?Na:Un)(e,Da(t))};var Ra=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],Pa=[].concat(Ra,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),ja=["alt","height","src","srcSet","width","loading"],La=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?Pa:r,o=n.includeAria,a=void 0===o||o,s={},u={};return Oa(e,(function(e,t){var n=a&&(/^aria-.*$/.test(t)||"role"===t);(mo(i,t)||n?s:u)[t]=e})),[s,u]},Ma="object"===typeof document&&null!==document,Fa="object"===typeof window&&null!==window&&window.self===window;const Va=function e(){return jr(e.override)?Ma&&Fa:e.override};var Ua=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){pa(t.props.innerRef,e)},t}Qn(t,e);var n=t.prototype;return n.componentDidMount=function(){hr(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){hr(this.props,"onUnmount",null,this.props)},n.render=function(){if(!Va())return null;var e=this.props,t=e.children,n=e.mountNode,i=void 0===n?document.body:n;return(0,da.createPortal)(r.createElement(ba,{innerRef:this.handleRef},t),i)},t}(r.Component);Ua.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],Ua.propTypes={};const Ba=Ua;var qa=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).contentRef=r.createRef(),t.triggerRef=r.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||Aa(t.triggerRef.current,e)||r&&Aa(t.contentRef.current,r)||Aa(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&Ea().getCode(e)===Ea().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];hr.apply(void 0,[r,"props.onBlur",e].concat(a));var u=e.relatedTarget||document.activeElement,l=hr(t.contentRef.current,"contains",u);i&&!l&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,o=n.openOnTriggerClick,a=t.state.open,s=arguments.length,u=new Array(s>1?s-1:0),l=1;l<s;l++)u[l-1]=arguments[l];hr.apply(void 0,[r,"props.onClick",e].concat(u)),a&&i?t.close(e):!a&&o&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];hr.apply(void 0,[r,"props.onFocus",e].concat(a)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,o=n.mouseLeaveDelay,a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];hr.apply(void 0,[r,"props.onMouseLeave",e].concat(s)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,o))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,o=n.openOnTriggerMouseEnter,a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];hr.apply(void 0,[r,"props.onMouseEnter",e].concat(s)),o&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){hr(t.props,"onOpen",e,o({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=o({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),hr(t.props,"onClose",e,o({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=o({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){hr(t.props,"onMount",null,t.props)},t.handleUnmount=function(){hr(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,pa(t.props.triggerRef,e)},t}Qn(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,i=e.mountNode,o=e.trigger,a=this.state.open;return r.createElement(r.Fragment,null,a&&r.createElement(r.Fragment,null,r.createElement(Ba,{innerRef:this.contentRef,mountNode:i,onMount:this.handleMount,onUnmount:this.handleUnmount},t),r.createElement(la(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),r.createElement(la(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),r.createElement(la(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),r.createElement(la(),{name:"click",on:this.handleDocumentClick,pool:n}),r.createElement(la(),{name:"keydown",on:this.handleEscape,pool:n})),o&&r.createElement(ba,{innerRef:this.handleTriggerRef},r.cloneElement(o,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(fr);qa.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],qa.propTypes={},qa.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},qa.autoControlledProps=["open"],qa.Inner=Ba;const za=qa;function Ha(e){var t=e.blurring,n=e.className,i=e.children,a=e.content,u=e.dimmed,l=s(c(t,"blurring"),c(u,"dimmed"),"dimmable",n),h=y(Ha,e),d=v(Ha,e);return r.createElement(d,o({},h,{className:l}),Hn(i)?a:i)}Ha.handledProps=["as","blurring","children","className","content","dimmed"],Ha.propTypes={};const Ka=Ha;var Ga=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).containerRef=(0,r.createRef)(),t.contentRef=(0,r.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;hr(t.props,"onClick",e,t.props),n&&n!==e.target&&Aa(n,e)||hr(t.props,"onClickOutside",e,t.props)},t}Qn(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,u=e.content,l=e.disabled,h=e.inverted,d=e.page,f=e.simple,p=e.verticalAlign,g=s("ui",c(n,"active transition visible"),c(l,"disabled"),c(h,"inverted"),c(d,"page"),c(f,"simple"),m(p),"dimmer",a),b=y(t,this.props),w=v(t,this.props),E=Hn(i)?u:i;return r.createElement(ba,{innerRef:this.containerRef},r.createElement(w,o({},b,{className:g,onClick:this.handleClick}),E&&r.createElement("div",{className:"content",ref:this.contentRef},E)))},t}(r.Component);Ga.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],Ga.propTypes={};var $a=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){Va()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){Va()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return Qn(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.page,a=y(t,this.props);return i?r.createElement(za,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},r.createElement(Ga,o({},a,{active:n,page:i}))):r.createElement(Ga,o({},a,{active:n,page:i}))},t}(r.Component);function Qa(e){var t=e.children,n=e.className,i=e.content,a=e.size,u=s("ui",a,n,"images"),l=y(Qa,e),c=v(Qa,e);return r.createElement(c,o({},l,{className:u}),Hn(t)?i:t)}$a.handledProps=["active","page"],$a.propTypes={},$a.Dimmable=Ka,$a.Inner=Ga,$a.create=Mr($a,(function(e){return{content:e}})),Qa.handledProps=["as","children","className","content","size"],Qa.propTypes={};const Wa=Qa;function Ya(e){var t=e.avatar,n=e.bordered,i=e.centered,a=e.children,u=e.circular,l=e.className,f=e.content,p=e.dimmer,g=e.disabled,b=e.floated,w=e.fluid,E=e.hidden,S=e.href,T=e.inline,I=e.label,x=e.rounded,k=e.size,_=e.spaced,C=e.verticalAlign,A=e.wrapped,N=e.ui,D=s(c(N,"ui"),k,c(t,"avatar"),c(n,"bordered"),c(u,"circular"),c(i,"centered"),c(g,"disabled"),c(w,"fluid"),c(E,"hidden"),c(T,"inline"),c(x,"rounded"),d(_,"spaced"),h(b,"floated"),m(C),"image",l),O=y(Ya,e),R=La(O,{htmlProps:ja}),P=R[0],j=R[1],L=v(Ya,e,(function(){if(!jr(p)||!jr(I)||!jr(A)||!Hn(a))return"div"}));return Hn(a)?Hn(f)?"img"===L?r.createElement(L,o({},j,P,{className:D})):r.createElement(L,o({},j,{className:D,href:S}),$a.create(p,{autoGenerateKey:!1}),ns.create(I,{autoGenerateKey:!1}),r.createElement("img",P)):r.createElement(L,o({},O,{className:D}),f):r.createElement(L,o({},O,{className:D}),a)}Ya.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],Ya.Group=Wa,Ya.propTypes={},Ya.defaultProps={as:"img",ui:!0},Ya.create=Mr(Ya,(function(e){return{src:e}}));const Xa=Ya;function Ja(e){var t=e.children,n=e.className,i=e.content,a=s("detail",n),u=y(Ja,e),l=v(Ja,e);return r.createElement(l,o({},u,{className:a}),Hn(t)?i:t)}Ja.handledProps=["as","children","className","content"],Ja.propTypes={},Ja.create=Mr(Ja,(function(e){return{content:e}}));const Za=Ja;function es(e){var t=e.children,n=e.circular,i=e.className,a=e.color,u=e.content,l=e.size,h=e.tag,d=s("ui",a,l,c(n,"circular"),c(h,"tag"),"labels",i),f=y(es,e),p=v(es,e);return r.createElement(p,o({},f,{className:d}),Hn(t)?u:t)}es.handledProps=["as","children","circular","className","color","content","size","tag"],es.propTypes={};const ts=es;var ns=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){hr(e,"onClick",n),hr(t.props,"onRemove",n,t.props)}}},t}return Qn(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.attached,a=e.basic,u=e.children,l=e.circular,f=e.className,p=e.color,m=e.content,g=e.corner,b=e.detail,w=e.empty,E=e.floating,S=e.horizontal,T=e.icon,I=e.image,x=e.onRemove,k=e.pointing,_=e.prompt,C=e.removeIcon,A=e.ribbon,N=e.size,D=e.tag,O=s("ui",p,(!0===k?"pointing":("left"===k||"right"===k)&&k+" pointing")||("above"===k||"below"===k)&&"pointing "+k,N,c(n,"active"),c(a,"basic"),c(l,"circular"),c(w,"empty"),c(E,"floating"),c(S,"horizontal"),c(!0===I,"image"),c(_,"prompt"),c(D,"tag"),d(g,"corner"),d(A,"ribbon"),h(i,"attached"),"label",f),R=y(t,this.props),P=v(t,this.props);if(!Hn(u))return r.createElement(P,o({},R,{className:O,onClick:this.handleClick}),u);var j=dr(C)?"delete":C;return r.createElement(P,o({className:O,onClick:this.handleClick},R),$i.create(T,{autoGenerateKey:!1}),"boolean"!==typeof I&&Xa.create(I,{autoGenerateKey:!1}),m,Za.create(b,{autoGenerateKey:!1}),x&&$i.create(j,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(r.Component);ns.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],ns.propTypes={},ns.Detail=Za,ns.Group=ts,ns.create=Mr(ns,(function(e){return{content:e}}));var rs=function(e){function t(){return e.apply(this,arguments)||this}return Qn(t,e),t.prototype.render=function(){var e=this.props,n=e.className,i=e.name,a=s(i,"flag",n),u=y(t,this.props),l=v(t,this.props);return r.createElement(l,o({},u,{className:a}))},t}(r.PureComponent);rs.handledProps=["as","className","name"],rs.propTypes={},rs.defaultProps={as:"i"},rs.create=Mr(rs,(function(e){return{name:e}}));const is=rs;function os(e){var t=e.className,n=s("divider",t),i=y(os,e),a=v(os,e);return r.createElement(a,o({},i,{className:n}))}os.handledProps=["as","className"],os.propTypes={};const as=os;var ss=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){hr(t.props,"onClick",e,t.props)},t}return Qn(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,u=e.content,l=e.disabled,h=e.description,d=e.flag,f=e.icon,p=e.image,m=e.label,g=e.selected,b=e.text,w=s(c(n,"active"),c(l,"disabled"),c(g,"selected"),"item",a),E=jr(f)?function(e,t){return zn(r.Children.toArray(e),{type:t})}(i,"DropdownMenu")&&"dropdown":f,S=y(t,this.props),T=v(t,this.props),I={role:"option","aria-disabled":l,"aria-checked":n,"aria-selected":g};if(!Hn(i))return r.createElement(T,o({},S,I,{className:w,onClick:this.handleClick}),i);var x=is.create(d,{autoGenerateKey:!1}),k=$i.create(E,{autoGenerateKey:!1}),_=Xa.create(p,{autoGenerateKey:!1}),C=ns.create(m,{autoGenerateKey:!1}),A=Lr("span",(function(e){return{children:e}}),h,{defaultProps:{className:"description"},autoGenerateKey:!1}),N=Lr("span",(function(e){return{children:e}}),Hn(u)?b:u,{defaultProps:{className:"text"},autoGenerateKey:!1});return r.createElement(T,o({},S,I,{className:w,onClick:this.handleClick}),_,k,x,C,A,N)},t}(r.Component);ss.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],ss.propTypes={},ss.create=Mr(ss,(function(e){return e}));const us=ss;function ls(e){var t=e.children,n=e.className,i=e.content,a=e.icon,u=s("header",n),l=y(ls,e),c=v(ls,e);return Hn(t)?r.createElement(c,o({},l,{className:u}),$i.create(a,{autoGenerateKey:!1}),i):r.createElement(c,o({},l,{className:u}),t)}ls.handledProps=["as","children","className","content","icon"],ls.propTypes={},ls.create=Mr(ls,(function(e){return{content:e}}));const cs=ls;function hs(e){var t=e.children,n=e.className,i=e.content,a=e.direction,u=e.open,l=e.scrolling,h=s(a,c(u,"visible"),c(l,"scrolling"),"menu transition",n),d=y(hs,e),f=v(hs,e);return r.createElement(f,o({},d,{className:h}),Hn(t)?i:t)}hs.handledProps=["as","children","className","content","direction","open","scrolling"],hs.propTypes={};const ds=hs;var fs=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=_n(e,"target.value");hr(t.props,"onChange",e,o({},t.props,{value:n}))},t}return Qn(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,i=e.className,a=e.tabIndex,u=e.type,l=e.value,c=s("search",i),h=y(t,this.props);return r.createElement("input",o({},h,{"aria-autocomplete":"list",autoComplete:n,className:c,onChange:this.handleChange,tabIndex:a,type:u,value:l}))},t}(r.Component);fs.handledProps=["as","autoComplete","className","tabIndex","type","value"],fs.propTypes={},fs.defaultProps={autoComplete:"off",type:"text"},fs.create=Mr(fs,(function(e){return{type:e}}));const ps=fs;function ms(e){var t=e.children,n=e.className,i=e.content,a=s("divider",n),u=y(ms,e),l=v(ms,e);return r.createElement(l,o({"aria-atomic":!0,"aria-live":"polite",role:"alert"},u,{className:a}),Hn(t)?i:t)}ms.handledProps=["as","children","className","content"],ms.propTypes={},ms.create=Mr(ms,(function(e){return{content:e}}));const gs=ms;var ys=/[\\^$.*+?()[\]{}|]/g,vs=RegExp(ys.source);const bs=function(e){return(e=Tn(e))&&vs.test(e)?e.replace(ys,"\\$&"):e};const ws=function(e,t){var n=[];return Un(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};const Es=function(e,t){return(Ke(e)?$e:ws)(e,Ln(t,3))};function Ss(e){var t=e.additionLabel,n=e.additionPosition,i=e.allowAdditions,o=e.deburr,a=e.multiple,s=e.options,u=e.search,l=e.searchQuery,c=e.value,h=s;if(a&&(h=Es(h,(function(e){return!mo(c,e.value)}))),u&&l)if(Q(u))h=u(h,l);else{var d=o?Gr(l):l,f=new RegExp(bs(d),"i");h=Es(h,(function(e){return f.test(o?Gr(e.text):e.text)}))}if(i&&u&&l&&!zn(h,{text:l})){var p={key:"addition",text:[r.isValidElement(t)?r.cloneElement(t,{key:"addition-label"}):t||"",r.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};"top"===n?h.unshift(p):h.push(p)}return h}Ss.handledProps=[];const Ts=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n};const Is=function(e,t,n){var r=Ke(e)?qr:Ts,i=arguments.length<3;return r(e,Ln(t,4),n,i,Un)};function xs(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,o=e.deburr,a=e.multiple,s=e.options,u=e.search,l=e.searchQuery,c=e.selectedIndex,h=e.value,d=Ss({value:h,options:s,searchQuery:l,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:o,multiple:a,search:u}),f=Is(d,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!c||c<0){var p=f[0];t=a?p:ko(d,["value",h])||f[0]}else if(a)t=_o(f,(function(e){return e>=c})),c>=d.length-1&&(t=f[f.length-1]);else{var m=ko(d,["value",h]);t=mo(f,m)?m:void 0}return(!t||t<0)&&(t=f[0]),t}var ks=function(e,t){return jr(e)?t:e},_s=function(e){return e?e.map((function(e){return sa(e,["key","value"])})):e};function Cs(e){var t=e.flag,n=e.image,i=e.text;return Q(i)?i:{content:r.createElement(r.Fragment,null,is.create(t),Xa.create(n),i)}}var As,Ns=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).searchRef=(0,r.createRef)(),t.sizerRef=(0,r.createRef)(),t.ref=(0,r.createRef)(),t.handleChange=function(e,n){hr(t.props,"onChange",e,o({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;(dr(r)?!i:r)&&t.close(e,wr)},t.closeOnEscape=function(e){t.props.closeOnEscape&&Ea().getCode(e)===Ea().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,o=r.selectOnNavigation;if(t.state.open){var a=((n={})[Ea().ArrowDown]=1,n[Ea().ArrowUp]=-1,n)[Ea().getCode(e)];if(void 0!==a){e.preventDefault();var s=t.getSelectedIndexAfterMove(a);!i&&o&&t.makeSelectedItemActive(e,s),t.setState({selectedIndex:s})}}},t.openOnSpace=function(e){var n,r,i,o=t.state.focus&&!t.state.open&&Ea().getCode(e)===Ea().Spacebar,a="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);o&&(a&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var o=Ea().getCode(e);o!==Ea().ArrowDown&&o!==Ea().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,a=r.value,s=t.props.multiple,u=t.getSelectedItem(n),l=_n(u,"value"),c=_n(u,"disabled");if(jr(l)||!i||c)return a;var h=s?Jo(a,[l]):l;return(s?!!Xo(h,a).length:h!==a)&&(t.setState({value:h}),t.handleChange(e,h),u["data-additional"]&&hr(t.props,"onAddItem",e,o({},t.props,{value:l}))),a},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,o=r.selectedIndex;if(i&&(Ea().getCode(e)===Ea().Enter||!n&&Ea().getCode(e)===Ea().Spacebar)){e.preventDefault();var a=Go(Ss({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==a){var s=t.makeSelectedItemActive(e,o);t.setState({selectedIndex:xs({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:o,value:s,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&hr(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,o=t.state,a=o.searchQuery,s=o.value;if(Ea().getCode(e)===Ea().Backspace&&!a&&i&&r&&!No(s)){e.preventDefault();var u=Co(s);t.setState({value:u}),t.handleChange(e,u)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&Aa(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,hr(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,o=t.state,a=o.open,s=o.searchQuery;if(hr(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);a?hr(t.searchRef.current,"focus"):s.length>=r||1===r?t.open(e):hr(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();hr(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,a=r.search,s=t.state.value,u=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var l=n["data-additional"],c=i?Jo(t.state.value,[u]):u;(i?!!Xo(c,s).length:c!==s)&&(t.setState({value:c}),t.handleChange(e,c)),t.clearSearchQuery(),hr(a?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),l&&hr(t.props,"onAddItem",e,o({},t.props,{value:u}))}},t.handleFocus=function(e){t.state.focus||(hr(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=_n(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,o=r.multiple,a=r.selectOnBlur;t.isMouseDown||(hr(t.props,"onBlur",e,t.props),a&&!o&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,a=t.state.open,s=r;hr(t.props,"onSearchChange",e,o({},t.props,{searchQuery:s})),t.setState({searchQuery:s,selectedIndex:0}),!a&&s.length>=i?t.open():a&&1!==i&&s.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),hr(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=Ss({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return _n(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return _o(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,o=e.multiple,a={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===a.role&&(a["aria-multiselectable"]=o),a},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),hr(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=To(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=Ss({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!bo(r,"disabled")){var i=r.length-1,o=n+e;return!t.props.wrapSelection&&(o>i||o<0)?o=n:o>i?o=0:o<0&&(o=i),r[o].disabled?t.getSelectedIndexAfterMove(e,o):o}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:s(n&&t.hasValue()&&"clear",e.className),onClick:function(n){hr(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return jr(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:jr(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){hr(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!No(n):!jr(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,o=n.top-r,a=i<0&&o>i;!a!==!t.state.upward&&t.setState({upward:a})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,o=r.search;i||(o&&hr(t.searchRef.current,"focus"),hr(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(hr(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,o=n.search,a=n.text,u=t.state,l=u.searchQuery,c=u.selectedIndex,h=u.value,d=u.open,f=t.hasValue(),p=s(i&&!f&&"default","text",o&&l&&"filtered"),m=i;return a?m=a:d&&!r?e=t.getSelectedItem(c):f&&(e=t.getItemByValue(h)),gs.create(e?Cs(e):m,{defaultProps:{className:p}})},t.renderSearchInput=function(){var e=t.props,n=e.search,i=e.searchInput,o=t.state.searchQuery;return n&&r.createElement(ba,{innerRef:t.searchRef},ps.create(i,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:o},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,i=e.multiple;return n&&i&&r.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,o=i.selectedLabel,a=i.value;if(n&&!No(a)){var s=Yn(a,t.getItemByValue);return Yn(go(s),(function(e,n){var i={active:e.value===o,as:"a",key:ks(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return ns.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,i=e.multiple,a=e.search,s=e.noResultsMessage,u=t.state,l=u.open,c=u.selectedIndex,h=u.value;if(n&&!l)return null;var d=Ss({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==s&&a&&No(d))return r.createElement("div",{className:"message"},s);var f=i?function(e){return mo(h,e)}:function(e){return e===h};return Yn(d,(function(e,n){return us.create(o({active:f(e.value),selected:c===n},e,{key:ks(e.key,e.value),style:o({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,i=e.direction,a=e.header,u=t.state.open,l=t.getDropdownMenuAriaOptions();if(!Hn(n)){var h=r.Children.only(n),d=s(i,c(u,"visible"),h.props.className);return(0,r.cloneElement)(h,o({className:d},l))}return r.createElement(ds,o({},l,{direction:i,open:u}),cs.create(a,{autoGenerateKey:!1}),t.renderOptions())},t}Qn(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!Ta()(n.__value,t.value)||!Zo(_s(e.options),_s(n.__options)))&&(r.selectedIndex=xs({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!Ta()(e,this.props)||!Ta()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,o=n.openOnFocus,a=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var s=!a||a&&1===i&&!this.state.open;o&&s&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,i=e.button,a=e.className,u=e.compact,l=e.disabled,h=e.error,f=e.fluid,p=e.floating,m=e.icon,g=e.inline,b=e.item,w=e.labeled,E=e.loading,S=e.multiple,T=e.pointing,I=e.search,x=e.selection,k=e.scrolling,_=e.simple,C=e.trigger,A=this.state,N=A.focus,D=A.open,O=A.upward,R=s("ui",c(D,"active visible"),c(l,"disabled"),c(h,"error"),c(E,"loading"),c(n,"basic"),c(i,"button"),c(u,"compact"),c(f,"fluid"),c(p,"floating"),c(g,"inline"),c(w,"labeled"),c(b,"item"),c(S,"multiple"),c(I,"search"),c(x,"selection"),c(_,"simple"),c(k,"scrolling"),c(O,"upward"),d(T,"pointing"),"dropdown",a),P=y(t,this.props),j=v(t,this.props),L=this.getDropdownAriaOptions(j,this.props);return r.createElement(ba,{innerRef:this.ref},r.createElement(j,o({},P,L,{className:R,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),C||this.renderText(),$i.create(m,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),D&&r.createElement(la(),{name:"keydown",on:this.closeOnEscape}),D&&r.createElement(la(),{name:"click",on:this.closeOnDocumentClick}),N&&r.createElement(la(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(fr);function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(this,arguments)}Ns.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],Ns.propTypes={},Ns.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:Cs,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},Ns.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],Ns.Divider=as,Ns.Header=cs,Ns.Item=us,Ns.Menu=ds,Ns.SearchInput=ps,Ns.Text=gs,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(As||(As={}));const Os="popstate";function Rs(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Ps(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Fx){}}}function js(e,t){return{usr:e.state,key:e.key,idx:t}}function Ls(e,t,n,r){return void 0===n&&(n=null),Ds({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Fs(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Ms(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Fs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Vs(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=As.Pop,u=null,l=c();function c(){return(a.state||{idx:null}).idx}function h(){s=As.Pop;let e=c(),t=null==e?null:e-l;l=e,u&&u({action:s,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:Ms(e);return n=n.replace(/ $/,"%20"),Rs(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==l&&(l=0,a.replaceState(Ds({},a.state,{idx:l}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Os,h),u=e,()=>{i.removeEventListener(Os,h),u=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=As.Push;let r=Ls(f.location,e,t);n&&n(r,e),l=c()+1;let h=js(r,l),d=f.createHref(r);try{a.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}o&&u&&u({action:s,location:f.location,delta:1})},replace:function(e,t){s=As.Replace;let r=Ls(f.location,e,t);n&&n(r,e),l=c();let i=js(r,l),h=f.createHref(r);a.replaceState(i,"",h),o&&u&&u({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}var Us;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Us||(Us={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Bs(e,t,n){return void 0===n&&(n="/"),qs(e,t,n,!1)}function qs(e,t,n,r){let i=nu(("string"===typeof t?Fs(t):t).pathname||"/",n);if(null==i)return null;let o=zs(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=tu(i);a=Zs(o[s],e,r)}return a}function zs(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(Rs(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=su([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(Rs(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),zs(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Js(s,e.index),routesMeta:u})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Hs(e.path))i(e,t,r);else i(e,t)})),t}function Hs(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=Hs(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const Ks=/^:[\w-]+$/,Gs=3,$s=2,Qs=1,Ws=10,Ys=-2,Xs=e=>"*"===e;function Js(e,t){let n=e.split("/"),r=n.length;return n.some(Xs)&&(r+=Ys),t&&(r+=$s),n.filter((e=>!Xs(e))).reduce(((e,t)=>e+(Ks.test(t)?Gs:""===t?Qs:Ws)),r)}function Zs(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],u=s===r.length-1,l="/"===o?t:t.slice(o.length)||"/",c=eu({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},l),h=e.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=eu({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:su([o,c.pathname]),pathnameBase:uu(su([o,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(o=su([o,c.pathnameBase]))}return a}function eu(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Ps("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),u=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[n];return e[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),e}),{});return{params:u,pathname:o,pathnameBase:a,pattern:e}}function tu(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Ps(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function nu(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ru(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function iu(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ou(e,t){let n=iu(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function au(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Fs(e):(i=Ds({},e),Rs(!i.pathname||!i.pathname.includes("?"),ru("?","pathname","search",i)),Rs(!i.pathname||!i.pathname.includes("#"),ru("#","pathname","hash",i)),Rs(!i.search||!i.search.includes("#"),ru("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Fs(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:lu(r),hash:cu(i)}}(i,o),l=s&&"/"!==s&&s.endsWith("/"),c=(a||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!l&&!c||(u.pathname+="/"),u}const su=e=>e.join("/").replace(/\/\/+/g,"/"),uu=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lu=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",cu=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function hu(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const du=["post","put","patch","delete"],fu=(new Set(du),["get",...du]);new Set(fu),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pu.apply(this,arguments)}const mu=r.createContext(null);const gu=r.createContext(null);const yu=r.createContext(null);const vu=r.createContext(null);const bu=r.createContext({outlet:null,matches:[],isDataRoute:!1});const wu=r.createContext(null);function Eu(){return null!=r.useContext(vu)}function Su(){return Eu()||Rs(!1),r.useContext(vu).location}function Tu(e){r.useContext(yu).static||r.useLayoutEffect(e)}function Iu(){let{isDataRoute:e}=r.useContext(bu);return e?function(){let{router:e}=ju(Ru.UseNavigateStable),t=Mu(Pu.UseNavigateStable),n=r.useRef(!1);Tu((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,pu({fromRouteId:t},i)))}),[e,t]);return i}():function(){Eu()||Rs(!1);let e=r.useContext(mu),{basename:t,future:n,navigator:i}=r.useContext(yu),{matches:o}=r.useContext(bu),{pathname:a}=Su(),s=JSON.stringify(ou(o,n.v7_relativeSplatPath)),u=r.useRef(!1);Tu((()=>{u.current=!0}));let l=r.useCallback((function(n,r){if(void 0===r&&(r={}),!u.current)return;if("number"===typeof n)return void i.go(n);let o=au(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:su([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[t,i,s,a,e]);return l}()}function xu(){let{matches:e}=r.useContext(bu),t=e[e.length-1];return t?t.params:{}}function ku(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(yu),{matches:o}=r.useContext(bu),{pathname:a}=Su(),s=JSON.stringify(ou(o,i.v7_relativeSplatPath));return r.useMemo((()=>au(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function _u(e,t,n,i){Eu()||Rs(!1);let{navigator:o}=r.useContext(yu),{matches:a}=r.useContext(bu),s=a[a.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,h=Su();if(t){var d;let e="string"===typeof t?Fs(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||Rs(!1),c=e}else c=h;let f=c.pathname||"/",p=f;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=Bs(e,{pathname:p});let g=Ou(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:su([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:su([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,i);return t&&g?r.createElement(vu.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:As.Pop}},g):g}function Cu(){let e=function(){var e;let t=r.useContext(wu),n=Lu(Pu.UseRouteError),i=Mu(Pu.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=hu(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const Au=r.createElement(Cu,null);class Nu extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(bu.Provider,{value:this.props.routeContext},r.createElement(wu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Du(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(mu);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(bu.Provider,{value:t},i)}function Ou(e,t,n,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,u=null==(o=n)?void 0:o.errors;if(null!=u){let e=s.findIndex((e=>e.route.id&&void 0!==(null==u?void 0:u[e.route.id])));e>=0||Rs(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,h=!1,d=null,f=null;var p;n&&(a=u&&i.route.id?u[i.route.id]:void 0,d=i.route.errorElement||Au,l&&(c<0&&0===o?(p="route-fallback",!1||Fu[p]||(Fu[p]=!0),h=!0,f=null):c===o&&(h=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?d:h?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Du,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(Nu,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var Ru=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ru||{}),Pu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pu||{});function ju(e){let t=r.useContext(mu);return t||Rs(!1),t}function Lu(e){let t=r.useContext(gu);return t||Rs(!1),t}function Mu(e){let t=function(){let e=r.useContext(bu);return e||Rs(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||Rs(!1),n.route.id}const Fu={};i.startTransition;function Vu(e){Rs(!1)}function Uu(e){let{basename:t="/",children:n=null,location:i,navigationType:o=As.Pop,navigator:a,static:s=!1,future:u}=e;Eu()&&Rs(!1);let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:a,static:s,future:pu({v7_relativeSplatPath:!1},u)})),[l,u,a,s]);"string"===typeof i&&(i=Fs(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=r.useMemo((()=>{let e=nu(h,l);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:o}}),[l,h,d,f,p,m,o]);return null==g?null:r.createElement(yu.Provider,{value:c},r.createElement(vu.Provider,{children:n,value:g}))}function Bu(e){let{children:t,location:n}=e;return _u(qu(t),n)}new Promise((()=>{}));r.Component;function qu(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,qu(e.props.children,o));e.type!==Vu&&Rs(!1),e.props.index&&e.props.children&&Rs(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=qu(e.props.children,o)),n.push(a)})),n}function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zu.apply(this,arguments)}function Hu(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ku=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Gu=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Fx){}const $u=r.createContext({isTransitioning:!1});new Map;const Qu=i.startTransition;fa.flushSync,i.useId;function Wu(e){let{basename:t,children:n,future:i,window:o}=e,a=r.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),Vs((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Ls("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Ms(t)}),null,s)));let u=a.current,[l,c]=r.useState({action:u.action,location:u.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&Qu?Qu((()=>c(e))):c(e)}),[c,h]);return r.useLayoutEffect((()=>u.listen(d)),[u,d]),r.createElement(Uu,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:u,future:i})}const Yu="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Xu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ju=r.forwardRef((function(e,t){let n,{onClick:i,relative:o,reloadDocument:a,replace:s,state:u,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=Hu(e,Ku),{basename:p}=r.useContext(yu),m=!1;if("string"===typeof c&&Xu.test(c)&&(n=c,Yu))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=nu(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(Fx){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;Eu()||Rs(!1);let{basename:i,navigator:o}=r.useContext(yu),{hash:a,pathname:s,search:u}=ku(e,{relative:n}),l=s;return"/"!==i&&(l="/"===s?i:su([i,s])),o.createHref({pathname:l,search:u,hash:a})}(c,{relative:o}),y=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:u}=void 0===t?{}:t,l=Iu(),c=Su(),h=ku(e,{relative:s});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:Ms(c)===Ms(h);l(e,{replace:n,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:u})}}),[c,l,h,i,o,n,e,a,s,u])}(c,{replace:s,state:u,target:l,preventScrollReset:h,relative:o,unstable_viewTransition:d});return r.createElement("a",zu({},f,{href:n||g,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:l}))}));const Zu=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:u,unstable_viewTransition:l,children:c}=e,h=Hu(e,Gu),d=ku(u,{relative:h.relative}),f=Su(),p=r.useContext(gu),{navigator:m,basename:g}=r.useContext(yu),y=null!=p&&function(e,t){void 0===t&&(t={});let n=r.useContext($u);null==n&&Rs(!1);let{basename:i}=nl(el.useViewTransitionState),o=ku(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=nu(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=nu(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=eu(o.pathname,s)||null!=eu(o.pathname,a)}(d)&&!0===l,v=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,b=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(b=b.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&g&&(w=nu(w,g)||w);const E="/"!==v&&v.endsWith("/")?v.length-1:v.length;let S,T=b===v||!a&&b.startsWith(v)&&"/"===b.charAt(E),I=null!=w&&(w===v||!a&&w.startsWith(v)&&"/"===w.charAt(v.length)),x={isActive:T,isPending:I,isTransitioning:y},k=T?n:void 0;S="function"===typeof o?o(x):[o,T?"active":null,I?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof s?s(x):s;return r.createElement(Ju,zu({},h,{"aria-current":k,className:S,ref:t,style:_,to:u,unstable_viewTransition:l}),"function"===typeof c?c(x):c)}));var el,tl;function nl(e){let t=r.useContext(mu);return t||Rs(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(el||(el={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(tl||(tl={}));var rl=n(579);function il(){Iu();return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(Ji,{color:"blue",widths:6,pointing:!0,secondary:!0,children:[(0,rl.jsx)(Ji.Item,{as:Ju,to:"/maya",children:"Maya"}),(0,rl.jsx)(Ji.Item,{as:Ju,to:"/stock",children:"Stock"}),(0,rl.jsx)(Ji.Item,{as:Ju,to:"/stock2025",children:"Stock2025"}),(0,rl.jsx)(Ns,{text:"Demo",item:!0,children:(0,rl.jsxs)(Ns.Menu,{children:[(0,rl.jsx)(Ns.Item,{as:Ju,to:"/stock-money",children:"StockMoney"}),(0,rl.jsx)(Ns.Item,{as:Ju,to:"/stock-basic",children:"StockBasic"}),(0,rl.jsx)(Ns.Item,{as:Ju,to:"/stock-master",children:"StockMaster"}),(0,rl.jsx)(Ns.Item,{as:Ju,to:"/stock-detail",children:"StockDetail"}),(0,rl.jsx)(Ns.Item,{as:Ju,to:"/demo-master",children:"DemoMaster"}),(0,rl.jsx)(Ns.Item,{as:Ju,to:"/demo-detail",children:"DemoDetail"}),(0,rl.jsx)(Ns.Item,{as:Ju,to:"/demo",children:"Demo"}),(0,rl.jsx)(Ns.Item,{as:Ju,to:"/demo1",children:"Demo1"}),(0,rl.jsx)(Ns.Item,{as:Ju,to:"/demo4",children:"Demo4"}),(0,rl.jsx)(Ns.Item,{as:Ju,to:"/demo5",children:"Demo5"})]})})]})})}function ol(e){var t=e.children,n=e.className,i=e.computer,a=e.color,u=e.floated,l=e.largeScreen,d=e.mobile,b=e.only,w=e.stretched,E=e.tablet,S=e.textAlign,T=e.verticalAlign,I=e.widescreen,x=e.width,k=s(a,c(w,"stretched"),f(b,"only"),p(S),h(u,"floated"),m(T),g(i,"wide computer"),g(l,"wide large screen"),g(d,"wide mobile"),g(E,"wide tablet"),g(I,"wide widescreen"),g(x,"wide"),"column",n),_=y(ol,e),C=v(ol,e);return r.createElement(C,o({},_,{className:k}),t)}ol.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],ol.propTypes={},ol.create=Mr(ol,(function(e){return{children:e}}));const al=ol;function sl(e){var t=e.centered,n=e.children,i=e.className,a=e.color,u=e.columns,l=e.divided,h=e.only,d=e.reversed,b=e.stretched,w=e.textAlign,E=e.verticalAlign,S=s(a,c(t,"centered"),c(l,"divided"),c(b,"stretched"),f(h,"only"),f(d,"reversed"),p(w),m(E),g(u,"column",!0),"row",i),T=y(sl,e),I=v(sl,e);return r.createElement(I,o({},T,{className:S}),n)}sl.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],sl.propTypes={};const ul=sl;function ll(e){var t=e.celled,n=e.centered,i=e.children,a=e.className,u=e.columns,l=e.container,h=e.divided,b=e.doubling,w=e.inverted,E=e.padded,S=e.relaxed,T=e.reversed,I=e.stackable,x=e.stretched,k=e.textAlign,_=e.verticalAlign,C=s("ui",c(n,"centered"),c(l,"container"),c(b,"doubling"),c(w,"inverted"),c(I,"stackable"),c(x,"stretched"),d(t,"celled"),d(h,"divided"),d(E,"padded"),d(S,"relaxed"),f(T,"reversed"),p(k),m(_),g(u,"column",!0),"grid",a),A=y(ll,e),N=v(ll,e);return r.createElement(N,o({},A,{className:C}),i)}ll.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],ll.Column=al,ll.Row=ul,ll.propTypes={};const cl=ll;function hl(e){var t=e.children,n=e.className,i=e.content,a=e.textAlign,u=s(p(a),"description",n),l=y(hl,e),c=v(hl,e);return r.createElement(c,o({},l,{className:u}),Hn(t)?i:t)}hl.handledProps=["as","children","className","content","textAlign"],hl.propTypes={};const dl=hl;function fl(e){var t=e.children,n=e.className,i=e.content,a=e.textAlign,u=s(p(a),"header",n),l=y(fl,e),c=v(fl,e);return r.createElement(c,o({},l,{className:u}),Hn(t)?i:t)}fl.handledProps=["as","children","className","content","textAlign"],fl.propTypes={};const pl=fl;function ml(e){var t=e.children,n=e.className,i=e.content,a=e.textAlign,u=s(p(a),"meta",n),l=y(ml,e),c=v(ml,e);return r.createElement(c,o({},l,{className:u}),Hn(t)?i:t)}ml.handledProps=["as","children","className","content","textAlign"],ml.propTypes={};const gl=ml;function yl(e){var t=e.children,n=e.className,i=e.content,a=e.description,u=e.extra,l=e.header,h=e.meta,d=e.textAlign,f=s(c(u,"extra"),p(d),"content",n),m=y(yl,e),g=v(yl,e);return Hn(t)?Hn(i)?r.createElement(g,o({},m,{className:f}),Lr(pl,(function(e){return{content:e}}),l,{autoGenerateKey:!1}),Lr(gl,(function(e){return{content:e}}),h,{autoGenerateKey:!1}),Lr(dl,(function(e){return{content:e}}),a,{autoGenerateKey:!1})):r.createElement(g,o({},m,{className:f}),i):r.createElement(g,o({},m,{className:f}),t)}yl.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],yl.propTypes={};const vl=yl;function bl(e){var t=e.centered,n=e.children,i=e.className,a=e.content,u=e.doubling,l=e.items,h=e.itemsPerRow,d=e.stackable,f=e.textAlign,m=s("ui",c(t,"centered"),c(u,"doubling"),c(d,"stackable"),p(f),g(h),"cards",i),b=y(bl,e),w=v(bl,e);if(!Hn(n))return r.createElement(w,o({},b,{className:m}),n);if(!Hn(a))return r.createElement(w,o({},b,{className:m}),a);var E=Yn(l,(function(e){var t,n=null!=(t=e.key)?t:[e.header,e.description].join("-");return r.createElement(El,o({key:n},e))}));return r.createElement(w,o({},b,{className:m}),E)}bl.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],bl.propTypes={};const wl=bl;var El=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return Qn(t,e),t.prototype.render=function(){var e=this.props,n=e.centered,i=e.children,a=e.className,u=e.color,l=e.content,h=e.description,d=e.extra,f=e.fluid,p=e.header,m=e.href,g=e.image,b=e.link,w=e.meta,E=e.onClick,S=e.raised,T=s("ui",u,c(n,"centered"),c(f,"fluid"),c(b,"link"),c(S,"raised"),"card",a),I=y(t,this.props),x=v(t,this.props,(function(){if(E)return"a"}));return Hn(i)?Hn(l)?r.createElement(x,o({},I,{className:T,href:m,onClick:this.handleClick}),Xa.create(g,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(h||p||w)&&r.createElement(vl,{description:h,header:p,meta:w}),d&&r.createElement(vl,{extra:!0},d)):r.createElement(x,o({},I,{className:T,href:m,onClick:this.handleClick}),l):r.createElement(x,o({},I,{className:T,href:m,onClick:this.handleClick}),i)},t}(r.Component);function Sl(e){var t=e.children,n=e.className,i=e.content,a=e.hidden,u=e.visible,l=s(c(u,"visible"),c(a,"hidden"),"content",n),h=y(Sl,e),d=v(Sl,e);return r.createElement(d,o({},h,{className:l}),Hn(t)?i:t)}El.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"],El.propTypes={},El.Content=vl,El.Description=dl,El.Group=wl,El.Header=pl,El.Meta=gl,Sl.handledProps=["as","children","className","content","hidden","visible"],Sl.propTypes={};const Tl=Sl;function Il(e){var t=e.attached,n=e.basic,i=e.buttons,a=e.children,u=e.className,l=e.color,f=e.compact,p=e.content,m=e.floated,b=e.fluid,w=e.icon,E=e.inverted,S=e.labeled,T=e.negative,I=e.positive,x=e.primary,k=e.secondary,_=e.size,C=e.toggle,A=e.vertical,N=e.widths,D=s("ui",l,_,c(n,"basic"),c(f,"compact"),c(b,"fluid"),c(w,"icon"),c(E,"inverted"),c(S,"labeled"),c(T,"negative"),c(I,"positive"),c(x,"primary"),c(k,"secondary"),c(C,"toggle"),c(A,"vertical"),d(t,"attached"),h(m,"floated"),g(N),"buttons",u),O=y(Il,e),R=v(Il,e);return jr(i)?r.createElement(R,o({},O,{className:D}),Hn(a)?p:a):r.createElement(R,o({},O,{className:D}),Yn(i,(function(e){return Al.create(e)})))}Il.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],Il.propTypes={};const xl=Il;function kl(e){var t=e.className,n=e.text,i=s("or",t),a=y(kl,e),u=v(kl,e);return r.createElement(u,o({},a,{className:i,"data-text":n}))}kl.handledProps=["as","className","text"],kl.propTypes={};const _l=kl;var Cl=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).ref=(0,r.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!jr(n)||!jr(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return jr(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(e){return hr(t.ref.current,"focus",e)},t.handleClick=function(e){t.props.disabled?e.preventDefault():hr(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,o=e.icon;return!0===o||o&&(n||Hn(r)&&jr(i))},t}Qn(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return jr(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,i=e.animated,a=e.attached,u=e.basic,l=e.children,f=e.circular,p=e.className,m=e.color,g=e.compact,b=e.content,w=e.disabled,E=e.floated,S=e.fluid,T=e.icon,I=e.inverted,x=e.label,k=e.labelPosition,_=e.loading,C=e.negative,A=e.positive,N=e.primary,D=e.secondary,O=e.size,R=e.toggle,P=e.type,j=s(m,O,c(n,"active"),c(u,"basic"),c(f,"circular"),c(g,"compact"),c(S,"fluid"),c(this.hasIconClass(),"icon"),c(I,"inverted"),c(_,"loading"),c(C,"negative"),c(A,"positive"),c(N,"primary"),c(D,"secondary"),c(R,"toggle"),d(i,"animated"),d(a,"attached")),L=s(d(k||!!x,"labeled")),M=s(c(w,"disabled"),h(E,"floated")),F=y(t,this.props),V=v(t,this.props,this.computeElementType),U=this.computeTabIndex(V);if(!jr(x)){var B=s("ui",j,"button",p),q=s("ui",L,"button",p,M),z=ns.create(x,{defaultProps:{basic:!0,pointing:"left"===k?"right":"left"},autoGenerateKey:!1});return r.createElement(V,o({},F,{className:q,onClick:this.handleClick}),"left"===k&&z,r.createElement(ba,{innerRef:this.ref},r.createElement("button",{className:B,"aria-pressed":R?!!n:void 0,disabled:w,type:P,tabIndex:U},$i.create(T,{autoGenerateKey:!1})," ",b)),("right"===k||!k)&&z)}var H=s("ui",j,M,L,"button",p),K=!Hn(l),G=this.computeButtonAriaRole(V);return r.createElement(ba,{innerRef:this.ref},r.createElement(V,o({},F,{className:H,"aria-pressed":R?!!n:void 0,disabled:w&&"button"===V||void 0,onClick:this.handleClick,role:G,type:P,tabIndex:U}),K&&l,!K&&$i.create(T,{autoGenerateKey:!1}),!K&&b))},t}(r.Component);Cl.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Cl.propTypes={},Cl.defaultProps={as:"button"},Cl.Content=Tl,Cl.Group=xl,Cl.Or=_l,Cl.create=Mr(Cl,(function(e){return{content:e}}));const Al=Cl;const Nl=function(e,t,n){return null==e?e:ra(e,t,n)};var Dl=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).inputRef=(0,r.createRef)(),t.labelRef=(0,r.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,o=t.state.checked;return!n&&!i&&!(r&&o)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return jr(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,a=r.indeterminate,s=hr(t.inputRef.current,"contains",e.target),u=hr(t.labelRef.current,"contains",e.target),l=!u&&!s,c=!jr(n);u&&c||hr(t.props,"onClick",e,o({},t.props,{checked:!i,indeterminate:!!a})),t.isClickFromMouse&&(t.isClickFromMouse=!1,u&&!c&&t.handleChange(e),l&&t.handleChange(e),u&&c&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(hr(t.props,"onChange",e,o({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;hr(t.props,"onMouseDown",e,o({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||hr(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,hr(t.props,"onMouseUp",e,o({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;Nl(t.inputRef,"current.indeterminate",!!e)},t}Qn(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,i=e.disabled,a=e.label,u=e.id,l=e.name,h=e.radio,d=e.readOnly,f=e.slider,p=e.toggle,m=e.type,g=e.value,b=this.state,w=b.checked,E=b.indeterminate,S=s("ui",c(w,"checked"),c(i,"disabled"),c(E,"indeterminate"),c(jr(a),"fitted"),c(h,"radio"),c(d,"read-only"),c(f,"slider"),c(p,"toggle"),"checkbox",n),T=y(t,this.props),I=v(t,this.props),x=La(T,{htmlProps:Ra}),k=x[0],_=x[1],C=Vr(a,{defaultProps:{htmlFor:u},autoGenerateKey:!1})||r.createElement("label",{htmlFor:u});return r.createElement(I,o({},_,{className:S,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),r.createElement(ba,{innerRef:this.inputRef},r.createElement("input",o({},k,{checked:w,className:"hidden",disabled:i,id:u,name:l,readOnly:!0,tabIndex:this.computeTabIndex(),type:m,value:g}))),r.createElement(ba,{innerRef:this.labelRef},C))},t}(fr);function Ol(e){var t=e.slider,n=e.toggle,i=e.type,a=y(Ol,e),s=!(t||n)||void 0;return r.createElement(Dl,o({},a,{type:i,radio:s,slider:t,toggle:n}))}Dl.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],Dl.propTypes={},Dl.defaultProps={type:"checkbox"},Dl.autoControlledProps=["checked","indeterminate"],Ol.handledProps=["slider","toggle","type"],Ol.propTypes={},Ol.defaultProps={type:"radio"};const Rl=Ol;function Pl(e){var t=e.children,n=e.className,i=e.content,a=e.control,u=e.disabled,l=e.error,h=e.inline,d=e.label,f=e.required,p=e.type,m=e.width,b=e.id,w=s(c(u,"disabled"),c(l,"error"),c(h,"inline"),c(f,"required"),g(m,"wide"),"field",n),E=y(Pl,e),S=v(Pl,e),T=_n(l,"pointing","above"),I=ns.create(l,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:T,id:b?b+"-error-message":void 0,role:"alert","aria-atomic":!0}}),x=("below"===T||"right"===T)&&I,k=("above"===T||"left"===T)&&I;if(jr(a))return jr(d)?r.createElement(S,o({},E,{className:w,id:b}),Hn(t)?i:t):r.createElement(S,o({},E,{className:w,id:b}),x,Vr(d,{autoGenerateKey:!1}),k);var _={"aria-describedby":b&&l?b+"-error-message":null,"aria-invalid":!!l||void 0},C=o({},E,{content:i,children:t,disabled:u,required:f,type:p,id:b});return"input"!==a||"checkbox"!==p&&"radio"!==p?a===Dl||a===Rl?r.createElement(S,{className:w},x,(0,r.createElement)(a,o({},_,C,{label:d})),k):r.createElement(S,{className:w},Vr(d,{defaultProps:{htmlFor:b},autoGenerateKey:!1}),x,(0,r.createElement)(a,o({},_,C)),k):r.createElement(S,{className:w},r.createElement("label",null,x,(0,r.createElement)(a,o({},_,C))," ",d,k))}Pl.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],Pl.propTypes={};const jl=Pl;function Ll(e){var t=e.control,n=y(Ll,e),i=v(Ll,e);return r.createElement(i,o({},n,{control:t}))}Ll.handledProps=["as","control"],Ll.propTypes={},Ll.defaultProps={as:jl,control:Al};const Ml=Ll;function Fl(e){var t=e.control,n=y(Fl,e),i=v(Fl,e);return r.createElement(i,o({},n,{control:t}))}Fl.handledProps=["as","control"],Fl.propTypes={},Fl.defaultProps={as:jl,control:Dl};const Vl=Fl;function Ul(e){var t=e.control,n=y(Ul,e),i=v(Ul,e);return r.createElement(i,o({},n,{control:t}))}Ul.handledProps=["as","control"],Ul.propTypes={},Ul.defaultProps={as:jl,control:Ns};const Bl=Ul;function ql(e){var t=e.children,n=e.className,i=e.grouped,a=e.inline,u=e.unstackable,l=e.widths,h=s(c(i,"grouped"),c(a,"inline"),c(u,"unstackable"),g(l,null,!0),"fields",n),d=y(ql,e),f=v(ql,e);return r.createElement(f,o({},d,{className:h}),t)}ql.handledProps=["as","children","className","grouped","inline","unstackable","widths"],ql.propTypes={};const zl=ql;var Hl=function(e){function t(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this).inputRef=(0,r.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return jr(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return jr(r)?t?-1:void 0:r},n.focus=function(e){return n.inputRef.current.focus(e)},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=_n(e,"target.value");hr(n.props,"onChange",e,o({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return o({},t,e.props,{ref:function(t){pa(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,a=n.computeTabIndex(),s=y(t,n.props),u=La(s),l=u[0],c=u[1];return[o({},l,{disabled:r,type:i,tabIndex:a,onChange:n.handleChange,ref:n.inputRef}),c]},n}return Qn(t,e),t.prototype.render=function(){var e=this,n=this.props,i=n.action,a=n.actionPosition,u=n.children,l=n.className,d=n.disabled,f=n.error,p=n.fluid,m=n.focus,g=n.icon,y=n.iconPosition,b=n.input,w=n.inverted,E=n.label,S=n.labelPosition,T=n.loading,I=n.size,x=n.transparent,k=n.type,_=s("ui",I,c(d,"disabled"),c(f,"error"),c(p,"fluid"),c(m,"focus"),c(w,"inverted"),c(T,"loading"),c(x,"transparent"),h(a,"action")||c(i,"action"),h(y,"icon")||c(g||T,"icon"),h(S,"labeled")||c(E,"labeled"),"input",l),C=v(t,this.props),A=this.partitionProps(),N=A[0],D=A[1];if(!Hn(u)){var O=Yn(r.Children.toArray(u),(function(t){return"input"!==t.type?t:(0,r.cloneElement)(t,e.handleChildOverrides(t,N))}));return r.createElement(C,o({},D,{className:_}),O)}var R=Al.create(i,{autoGenerateKey:!1}),P=ns.create(E,{defaultProps:{className:s("label",mo(S,"corner")&&S)},autoGenerateKey:!1});return r.createElement(C,o({},D,{className:_}),"left"===a&&R,"right"!==S&&P,Fr(b||k,{defaultProps:N,autoGenerateKey:!1}),$i.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==a&&R,"right"===S&&P)},t}(r.Component);Hl.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],Hl.propTypes={},Hl.defaultProps={type:"text"},Hl.create=Mr(Hl,(function(e){return{type:e}}));const Kl=Hl;function Gl(e){var t=e.control,n=y(Gl,e),i=v(Gl,e);return r.createElement(i,o({},n,{control:t}))}Gl.handledProps=["as","control"],Gl.propTypes={},Gl.defaultProps={as:jl,control:Kl};const $l=Gl;function Ql(e){var t=e.control,n=y(Ql,e),i=v(Ql,e);return r.createElement(i,o({},n,{control:t}))}Ql.handledProps=["as","control"],Ql.propTypes={},Ql.defaultProps={as:jl,control:Rl};const Wl=Ql;function Yl(e){return r.createElement(Ns,o({},e,{selection:!0}))}Yl.handledProps=["options"],Yl.propTypes={},Yl.Divider=Ns.Divider,Yl.Header=Ns.Header,Yl.Item=Ns.Item,Yl.Menu=Ns.Menu;const Xl=Yl;function Jl(e){var t=e.control,n=e.options,i=y(Jl,e),a=v(Jl,e);return r.createElement(a,o({},i,{control:t,options:n}))}Jl.handledProps=["as","control","options"],Jl.propTypes={},Jl.defaultProps={as:jl,control:Xl};const Zl=Jl;var ec=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).ref=(0,r.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=_n(e,"target.value");hr(t.props,"onChange",e,o({},t.props,{value:n}))},t.handleInput=function(e){var n=_n(e,"target.value");hr(t.props,"onInput",e,o({},t.props,{value:n}))},t}return Qn(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,i=e.value,a=y(t,this.props),s=v(t,this.props);return r.createElement(ba,{innerRef:this.ref},r.createElement(s,o({},a,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:i})))},t}(r.Component);ec.handledProps=["as","onChange","onInput","rows","value"],ec.propTypes={},ec.defaultProps={as:"textarea",rows:3};const tc=ec;function nc(e){var t=e.control,n=y(nc,e),i=v(nc,e);return r.createElement(i,o({},n,{control:t}))}nc.handledProps=["as","control"],nc.propTypes={},nc.defaultProps={as:jl,control:tc};const rc=nc;var ic=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&hr(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];hr.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return Qn(t,e),t.prototype.render=function(){var e=this.props,n=e.action,i=e.children,a=e.className,u=e.error,l=e.inverted,h=e.loading,d=e.reply,f=e.size,p=e.success,m=e.unstackable,b=e.warning,w=e.widths,E=s("ui",f,c(u,"error"),c(l,"inverted"),c(h,"loading"),c(d,"reply"),c(p,"success"),c(m,"unstackable"),c(b,"warning"),g(w,null,!0),"form",a),S=y(t,this.props),T=v(t,this.props);return r.createElement(T,o({},S,{action:n,className:E,onSubmit:this.handleSubmit}),i)},t}(r.Component);ic.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],ic.propTypes={},ic.defaultProps={as:"form"},ic.Field=jl,ic.Button=Ml,ic.Checkbox=Vl,ic.Dropdown=Bl,ic.Group=zl,ic.Input=$l,ic.Radio=Wl,ic.Select=Zl,ic.TextArea=rc;const oc=ic;var ac=function(){return ac=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ac.apply(this,arguments)};Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var sc=function(e,t){return sc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},sc(e,t)};function uc(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}sc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var lc=function(){return lc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lc.apply(this,arguments)};Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var cc=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},hc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,d=(15&s)<<2|l>>6,f=63&l;u||(f=64,a||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cc(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},dc=function(e){return function(e){var t=cc(e);return hc.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function fc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=fc(e[n],t[n]));return e}var pc=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function mc(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function gc(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Fx){return!1}}var yc=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,vc.prototype.create),o}return uc(t,e),t}(Error),vc=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(bc,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new yc(i,s,r)},e}();var bc=/\{\$([^}]+)}/g;function wc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function Ec(e,t){var n=new Sc(e,t);return n.subscribe.bind(n)}var Sc=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Tc),void 0===r.error&&(r.error=Tc),void 0===r.complete&&(r.complete=Tc);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Fx){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Fx){"undefined"!==typeof console&&console.error&&console.error(Fx)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Tc(){}function Ic(e){return e&&e._delegate?e._delegate:e}function xc(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Fx){o(Fx)}}function s(e){try{u(r.throw(e))}catch(Fx){o(Fx)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function kc(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Fx){s=[6,Fx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function _c(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cc(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ac(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Nc=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Dc="[DEFAULT]",Oc=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pc;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Fx){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Fx){if(r)return null;throw Fx}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dc})}catch(Fx){}try{for(var r=_c(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Cc(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService({instanceIdentifier:u});s.resolve(l)}catch(Fx){}}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Dc),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return xc(this,void 0,void 0,(function(){var e;return kc(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ac(Ac([],Cc(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Cc(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Dc),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=Dc),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=_c(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var l=Cc(u.value,2),c=l[0],h=l[1];o===this.normalizeInstanceIdentifier(c)&&h.resolve(a)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=_c(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Dc?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(vx){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Dc),this.component?this.component.multipleInstances?e:Dc:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var Rc,Pc=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Oc(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function jc(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Lc,Mc=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Lc||(Lc={}));var Fc,Vc={debug:Lc.DEBUG,verbose:Lc.VERBOSE,info:Lc.INFO,warn:Lc.WARN,error:Lc.ERROR,silent:Lc.SILENT},Uc=Lc.INFO,Bc=((Rc={})[Lc.DEBUG]="log",Rc[Lc.VERBOSE]="log",Rc[Lc.INFO]="info",Rc[Lc.WARN]="warn",Rc[Lc.ERROR]="error",Rc),qc=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Bc[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,jc(["["+i+"]  "+e.name+":"],n))}},zc=function(){function e(e){this.name=e,this._logLevel=Uc,this._logHandler=qc,this._userLogHandler=null,Mc.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Lc))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?Vc[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,jc([this,Lc.DEBUG],e)),this._logHandler.apply(this,jc([this,Lc.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,jc([this,Lc.VERBOSE],e)),this._logHandler.apply(this,jc([this,Lc.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,jc([this,Lc.INFO],e)),this._logHandler.apply(this,jc([this,Lc.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,jc([this,Lc.WARN],e)),this._logHandler.apply(this,jc([this,Lc.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,jc([this,Lc.ERROR],e)),this._logHandler.apply(this,jc([this,Lc.ERROR],e))},e}();function Hc(e){Mc.forEach((function(t){t.setLogLevel(e)}))}var Kc,Gc=((Fc={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Fc["bad-app-name"]="Illegal App name: '{$appName}",Fc["duplicate-app"]="Firebase App named '{$appName}' already exists",Fc["app-deleted"]="Firebase App named '{$appName}' already deleted",Fc["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Fc["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Fc),$c=new vc("app","Firebase",Gc),Qc="@firebase/app",Wc="[DEFAULT]",Yc=((Kc={})[Qc]="fire-core",Kc["@firebase/analytics"]="fire-analytics",Kc["@firebase/app-check"]="fire-app-check",Kc["@firebase/auth"]="fire-auth",Kc["@firebase/database"]="fire-rtdb",Kc["@firebase/functions"]="fire-fn",Kc["@firebase/installations"]="fire-iid",Kc["@firebase/messaging"]="fire-fcm",Kc["@firebase/performance"]="fire-perf",Kc["@firebase/remote-config"]="fire-rc",Kc["@firebase/storage"]="fire-gcs",Kc["@firebase/firestore"]="fire-fst",Kc["fire-js"]="fire-js",Kc["firebase-wrapper"]="fire-js-all",Kc),Xc=new zc("@firebase/app"),Jc=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=fc(void 0,e),this.container=new Pc(t.name),this._addComponent(new Nc("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=Wc),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=Wc),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(Fx){Xc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,Fx)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw $c.create("app-deleted",{appName:this.name_})},e}();Jc.prototype.name&&Jc.prototype.options||Jc.prototype.delete||console.log("dc");var Zc="8.10.0";function eh(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=Wc);var a=o.name;if("string"!==typeof a||!a)throw $c.create("bad-app-name",{appName:String(a)});if(wc(t,a))throw $c.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Yc[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Xc.warn(u.join(" "))}o(new Nc(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Hc,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw $c.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Vc[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Lc[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=Mc;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:Zc,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!wc(t,e=e||Wc))throw $c.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Xc.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw $c.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&fc(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,l=Object.keys(t);u<l.length;u++){var c=l[u];t[c]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var th=function e(){var t=eh(Jc);return t.INTERNAL=ac(ac({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){fc(t,e)},createSubscribe:Ec,ErrorFactory:vc,deepExtend:fc}),t}(),nh=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Xc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var rh=self.firebase.SDK_VERSION;rh&&rh.indexOf("LITE")>=0&&Xc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ih=th.initializeApp;th.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gc()&&Xc.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ih.apply(void 0,e)};var oh=th;!function(e,t){e.INTERNAL.registerComponent(new Nc("platform-logger",(function(e){return new nh(e)}),"PRIVATE")),e.registerVersion(Qc,"0.6.30",t),e.registerVersion("fire-js","")}(oh);const ah=oh;var sh="8.10.1";ah.registerVersion("firebase",sh,"app"),ah.SDK_VERSION=sh;var uh=function(e,t){return uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},uh(e,t)};function lh(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}uh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function ch(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Fx){o(Fx)}}function s(e){try{u(r.throw(e))}catch(Fx){o(Fx)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function hh(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Fx){s=[6,Fx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function dh(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var fh=function(e,t){return fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},fh(e,t)};function ph(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var mh,gh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},yh=yh||{},vh=gh||self;function bh(){}function wh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Eh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Sh="closure_uid_"+(1e9*Math.random()>>>0),Th=0;function Ih(e,t,n){return e.call.apply(e.bind,arguments)}function xh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function kh(e,t,n){return(kh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ih:xh).apply(null,arguments)}function _h(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ch(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ah(){this.s=this.s,this.o=this.o}var Nh={};Ah.prototype.s=!1,Ah.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Sh)&&e[Sh]||(e[Sh]=++Th)}(this);delete Nh[e]}},Ah.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Dh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Oh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Rh(e){return Array.prototype.concat.apply([],arguments)}function Ph(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function jh(e){return/^[\s\xa0]*$/.test(e)}var Lh,Mh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Fh(e,t){return-1!=e.indexOf(t)}function Vh(e,t){return e<t?-1:e>t?1:0}e:{var Uh=vh.navigator;if(Uh){var Bh=Uh.userAgent;if(Bh){Lh=Bh;break e}}Lh=""}function qh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function zh(e){var t={};for(var n in e)t[n]=e[n];return t}var Hh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Hh.length;o++)n=Hh[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Gh(e){return Gh[" "](e),e}Gh[" "]=bh;var $h,Qh=Fh(Lh,"Opera"),Wh=Fh(Lh,"Trident")||Fh(Lh,"MSIE"),Yh=Fh(Lh,"Edge"),Xh=Yh||Wh,Jh=Fh(Lh,"Gecko")&&!(Fh(Lh.toLowerCase(),"webkit")&&!Fh(Lh,"Edge"))&&!(Fh(Lh,"Trident")||Fh(Lh,"MSIE"))&&!Fh(Lh,"Edge"),Zh=Fh(Lh.toLowerCase(),"webkit")&&!Fh(Lh,"Edge");function ed(){var e=vh.document;return e?e.documentMode:void 0}e:{var td="",nd=function(){var e=Lh;return Jh?/rv:([^\);]+)(\)|;)/.exec(e):Yh?/Edge\/([\d\.]+)/.exec(e):Wh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zh?/WebKit\/(\S+)/.exec(e):Qh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nd&&(td=nd?nd[1]:""),Wh){var rd=ed();if(null!=rd&&rd>parseFloat(td)){$h=String(rd);break e}}$h=td}var id,od={};function ad(){return function(e){var t=od;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Mh(String($h)).split("."),n=Mh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Vh(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Vh(0==o[2].length,0==a[2].length)||Vh(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(vh.document&&Wh){var sd=ed();id=sd||(parseInt($h,10)||void 0)}else id=void 0;var ud=id,ld=function(){if(!vh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vh.addEventListener("test",bh,t),vh.removeEventListener("test",bh,t)}catch(n){}return e}();function cd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function hd(e,t){if(cd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Jh){e:{try{Gh(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:dd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hd.Z.h.call(this)}}cd.prototype.h=function(){this.defaultPrevented=!0},Ch(hd,cd);var dd={2:"touch",3:"pen",4:"mouse"};hd.prototype.h=function(){hd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fd="closure_listenable_"+(1e6*Math.random()|0),pd=0;function md(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++pd,this.ca=this.fa=!1}function gd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function yd(e){this.src=e,this.g={},this.h=0}function vd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Dh(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bd(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}yd.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=bd(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new md(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var wd="closure_lm_"+(1e6*Math.random()|0),Ed={};function Sd(e,t,n,r,i){if(r&&r.once)return Id(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Sd(e,t[o],n,r,i);return null}return n=Dd(n),e&&e[fd]?e.N(t,n,Eh(r)?!!r.capture:!!r,i):Td(e,t,n,!1,r,i)}function Td(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Eh(i)?!!i.capture:!!i,s=Ad(e);if(s||(e[wd]=s=new yd(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Cd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ld||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_d(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Id(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Id(e,t[o],n,r,i);return null}return n=Dd(n),e&&e[fd]?e.O(t,n,Eh(r)?!!r.capture:!!r,i):Td(e,t,n,!0,r,i)}function xd(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)xd(e,t[o],n,r,i);else r=Eh(r)?!!r.capture:!!r,n=Dd(n),e&&e[fd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bd(o=e.g[t],n,r,i))&&(gd(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ad(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bd(t,n,r,i)),(n=-1<e?t[e]:null)&&kd(n))}function kd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[fd])vd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_d(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ad(t))?(vd(n,e),0==n.h&&(n.src=null,t[wd]=null)):gd(e)}}}function _d(e){return e in Ed?Ed[e]:Ed[e]="on"+e}function Cd(e,t){if(e.ca)e=!0;else{t=new hd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&kd(e),e=n.call(r,t)}return e}function Ad(e){return(e=e[wd])instanceof yd?e:null}var Nd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dd(e){return"function"===typeof e?e:(e[Nd]||(e[Nd]=function(t){return e.handleEvent(t)}),e[Nd])}function Od(){Ah.call(this),this.i=new yd(this),this.P=this,this.I=null}function Rd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new cd(t,e);else if(t instanceof cd)t.target=t.target||e;else{var i=t;Kh(t=new cd(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Pd(a,r,!0,t)&&i}if(i=Pd(a=t.g=e,r,!0,t)&&i,i=Pd(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Pd(a=t.g=n[o],r,!1,t)&&i}function Pd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&vd(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ch(Od,Ah),Od.prototype[fd]=!0,Od.prototype.removeEventListener=function(e,t,n,r){xd(this,e,t,n,r)},Od.prototype.M=function(){if(Od.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gd(n[r]);delete t.g[e],t.h--}}this.I=null},Od.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Od.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var jd=vh.JSON.stringify;function Ld(){var e=Hd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Md,Fd=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Vd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Vd=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Ud}),(function(e){return e.reset()})),Ud=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Bd(e){vh.setTimeout((function(){throw e}),0)}function qd(e,t){Md||function(){var e=vh.Promise.resolve(void 0);Md=function(){e.then(Kd)}}(),zd||(Md(),zd=!0),Hd.add(e,t)}var zd=!1,Hd=new Fd;function Kd(){for(var e;e=Ld();){try{e.h.call(e.g)}catch(n){Bd(n)}var t=Vd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zd=!1}function Gd(e,t){Od.call(this),this.h=e||1,this.g=t||vh,this.j=kh(this.kb,this),this.l=Date.now()}function $d(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Qd(e,t,n){if("function"===typeof e)n&&(e=kh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=kh(e.handleEvent,e)}return 2147483647<Number(t)?-1:vh.setTimeout(e,t||0)}function Wd(e){e.g=Qd((function(){e.g=null,e.i&&(e.i=!1,Wd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ch(Gd,Od),(mh=Gd.prototype).da=!1,mh.S=null,mh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rd(this,"tick"),this.da&&($d(this),this.start()))}},mh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mh.M=function(){Gd.Z.M.call(this),$d(this),delete this.g};var Yd=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}fh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Wd(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(vh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ah);function Xd(e){Ah.call(this),this.h=e,this.g={}}Ch(Xd,Ah);var Jd=[];function Zd(e,t,n,r){Array.isArray(n)||(n&&(Jd[0]=n.toString()),n=Jd);for(var i=0;i<n.length;i++){var o=Sd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ef(e){qh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&kd(e)}),e),e.g={}}function tf(){this.g=!0}function nf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return jd(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Xd.prototype.M=function(){Xd.Z.M.call(this),ef(this)},Xd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tf.prototype.Aa=function(){this.g=!1},tf.prototype.info=function(){};var rf={},of=null;function af(){return of=of||new Od}function sf(e){cd.call(this,rf.Ma,e)}function uf(e){var t=af();Rd(t,new sf(t,e))}function lf(e,t){cd.call(this,rf.STAT_EVENT,e),this.stat=t}function cf(e){var t=af();Rd(t,new lf(t,e))}function hf(e,t){cd.call(this,rf.Na,e),this.size=t}function df(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vh.setTimeout((function(){e()}),t)}rf.Ma="serverreachability",Ch(sf,cd),rf.STAT_EVENT="statevent",Ch(lf,cd),rf.Na="timingevent",Ch(hf,cd);var ff={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mf(){}function gf(e){return e.h||(e.h=e.i())}function yf(){}mf.prototype.h=null;var vf,bf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wf(){cd.call(this,"d")}function Ef(){cd.call(this,"c")}function Sf(){}function Tf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Xd(this),this.P=xf,e=Xh?125:void 0,this.W=new Gd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new If}function If(){this.i=null,this.g="",this.h=!1}Ch(wf,cd),Ch(Ef,cd),Ch(Sf,mf),Sf.prototype.g=function(){return new XMLHttpRequest},Sf.prototype.i=function(){return{}},vf=new Sf;var xf=45e3,kf={},_f={};function Cf(e,t,n){e.K=1,e.v=Xf(Kf(t)),e.s=n,e.U=!0,Af(e,null)}function Af(e,t){e.F=Date.now(),Rf(e),e.A=Kf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),cp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new If,e.g=dm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Yd(kh(e.Ia,e,e.g),e.O)),Zd(e.V,e.g,"readystatechange",e.gb),t=e.H?zh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),uf(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Nf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Df(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Of(e,n))==_f){4==t&&(e.o=4,cf(14),i=!1),nf(e.j,e.m,null,"[Incomplete Response]");break}if(r==kf){e.o=4,cf(15),nf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}nf(e.j,e.m,r,null),Ff(e,r)}Nf(e)&&r!=_f&&r!=kf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,cf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),im(t),t.L=!0,cf(11))):(nf(e.j,e.m,n,"[Invalid Chunked Response]"),Mf(e),Lf(e))}function Of(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_f:(n=Number(t.substring(n,r)),isNaN(n)?kf:(r+=1)+n>t.length?_f:(t=t.substr(r,n),e.C=r+n,t))}function Rf(e){e.Y=Date.now()+e.P,Pf(e,e.P)}function Pf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=df(kh(e.eb,e),t)}function jf(e){e.B&&(vh.clearTimeout(e.B),e.B=null)}function Lf(e){0==e.l.G||e.I||sm(e.l,e)}function Mf(e){jf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,$d(e.W),ef(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ff(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||vp(n.i,e)))if(n.I=e.N,!e.J&&vp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;am(n),Wp(n)}rm(n),cf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=df(kh(n.ab,n),6e3));if(1>=yp(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else lm(n,11)}else if((e.J||n.g==e)&&am(n),!jh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(Fh(c,"spdy")||Fh(c,"quic")||Fh(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(bp(h,h.h),h.h=null))}if(r.D){var d=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Yf(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=hm(r,r.H?r.la:null,r.W),f.J){wp(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(jf(p),Rf(p)),r.g=f}else nm(r);0<n.l.length&&Jp(n)}else"stop"!=o[0]&&"close"!=o[0]||lm(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?lm(n,7):Qp(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}uf(4)}catch(o){}}function Vf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(wh(e)||"string"===typeof e)Oh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(wh(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(wh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Uf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Uf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Bf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];qf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)qf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function qf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(mh=Tf.prototype).setTimeout=function(e){this.P=e},mh.gb=function(e){e=e.target;var t=this.L;t&&3==zp(e)?t.l():this.Ia(e)},mh.Ia=function(e){try{if(e==this.g)e:{var t=zp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Xh||this.g&&(this.h.h||this.g.ga()||Hp(this.g)))){this.I||4!=t||7==n||uf(8==n||0>=r?3:2),jf(this);var i=this.g.ba();this.N=i;t:if(Nf(this)){var o=Hp(this.g);e="";var a=o.length,s=4==zp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Mf(this),Lf(this);var u="";break t}this.h.i=new vh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jh(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,cf(12),Mf(this),Lf(this);break e}nf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ff(this,i)}this.U?(Df(this,t,u),Xh&&this.i&&3==t&&(Zd(this.V,this.W,"tick",this.fb),this.W.start())):(nf(this.j,this.m,u,null),Ff(this,u)),4==t&&Mf(this),this.i&&!this.I&&(4==t?sm(this.l,this):(this.i=!1,Rf(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,cf(12)):(this.o=0,cf(13)),Mf(this),Lf(this)}}}catch(t){}},mh.fb=function(){if(this.g){var e=zp(this.g),t=this.g.ga();this.C<t.length&&(jf(this),Df(this,e,t),this.i&&4!=e&&Rf(this))}},mh.cancel=function(){this.I=!0,Mf(this)},mh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(uf(3),cf(17)),Mf(this),this.o=2,Lf(this)):Pf(this,this.Y-e)},(mh=Uf.prototype).R=function(){Bf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},mh.T=function(){return Bf(this),this.g.concat()},mh.get=function(e,t){return qf(this.h,e)?this.h[e]:t},mh.set=function(e,t){qf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},mh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var zf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hf(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Hf){this.g=void 0!==t?t:e.g,Gf(this,e.j),this.s=e.s,$f(this,e.i),Qf(this,e.m),this.l=e.l,t=e.h;var n=new ap;n.i=t.i,t.g&&(n.g=new Uf(t.g),n.h=t.h),Wf(this,n),this.o=e.o}else e&&(n=String(e).match(zf))?(this.g=!!t,Gf(this,n[1]||"",!0),this.s=Jf(n[2]||""),$f(this,n[3]||"",!0),Qf(this,n[4]),this.l=Jf(n[5]||"",!0),Wf(this,n[6]||"",!0),this.o=Jf(n[7]||"")):(this.g=!!t,this.h=new ap(null,this.g))}function Kf(e){return new Hf(e)}function Gf(e,t,n){e.j=n?Jf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $f(e,t,n){e.i=n?Jf(t,!0):t}function Qf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wf(e,t,n){t instanceof ap?(e.h=t,function(e,t){t&&!e.j&&(sp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(up(this,t),cp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Zf(t,ip)),e.h=new ap(t,e.g))}function Yf(e,t,n){e.h.set(t,n)}function Xf(e){return Yf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Jf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ep),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ep(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Hf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zf(t,tp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zf(t,tp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zf(n,"/"==n.charAt(0)?rp:np,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zf(n,op)),e.join("")};var tp=/[#\/\?@]/g,np=/[#\?:]/g,rp=/[#\?]/g,ip=/[#\?@]/g,op=/#/g;function ap(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sp(e){e.g||(e.g=new Uf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function up(e,t){sp(e),t=hp(e,t),qf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,qf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Bf(e)))}function lp(e,t){return sp(e),t=hp(e,t),qf(e.g.h,t)}function cp(e,t,n){up(e,t),0<n.length&&(e.i=null,e.g.set(hp(e,t),Ph(n)),e.h+=n.length)}function hp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(mh=ap.prototype).add=function(e,t){sp(this),this.i=null,e=hp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},mh.forEach=function(e,t){sp(this),this.g.forEach((function(n,r){Oh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},mh.T=function(){sp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},mh.R=function(e){sp(this);var t=[];if("string"===typeof e)lp(this,e)&&(t=Rh(t,this.g.get(hp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Rh(t,e[n])}return t},mh.set=function(e,t){return sp(this),this.i=null,lp(this,e=hp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},mh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},mh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var dp=function(e,t){this.h=e,this.g=t};function fp(e){this.l=e||mp,vh.PerformanceNavigationTiming?e=0<(e=vh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vh.g&&vh.g.Ea&&vh.g.Ea()&&vh.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pp,mp=10;function gp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function yp(e){return e.h?1:e.g?e.g.size:0}function vp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function bp(e,t){e.g?e.g.add(t):e.h=t}function wp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ep(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=ph(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ph(e.i)}function Sp(){}function Tp(){this.g=new Sp}function Ip(e,t,n){var r=n||"";try{Vf(e,(function(e,n){var i=e;Eh(e)&&(i=jd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Fx){throw t.push(r+"type="+encodeURIComponent("_badmap")),Fx}}function xp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function kp(e){this.l=e.$b||null,this.j=e.ib||!1}function _p(e,t){Od.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Cp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fp.prototype.cancel=function(){var e,t;if(this.i=Ep(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ph(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Sp.prototype.stringify=function(e){return vh.JSON.stringify(e,void 0)},Sp.prototype.parse=function(e){return vh.JSON.parse(e,void 0)},Ch(kp,mf),kp.prototype.g=function(){return new _p(this.l,this.j)},kp.prototype.i=(pp={},function(){return pp}),Ch(_p,Od);var Cp=0;function Ap(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Np(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Dp(e)}function Dp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(mh=_p.prototype).open=function(e,t){if(this.readyState!=Cp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Dp(this)},mh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||vh).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},mh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Np(this)),this.readyState=Cp},mh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dp(this)),this.g&&(this.readyState=3,Dp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof vh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ap(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},mh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Np(this):Dp(this),3==this.readyState&&Ap(this)}},mh.Ua=function(e){this.g&&(this.response=this.responseText=e,Np(this))},mh.Ta=function(e){this.g&&(this.response=e,Np(this))},mh.ha=function(){this.g&&Np(this)},mh.setRequestHeader=function(e,t){this.v.append(e,t)},mh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},mh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Op=vh.JSON.parse;function Rp(e){Od.call(this),this.headers=new Uf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pp,this.K=this.L=!1}Ch(Rp,Od);var Pp="",jp=/^https?$/i,Lp=["POST","PUT"];function Mp(e){return"content-type"==e.toLowerCase()}function Fp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vp(e),Bp(e)}function Vp(e){e.D||(e.D=!0,Rd(e,"complete"),Rd(e,"error"))}function Up(e){if(e.h&&"undefined"!=typeof yh&&(!e.C[1]||4!=zp(e)||2!=e.ba()))if(e.v&&4==zp(e))Qd(e.Fa,0,e);else if(Rd(e,"readystatechange"),4==zp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(zf)[1]||null;if(!o&&vh.self&&vh.self.location){var a=vh.self.location.protocol;o=a.substr(0,a.length-1)}i=!jp.test(o?o.toLowerCase():"")}t=i}if(t)Rd(e,"complete"),Rd(e,"success");else{e.m=6;try{var s=2<zp(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Vp(e)}}finally{Bp(e)}}}function Bp(e,t){if(e.g){qp(e);var n=e.g,r=e.C[0]?bh:null;e.g=null,e.C=null,t||Rd(e,"ready");try{n.onreadystatechange=r}catch(Fx){}}}function qp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(vh.clearTimeout(e.A),e.A=null)}function zp(e){return e.g?e.g.readyState:0}function Hp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Pp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(hM){return null}}function Kp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return qh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Yf(e,t,n))}function Gp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $p(e){this.za=0,this.l=[],this.h=new tf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gp("baseRetryDelayMs",5e3,e),this.$a=Gp("retryDelaySeedMs",1e4,e),this.Ya=Gp("forwardChannelMaxRetries",2,e),this.ra=Gp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new fp(e&&e.concurrentRequestLimit),this.Ca=new Tp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Qp(e){if(Yp(e),3==e.G){var t=e.V++,n=Kf(e.F);Yf(n,"SID",e.J),Yf(n,"RID",t),Yf(n,"TYPE","terminate"),em(e,n),(t=new Tf(e,e.h,t,void 0)).K=2,t.v=Xf(Kf(n)),n=!1,vh.navigator&&vh.navigator.sendBeacon&&(n=vh.navigator.sendBeacon(t.v.toString(),"")),!n&&vh.Image&&((new Image).src=t.v,n=!0),n||(t.g=dm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Rf(t)}cm(e)}function Wp(e){e.g&&(im(e),e.g.cancel(),e.g=null)}function Yp(e){Wp(e),e.u&&(vh.clearTimeout(e.u),e.u=null),am(e),e.i.cancel(),e.m&&("number"===typeof e.m&&vh.clearTimeout(e.m),e.m=null)}function Xp(e,t){e.l.push(new dp(e.Za++,t)),3==e.G&&Jp(e)}function Jp(e){gp(e.i)||e.m||(e.m=!0,qd(e.Ha,e),e.C=0)}function Zp(e,t){var n;n=t?t.m:e.V++;var r=Kf(e.F);Yf(r,"SID",e.J),Yf(r,"RID",n),Yf(r,"AID",e.U),em(e,r),e.o&&e.s&&Kp(r,e.o,e.s),n=new Tf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=tm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),bp(e.i,n),Cf(n,r,t)}function em(e,t){e.j&&Vf({},(function(e,n){Yf(t,n,e)}))}function tm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?kh(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Ip(c,a,"req"+l+"_")}catch($m){r&&r(c)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function nm(e){e.g||e.u||(e.Y=1,qd(e.Ga,e),e.A=0)}function rm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=df(kh(e.Ga,e),um(e,e.A)),e.A++,!0)}function im(e){null!=e.B&&(vh.clearTimeout(e.B),e.B=null)}function om(e){e.g=new Tf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Kf(e.oa);Yf(t,"RID","rpc"),Yf(t,"SID",e.J),Yf(t,"CI",e.N?"0":"1"),Yf(t,"AID",e.U),em(e,t),Yf(t,"TYPE","xmlhttp"),e.o&&e.s&&Kp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Xf(Kf(t)),n.s=null,n.U=!0,Af(n,e)}function am(e){null!=e.v&&(vh.clearTimeout(e.v),e.v=null)}function sm(e,t){var n=null;if(e.g==t){am(e),im(e),e.g=null;var r=2}else{if(!vp(e.i,t))return;n=t.D,wp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Rd(r=af(),new hf(r,n,t,i)),Jp(e)}else nm(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(yp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=df(kh(e.Ha,e,t),um(e,e.C)),e.C++,!0))}(e,t)||2==r&&rm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:lm(e,5);break;case 4:lm(e,10);break;case 3:lm(e,6);break;default:lm(e,2)}}function um(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function lm(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=kh(e.jb,e);n||(n=new Hf("//www.google.com/images/cleardot.gif"),vh.location&&"http"==vh.location.protocol||Gf(n,"https"),Xf(n)),function(e,t){var n=new tf;if(vh.Image){var r=new Image;r.onload=_h(xp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_h(xp,n,r,"TestLoadImage: error",!1,t),r.onabort=_h(xp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_h(xp,n,r,"TestLoadImage: timeout",!1,t),vh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else cf(2);e.G=0,e.j&&e.j.va(t),cm(e),Yp(e)}function cm(e){e.G=0,e.I=-1,e.j&&(0==Ep(e.i).length&&0==e.l.length||(e.i.i.length=0,Ph(e.l),e.l.length=0),e.j.ua())}function hm(e,t,n){var r=function(e){return e instanceof Hf?Kf(e):new Hf(e,void 0)}(n);if(""!=r.i)t&&$f(r,t+"."+r.i),Qf(r,r.m);else{var i=vh.location;r=function(e,t,n,r){var i=new Hf(null,void 0);return e&&Gf(i,e),t&&$f(i,t),n&&Qf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&qh(e.aa,(function(e,t){Yf(r,t,e)})),t=e.D,n=e.sa,t&&n&&Yf(r,t,n),Yf(r,"VER",e.ma),em(e,r),r}function dm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Rp(new kp({ib:!0})):new Rp(e.qa)).L=e.H,t}function fm(){}function pm(){if(Wh&&!(10<=Number(ud)))throw Error("Environmental error: no available transport.")}function mm(e,t){Od.call(this),this.g=new $p(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!jh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!jh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vm(this)}function gm(e){wf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ym(){Ef.call(this),this.status=1}function vm(e){this.g=e}(mh=Rp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vf.g(),this.C=this.u?gf(this.u):gf(vf),this.g.onreadystatechange=kh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Fp(this,o)}e=n||"";var i=new Uf(this.headers);r&&Vf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Mp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=vh.FormData&&e instanceof vh.FormData,!(0<=Dh(Lp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qp(this),0<this.B&&((this.K=function(e){return Wh&&ad()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kh(this.pa,this)):this.A=Qd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Fp(this,o)}},mh.pa=function(){"undefined"!=typeof yh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rd(this,"timeout"),this.abort(8))},mh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Rd(this,"complete"),Rd(this,"abort"),Bp(this))},mh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bp(this,!0)),Rp.Z.M.call(this)},mh.Fa=function(){this.s||(this.F||this.v||this.l?Up(this):this.cb())},mh.cb=function(){Up(this)},mh.ba=function(){try{return 2<zp(this)?this.g.status:-1}catch(pp){return-1}},mh.ga=function(){try{return this.g?this.g.responseText:""}catch(pp){return""}},mh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Op(t)}},mh.Da=function(){return this.m},mh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(mh=$p.prototype).ma=8,mh.G=1,mh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(hM){}},mh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Tf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Kh(n=zh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=tm(this,t,r),Yf(i=Kf(this.F),"RID",e),Yf(i,"CVER",22),this.D&&Yf(i,"X-HTTP-Session-Id",this.D),em(this,i),this.o&&n&&Kp(i,this.o,n),bp(this.i,t),this.Ra&&Yf(i,"TYPE","init"),this.ja?(Yf(i,"$req",r),Yf(i,"SID","null"),t.$=!0,Cf(t,i,null)):Cf(t,i,r),this.G=2}}else 3==this.G&&(e?Zp(this,e):0==this.l.length||gp(this.i)||Zp(this))},mh.Ga=function(){if(this.u=null,om(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=df(kh(this.bb,this),e)}},mh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cf(10),Wp(this),om(this))},mh.ab=function(){null!=this.v&&(this.v=null,Wp(this),rm(this),cf(19))},mh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),cf(2)):(this.h.info("Failed to ping google.com"),cf(1))},(mh=fm.prototype).xa=function(){},mh.wa=function(){},mh.va=function(){},mh.ua=function(){},mh.Oa=function(){},pm.prototype.g=function(e,t){return new mm(e,t)},Ch(mm,Od),mm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),qd(kh(e.hb,e,t))),cf(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=hm(e,null,e.W),Jp(e)},mm.prototype.close=function(){Qp(this.g)},mm.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Xp(this.g,t)}else this.v?((t={}).__data__=jd(e),Xp(this.g,t)):Xp(this.g,e)},mm.prototype.M=function(){this.g.j=null,delete this.j,Qp(this.g),delete this.g,mm.Z.M.call(this)},Ch(gm,wf),Ch(ym,Ef),Ch(vm,fm),vm.prototype.xa=function(){Rd(this.g,"a")},vm.prototype.wa=function(e){Rd(this.g,new gm(e))},vm.prototype.va=function(e){Rd(this.g,new ym(e))},vm.prototype.ua=function(){Rd(this.g,"b")},pm.prototype.createWebChannel=pm.prototype.g,mm.prototype.send=mm.prototype.u,mm.prototype.open=mm.prototype.m,mm.prototype.close=mm.prototype.close,ff.NO_ERROR=0,ff.TIMEOUT=8,ff.HTTP_ERROR=6,pf.COMPLETE="complete",yf.EventType=bf,bf.OPEN="a",bf.CLOSE="b",bf.ERROR="c",bf.MESSAGE="d",Od.prototype.listen=Od.prototype.N,Rp.prototype.listenOnce=Rp.prototype.O,Rp.prototype.getLastError=Rp.prototype.La,Rp.prototype.getLastErrorCode=Rp.prototype.Da,Rp.prototype.getStatus=Rp.prototype.ba,Rp.prototype.getResponseJson=Rp.prototype.Qa,Rp.prototype.getResponseText=Rp.prototype.ga,Rp.prototype.send=Rp.prototype.ea;var bm=function(){return new pm},wm=function(){return af()},Em=ff,Sm=pf,Tm=rf,Im={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xm=kp,km=yf,_m=Rp;var Cm=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Cm.o=-1;var Am={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nm=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return lh(t,e),t}(Error),Dm=new zc("@firebase/firestore");function Om(){return Dm.logLevel}function Rm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dm.logLevel<=Lc.DEBUG){var r=t.map(Lm);Dm.debug.apply(Dm,dh(["Firestore (8.10.1): "+e],r))}}function Pm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dm.logLevel<=Lc.ERROR){var r=t.map(Lm);Dm.error.apply(Dm,dh(["Firestore (8.10.1): "+e],r))}}function jm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dm.logLevel<=Lc.WARN){var r=t.map(Lm);Dm.warn.apply(Dm,dh(["Firestore (8.10.1): "+e],r))}}function Lm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mm(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Pm(t),new Error(t)}function Fm(e,t){e||Mm()}function Vm(e,t){return e}function Um(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Bm=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Um(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function qm(e,t){return e<t?-1:e>t?1:0}function zm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Hm(e){return e+"\0"}var Km=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nm(Am.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nm(Am.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nm(Am.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nm(Am.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?qm(this.nanoseconds,e.nanoseconds):qm(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Gm=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Km(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function $m(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ym=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Mm(),void 0===n?n=e.length-t:n>e.length-t&&Mm(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Xm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lh(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Nm(Am.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Ym),Jm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lh(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Jm.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Nm(Am.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Nm(Am.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Nm(Am.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Nm(Am.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Ym),eg=function(){function e(e){this.fields=e,e.sort(Zm.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return zm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),tg=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return qm(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();tg.EMPTY_BYTE_STRING=new tg("");var ng=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rg(e){if(Fm(!!e),"string"==typeof e){var t=0,n=ng.exec(e);if(Fm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ig(e.seconds),nanos:ig(e.nanos)}}function ig(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function og(e){return"string"==typeof e?tg.fromBase64String(e):tg.fromUint8Array(e)}function ag(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sg(e){var t=e.mapValue.fields.__previous_value__;return ag(t)?sg(t):t}function ug(e){var t=rg(e.mapValue.fields.__local_write_time__.timestampValue);return new Km(t.seconds,t.nanos)}function lg(e){return null==e}function cg(e){return 0===e&&1/e==-1/0}function hg(e){return"number"==typeof e&&Number.isInteger(e)&&!cg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var dg=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Xm.fromString(t))},e.fromName=function(t){return new e(Xm.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Xm.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Xm.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Xm(t.slice()))},e}();function fg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ag(e)?4:10:Mm()}function pg(e,t){var n=fg(e);if(n!==fg(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ug(e).isEqual(ug(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rg(e.timestampValue),r=rg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return og(e.bytesValue).isEqual(og(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ig(e.geoPointValue.latitude)===ig(t.geoPointValue.latitude)&&ig(e.geoPointValue.longitude)===ig(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ig(e.integerValue)===ig(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ig(e.doubleValue),r=ig(t.doubleValue);return n===r?cg(n)===cg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zm(e.arrayValue.values||[],t.arrayValue.values||[],pg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($m(n)!==$m(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pg(n[i],r[i])))return!1;return!0}(e,t);default:return Mm()}}function mg(e,t){return void 0!==(e.values||[]).find((function(e){return pg(e,t)}))}function gg(e,t){var n=fg(e),r=fg(t);if(n!==r)return qm(n,r);switch(n){case 0:return 0;case 1:return qm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ig(e.integerValue||e.doubleValue),r=ig(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yg(e.timestampValue,t.timestampValue);case 4:return yg(ug(e),ug(t));case 5:return qm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=og(e),r=og(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=qm(n[i],r[i]);if(0!==o)return o}return qm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=qm(ig(e.latitude),ig(t.latitude));return 0!==n?n:qm(ig(e.longitude),ig(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=gg(n[i],r[i]);if(o)return o}return qm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=qm(r[a],o[a]);if(0!==s)return s;var u=gg(n[r[a]],i[o[a]]);if(0!==u)return u}return qm(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Mm()}}function yg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qm(e,t);var n=rg(e),r=rg(t),i=qm(n.seconds,r.seconds);return 0!==i?i:qm(n.nanos,r.nanos)}function vg(e){return bg(e)}function bg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=rg(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?og(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,dg.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=bg(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+bg(e.fields[o])}return t+"}"}(e.mapValue):Mm();var t,n}function wg(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Eg(e){return!!e&&"integerValue"in e}function Sg(e){return!!e&&"arrayValue"in e}function Tg(e){return!!e&&"nullValue"in e}function Ig(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xg(e){return!!e&&"mapValue"in e}function kg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Qm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=kg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=kg(e.arrayValue.values[r]);return n}return Object.assign({},e)}var _g=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kg(t)},e.prototype.setAll=function(e){var t=this,n=Zm.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=kg(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());xg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return pg(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Qm(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(kg(this.value))},e}();function Cg(e){var t=[];return Qm(e.fields,(function(e,n){var r=new Zm([e]);if(xg(n)){var i=Cg(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new eg(t)}var Ag=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Gm.min(),_g.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,_g.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,_g.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=_g.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=_g.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Ng=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Dg(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ng(e,t,n,r,i,o,a)}function Og(e){var t=Vm(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+vg(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),lg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Kg(t.startAt)),t.endAt&&(n+="|ub:",n+=Kg(t.endAt)),t.h=n}return t.h}function Rg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!$g(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!pg(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wg(e.startAt,t.startAt)&&Wg(e.endAt,t.endAt)}function Pg(e){return dg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var jg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return lh(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Lg(e,n,r):"array-contains"===n?new Ug(e,r):"in"===n?new Bg(e,r):"not-in"===n?new qg(e,r):"array-contains-any"===n?new zg(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Mg(e,n):new Fg(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(gg(t,this.value)):null!==t&&fg(this.value)===fg(t)&&this.m(gg(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mm()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Lg=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=dg.fromName(r.referenceValue),i}return lh(t,e),t.prototype.matches=function(e){var t=dg.comparator(e.key,this.key);return this.m(t)},t}(jg),Mg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Vg("in",n),r}return lh(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(jg),Fg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Vg("not-in",n),r}return lh(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(jg);function Vg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return dg.fromName(e.referenceValue)}))}var Ug=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return lh(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Sg(t)&&mg(t.arrayValue,this.value)},t}(jg),Bg=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return lh(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&mg(this.value.arrayValue,t)},t}(jg),qg=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return lh(t,e),t.prototype.matches=function(e){if(mg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!mg(this.value.arrayValue,t)},t}(jg),zg=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return lh(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return mg(t.value.arrayValue,e)}))},t}(jg),Hg=function(e,t){this.position=e,this.before=t};function Kg(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return vg(e)})).join(",")}var Gg=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function $g(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Qg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?dg.comparator(dg.fromName(a.referenceValue),n.key):gg(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Wg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!pg(e.position[n],t.position[n]))return!1;return!0}var Yg=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Xg(e,t,n,r,i,o,a,s){return new Yg(e,t,n,r,i,o,a,s)}function Jg(e){return new Yg(e)}function Zg(e){return!lg(e.limit)&&"F"===e.limitType}function ey(e){return!lg(e.limit)&&"L"===e.limitType}function ty(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ny(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ry(e){return null!==e.collectionGroup}function iy(e){var t=Vm(e);if(null===t.p){t.p=[];var n=ny(t),r=ty(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Gg(n)),t.p.push(new Gg(Zm.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Gg(Zm.keyField(),u))}}}return t.p}function oy(e){var t=Vm(e);if(!t.T)if("F"===t.limitType)t.T=Dg(t.path,t.collectionGroup,iy(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=iy(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Gg(o.field,a))}var s=t.endAt?new Hg(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Hg(t.startAt.position,!t.startAt.before):null;t.T=Dg(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function ay(e,t,n){return new Yg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sy(e,t){return Rg(oy(e),oy(t))&&e.limitType===t.limitType}function uy(e){return Og(oy(e))+"|lt:"+e.limitType}function ly(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+vg(t.value);var t})).join(", ")+"]"),lg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Kg(e.startAt)),e.endAt&&(t+=", endAt: "+Kg(e.endAt)),"Target("+t+")"}(oy(e))+"; limitType="+e.limitType+")"}function cy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Qg(e.startAt,iy(e),t))&&(!e.endAt||!Qg(e.endAt,iy(e),t))}(e,t)}function hy(e){return function(t,n){for(var r=!1,i=0,o=iy(e);i<o.length;i++){var a=o[i],s=dy(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function dy(e,t,n){var r=e.field.isKeyField()?dg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?gg(r,i):Mm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mm()}}function fy(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cg(t)?"-0":t}}function py(e){return{integerValue:""+e}}function my(e,t){return hg(t)?py(t):fy(e,t)}var gy=function(){this._=void 0};function yy(e,t,n){return e instanceof wy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ey?Sy(e,t):e instanceof Ty?Iy(e,t):function(e,t){var n=by(e,t),r=ky(n)+ky(e.A);return Eg(n)&&Eg(e.A)?py(r):fy(e.R,r)}(e,t)}function vy(e,t,n){return e instanceof Ey?Sy(e,t):e instanceof Ty?Iy(e,t):n}function by(e,t){return e instanceof xy?Eg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var wy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lh(t,e),t}(gy),Ey=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return lh(t,e),t}(gy);function Sy(e,t){for(var n=_y(t),r=function(e){n.some((function(t){return pg(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ty=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return lh(t,e),t}(gy);function Iy(e,t){for(var n=_y(t),r=function(e){n=n.filter((function(t){return!pg(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xy=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return lh(t,e),t}(gy);function ky(e){return ig(e.integerValue||e.doubleValue)}function _y(e){return Sg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Cy=function(e,t){this.field=e,this.transform=t},Ay=function(e,t){this.version=e,this.transformResults=t},Ny=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Dy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Oy=function(){};function Ry(e,t,n){e instanceof Fy?function(e,t,n){var r=e.value.clone(),i=By(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vy?function(e,t,n){if(Dy(e.precondition,t)){var r=By(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Uy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Py(e,t,n){e instanceof Fy?function(e,t,n){if(Dy(e.precondition,t)){var r=e.value.clone(),i=qy(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(My(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Vy?function(e,t,n){if(Dy(e.precondition,t)){var r=qy(e.fieldTransforms,n,t),i=t.data;i.setAll(Uy(e)),i.setAll(r),t.convertToFoundDocument(My(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Dy(e.precondition,t)&&t.convertToNoDocument(Gm.min())}(e,t)}function jy(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=by(o.transform,a||null);null!=s&&(null==n&&(n=_g.empty()),n.set(o.field,s))}return n||null}function Ly(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ey&&t instanceof Ey||e instanceof Ty&&t instanceof Ty?zm(e.elements,t.elements,pg):e instanceof xy&&t instanceof xy?pg(e.A,t.A):e instanceof wy&&t instanceof wy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function My(e){return e.isFoundDocument()?e.version:Gm.min()}var Fy=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return lh(t,e),t}(Oy),Vy=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return lh(t,e),t}(Oy);function Uy(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function By(e,t,n){var r=new Map;Fm(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,vy(a,s,n[i]))}return r}function qy(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,yy(s,u,t))}return r}var zy,Hy,Ky=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return lh(t,e),t}(Oy),Gy=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return lh(t,e),t}(Oy),$y=function(e){this.count=e};function Qy(e){switch(e){case Am.OK:return Mm();case Am.CANCELLED:case Am.UNKNOWN:case Am.DEADLINE_EXCEEDED:case Am.RESOURCE_EXHAUSTED:case Am.INTERNAL:case Am.UNAVAILABLE:case Am.UNAUTHENTICATED:return!1;case Am.INVALID_ARGUMENT:case Am.NOT_FOUND:case Am.ALREADY_EXISTS:case Am.PERMISSION_DENIED:case Am.FAILED_PRECONDITION:case Am.ABORTED:case Am.OUT_OF_RANGE:case Am.UNIMPLEMENTED:case Am.DATA_LOSS:return!0;default:return Mm()}}function Wy(e){if(void 0===e)return Pm("GRPC error has no .code"),Am.UNKNOWN;switch(e){case zy.OK:return Am.OK;case zy.CANCELLED:return Am.CANCELLED;case zy.UNKNOWN:return Am.UNKNOWN;case zy.DEADLINE_EXCEEDED:return Am.DEADLINE_EXCEEDED;case zy.RESOURCE_EXHAUSTED:return Am.RESOURCE_EXHAUSTED;case zy.INTERNAL:return Am.INTERNAL;case zy.UNAVAILABLE:return Am.UNAVAILABLE;case zy.UNAUTHENTICATED:return Am.UNAUTHENTICATED;case zy.INVALID_ARGUMENT:return Am.INVALID_ARGUMENT;case zy.NOT_FOUND:return Am.NOT_FOUND;case zy.ALREADY_EXISTS:return Am.ALREADY_EXISTS;case zy.PERMISSION_DENIED:return Am.PERMISSION_DENIED;case zy.FAILED_PRECONDITION:return Am.FAILED_PRECONDITION;case zy.ABORTED:return Am.ABORTED;case zy.OUT_OF_RANGE:return Am.OUT_OF_RANGE;case zy.UNIMPLEMENTED:return Am.UNIMPLEMENTED;case zy.DATA_LOSS:return Am.DATA_LOSS;default:return Mm()}}(Hy=zy||(zy={}))[Hy.OK=0]="OK",Hy[Hy.CANCELLED=1]="CANCELLED",Hy[Hy.UNKNOWN=2]="UNKNOWN",Hy[Hy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hy[Hy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hy[Hy.NOT_FOUND=5]="NOT_FOUND",Hy[Hy.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hy[Hy.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hy[Hy.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hy[Hy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hy[Hy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hy[Hy.ABORTED=10]="ABORTED",Hy[Hy.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hy[Hy.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hy[Hy.INTERNAL=13]="INTERNAL",Hy[Hy.UNAVAILABLE=14]="UNAVAILABLE",Hy[Hy.DATA_LOSS=15]="DATA_LOSS";var Yy=function(){function e(e,t){this.comparator=e,this.root=t||Jy.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jy.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jy.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Xy(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Xy(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Xy(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Xy(this.root,e,this.comparator,!0)},e}(),Xy=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Jy=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Mm();if(this.right.isRed())throw Mm();var e=this.left.check();if(e!==this.right.check())throw Mm();return e+(this.isRed()?0:1)},e}();Jy.EMPTY=null,Jy.RED=!0,Jy.BLACK=!1,Jy.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Mm()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Mm()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Mm()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Mm()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Mm()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Jy(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Zy=function(){function e(e){this.comparator=e,this.data=new Yy(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new ev(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new ev(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ev=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),tv=new Yy(dg.comparator);function nv(){return tv}var rv=new Yy(dg.comparator);function iv(){return rv}var ov=new Yy(dg.comparator);function av(){return ov}var sv=new Zy(dg.comparator);function uv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=sv,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var lv=new Zy(qm);function cv(){return lv}var hv=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,dv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Gm.min(),r,cv(),nv(),uv())},e}(),dv=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(tg.EMPTY_BYTE_STRING,n,uv(),uv(),uv())},e}(),fv=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},pv=function(e,t){this.targetId=e,this.V=t},mv=function(e,t,n,r){void 0===n&&(n=tg.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},gv=function(){function e(){this.S=0,this.D=bv(),this.C=tg.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=uv(),t=uv(),n=uv();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mm()}})),new dv(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=bv()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),yv=function(){function e(e){this.W=e,this.G=new Map,this.H=nv(),this.J=vv(),this.Y=new Zy(qm)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Mm()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Pg(i))if(0===n){var o=new dg(i.path);this.tt(t,o,Ag.newNoDocument(o,Gm.min()))}else Fm(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Pg(o.target)){var a=new dg(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Ag.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=uv();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new hv(e,n,this.Y,this.H,r);return this.H=nv(),this.J=vv(),this.Y=new Zy(qm),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new gv,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Zy(qm),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Rm("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new gv),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function vv(){return new Yy(dg.comparator)}function bv(){return new Yy(dg.comparator)}var wv={asc:"ASCENDING",desc:"DESCENDING"},Ev={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sv=function(e,t){this.databaseId=e,this.I=t};function Tv(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Iv(e,t){return e.I?t.toBase64():t.toUint8Array()}function xv(e,t){return Tv(e,t.toTimestamp())}function kv(e){return Fm(!!e),Gm.fromTimestamp(function(e){var t=rg(e);return new Km(t.seconds,t.nanos)}(e))}function _v(e,t){return function(e){return new Xm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Cv(e){var t=Xm.fromString(e);return Fm(Jv(t)),t}function Av(e,t){return _v(e.databaseId,t.path)}function Nv(e,t){var n=Cv(t);if(n.get(1)!==e.databaseId.projectId)throw new Nm(Am.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nm(Am.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dg(Pv(n))}function Dv(e,t){return _v(e.databaseId,t)}function Ov(e){var t=Cv(e);return 4===t.length?Xm.emptyPath():Pv(t)}function Rv(e){return new Xm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pv(e){return Fm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jv(e,t,n){return{name:Av(e,t),fields:n.value.mapValue.fields}}function Lv(e,t,n){var r=Nv(e,t.name),i=kv(t.updateTime),o=new _g({mapValue:{fields:t.fields}}),a=Ag.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Mv(e,t){var n;if(t instanceof Fy)n={update:jv(e,t.key,t.value)};else if(t instanceof Ky)n={delete:Av(e,t.key)};else if(t instanceof Vy)n={update:jv(e,t.key,t.data),updateMask:Xv(t.fieldMask)};else{if(!(t instanceof Gy))return Mm();n={verify:Av(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof wy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ey)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ty)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xy)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Mm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mm()}(e,t.precondition)),n}function Fv(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ny.updateTime(kv(e.updateTime)):void 0!==e.exists?Ny.exists(e.exists):Ny.none()}(t.currentDocument):Ny.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Fm("REQUEST_TIME"===t.setToServerValue),n=new wy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ey(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ty(i)}else"increment"in t?n=new xy(e,t.increment):Mm();var o=Zm.fromServerFormat(t.fieldPath);return new Cy(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Nv(e,t.update.name),o=new _g({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new eg(t.map((function(e){return Zm.fromServerFormat(e)})))}(t.updateMask);return new Vy(i,o,a,n,r)}return new Fy(i,o,n,r)}if(t.delete){var s=Nv(e,t.delete);return new Ky(s,n)}if(t.verify){var u=Nv(e,t.verify);return new Gy(u,n)}return Mm()}function Vv(e,t){return{documents:[Dv(e,t.path)]}}function Uv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Dv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Dv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ig(e.value))return{unaryFilter:{field:$v(e.field),op:"IS_NAN"}};if(Tg(e.value))return{unaryFilter:{field:$v(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ig(e.value))return{unaryFilter:{field:$v(e.field),op:"IS_NOT_NAN"}};if(Tg(e.value))return{unaryFilter:{field:$v(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$v(e.field),op:Gv(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:$v(e.field),direction:Kv(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||lg(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=zv(t.startAt)),t.endAt&&(n.structuredQuery.endAt=zv(t.endAt)),n}function Bv(e){var t=Ov(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fm(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=qv(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Gg(Qv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return lg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=Hv(n.startAt));var c=null;return n.endAt&&(c=Hv(n.endAt)),Xg(t,i,s,a,u,"F",l,c)}function qv(e){return e?void 0!==e.unaryFilter?[Yv(e)]:void 0!==e.fieldFilter?[Wv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return qv(e)})).reduce((function(e,t){return e.concat(t)})):Mm():[]}function zv(e){return{before:e.before,values:e.position}}function Hv(e){var t=!!e.before,n=e.values||[];return new Hg(n,t)}function Kv(e){return wv[e]}function Gv(e){return Ev[e]}function $v(e){return{fieldPath:e.canonicalString()}}function Qv(e){return Zm.fromServerFormat(e.fieldPath)}function Wv(e){return jg.create(Qv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mm()}}(e.fieldFilter.op),e.fieldFilter.value)}function Yv(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Qv(e.unaryFilter.field);return jg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Qv(e.unaryFilter.field);return jg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qv(e.unaryFilter.field);return jg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qv(e.unaryFilter.field);return jg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mm()}}function Xv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Jv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Zv(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=tb(t)),t=eb(e.get(n),t);return tb(t)}function eb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function tb(e){return e+"\x01\x01"}function nb(e){var t=e.length;if(Fm(t>=2),2===t)return Fm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Xm.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Mm(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Mm()}o=a+2}return new Xm(r)}var rb=function(e,t){this.seconds=e,this.nanoseconds=t},ib=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ib.store="owner",ib.key="owner";var ob=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ob.store="mutationQueues",ob.keyPath="userId";var ab=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ab.store="mutations",ab.keyPath="batchId",ab.userMutationsIndex="userMutationsIndex",ab.userMutationsKeyPath=["userId","batchId"];var sb=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Zv(t)]},e.key=function(e,t,n){return[e,Zv(t),n]},e}();sb.store="documentMutations",sb.PLACEHOLDER=new sb;var ub=function(e,t){this.path=e,this.readTime=t},lb=function(e,t){this.path=e,this.version=t},cb=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};cb.store="remoteDocuments",cb.readTimeIndex="readTimeIndex",cb.readTimeIndexPath="readTime",cb.collectionReadTimeIndex="collectionReadTimeIndex",cb.collectionReadTimeIndexPath=["parentPath","readTime"];var hb=function(e){this.byteSize=e};hb.store="remoteDocumentGlobal",hb.key="remoteDocumentGlobalKey";var db=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};db.store="targets",db.keyPath="targetId",db.queryTargetsIndexName="queryTargetsIndex",db.queryTargetsKeyPath=["canonicalId","targetId"];var fb=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};fb.store="targetDocuments",fb.keyPath=["targetId","path"],fb.documentTargetsIndex="documentTargetsIndex",fb.documentTargetsKeyPath=["path","targetId"];var pb=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pb.key="targetGlobalKey",pb.store="targetGlobal";var mb=function(e,t){this.collectionId=e,this.parent=t};mb.store="collectionParents",mb.keyPath=["collectionId","parent"];var gb=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};gb.store="clientMetadata",gb.keyPath="clientId";var yb=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};yb.store="bundles",yb.keyPath="bundleId";var vb=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};vb.store="namedQueries",vb.keyPath="name";var bb=dh(dh([],dh(dh([],dh(dh([],dh(dh([],[ob.store,ab.store,sb.store,cb.store,db.store,ib.store,pb.store,fb.store]),[gb.store])),[hb.store])),[mb.store])),[yb.store,vb.store]),wb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Eb=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Sb=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Tb=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Mm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Ib=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Sb,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new _b(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Ob(t.target.error);n.ft.reject(new _b(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new _b(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Rm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Ab(t)},e}(),xb=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(mc())&&Pm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Rm("SimpleDb","Removing database:",e),Nb(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=mc(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react-firebase/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return ch(this,void 0,void 0,(function(){var t,n=this;return hh(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Rm("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new _b(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Nm(Am.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new _b(e,n))},i.onupgradeneeded=function(e){Rm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Rm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return ch(this,void 0,void 0,(function(){var i,o,a,s,u;return hh(this,(function(l){switch(l.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,l,c;return hh(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=Ib.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Tb.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return l=h.sent(),c="FirebaseError"!==l.name&&o<3,Rm("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),s.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},s=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),kb=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Nb(this.Pt.delete())},e}(),_b=function(e){function t(t,n){var r=this;return(r=e.call(this,Am.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return lh(t,e),t}(Nm);function Cb(e){return"IndexedDbTransactionError"===e.name}var Ab=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Rm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Rm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Nb(n)},e.prototype.add=function(e){return Rm("SimpleDb","ADD",this.store.name,e,e),Nb(this.store.add(e))},e.prototype.get=function(e){var t=this;return Nb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Rm("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Rm("SimpleDb","DELETE",this.store.name,e),Nb(this.store.delete(e))},e.prototype.count=function(){return Rm("SimpleDb","COUNT",this.store.name),Nb(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Rm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Tb((function(n,r){t.onerror=function(e){var t=Ob(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Tb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new kb(i),a=t(i.primaryKey,i.value,o);if(a instanceof Tb){var s=a.catch((function(e){return o.done(),Tb.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Tb.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Nb(e){return new Tb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ob(e.target.error);n(t)}}))}var Db=!1;function Ob(e){var t=xb._t(mc());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Nm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Db||(Db=!0,setTimeout((function(){throw r}),0)),r}}return e}var Rb=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return lh(t,e),t}(Eb);function Pb(e,t){var n=Vm(e);return xb.It(n.Mt,t)}var jb=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ry(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Py(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Py(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Gm.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),uv())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&zm(this.mutations,e.mutations,(function(e,t){return Ly(e,t)}))&&zm(this.baseMutations,e.baseMutations,(function(e,t){return Ly(e,t)}))},e}(),Lb=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Fm(t.mutations.length===r.length);for(var i=av(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Mb=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Gm.min()),void 0===o&&(o=Gm.min()),void 0===a&&(a=tg.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Fb=function(e){this.Lt=e};function Vb(e,t){if(t.document)return Lv(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=dg.fromSegments(t.noDocument.path),r=Hb(t.noDocument.readTime),i=Ag.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=dg.fromSegments(t.unknownDocument.path);return r=Hb(t.unknownDocument.version),Ag.newUnknownDocument(o,r)}return Mm()}function Ub(e,t,n){var r=Bb(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Av(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tv(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new cb(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=zb(t.version);return a=t.hasCommittedMutations,new cb(null,new ub(s,u),null,a,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=zb(t.version);return new cb(new lb(l,c),null,null,!0,r,i)}return Mm()}function Bb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qb(e){var t=new Km(e[0],e[1]);return Gm.fromTimestamp(t)}function zb(e){var t=e.toTimestamp();return new rb(t.seconds,t.nanoseconds)}function Hb(e){var t=new Km(e.seconds,e.nanoseconds);return Gm.fromTimestamp(t)}function Kb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Fv(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Fv(e.Lt,t)})),s=Km.fromMillis(t.localWriteTimeMs);return new jb(t.batchId,s,n,a)}function Gb(e){var t,n,r=Hb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Hb(e.lastLimboFreeSnapshotVersion):Gm.min();return void 0!==e.query.documents?(Fm(1===(n=e.query).documents.length),t=oy(Jg(Ov(n.documents[0])))):t=function(e){return oy(Bv(e))}(e.query),new Mb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,tg.fromBase64String(e.resumeToken))}function $b(e,t){var n,r=zb(t.snapshotVersion),i=zb(t.lastLimboFreeSnapshotVersion);n=Pg(t.target)?Vv(e.Lt,t.target):Uv(e.Lt,t.target);var o=t.resumeToken.toBase64();return new db(t.targetId,Og(t.target),r,o,t.sequenceNumber,i,n)}function Qb(e){var t=Bv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ay(t,t.limit,"L"):t}var Wb=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Yb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Hb(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Yb(e).put({bundleId:(n=t).id,createTime:zb(kv(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Xb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Qb(t.bundledQuery),readTime:Hb(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Xb(e).put(function(e){return{name:e.name,readTime:zb(kv(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Yb(e){return Pb(e,yb.store)}function Xb(e){return Pb(e,vb.store)}var Jb=function(){function e(){this.Bt=new Zb}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Tb.resolve()},e.prototype.getCollectionParents=function(e,t){return Tb.resolve(this.Bt.getEntries(t))},e}(),Zb=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zy(Xm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Zy(Xm.comparator)).toArray()},e}(),ew=function(){function e(){this.qt=new Zb}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Zv(i)};return tw(e).put(o)}return Tb.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Hm(t),""],!1,!0);return tw(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(nb(o.parent))}return n}))},e}();function tw(e){return Pb(e,mb.store)}var nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rw=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function iw(e,t,n){var r=e.store(ab.store),i=e.store(sb.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Fm(1===s)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=sb.key(t,d.key.path,n.batchId);o.push(i.delete(f)),l.push(d.key)}return Tb.waitFor(o).next((function(){return l}))}function ow(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mm();t=e.noDocument}return JSON.stringify(t).length}rw.DEFAULT_COLLECTION_PERCENTILE=10,rw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rw.DEFAULT=new rw(41943040,rw.DEFAULT_COLLECTION_PERCENTILE,rw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rw.DISABLED=new rw(-1,0,0);var aw=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Fm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uw(e).$t({index:ab.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=lw(e),a=uw(e);return a.add({}).next((function(s){Fm("number"==typeof s);for(var u=new jb(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Mv(e.Lt,t)})),i=n.mutations.map((function(t){return Mv(e.Lt,t)}));return new ab(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),c=[],h=new Zy((function(e,t){return qm(e.canonicalString(),t.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],m=sb.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),c.push(a.put(l)),c.push(o.put(m,sb.PLACEHOLDER))}return h.forEach((function(t){c.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Tb.waitFor(c).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return uw(e).get(t).next((function(e){return e?(Fm(e.userId===n.userId),Kb(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Tb.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return uw(e).$t({index:ab.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Fm(t.batchId>=r),o=Kb(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uw(e).$t({index:ab.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uw(e).Nt(ab.userMutationsIndex,n).next((function(e){return e.map((function(e){return Kb(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=sb.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return lw(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],l=r[2],c=nb(u);if(s===n.userId&&t.path.isEqual(c))return uw(e).get(l).next((function(e){if(!e)throw Mm();Fm(e.userId===n.userId),o.push(Kb(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Zy(qm),i=[];return t.forEach((function(t){var o=sb.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=lw(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],l=nb(s);a===n.userId&&t.path.isEqual(l)?r=r.add(u):o.done()}));i.push(s)})),Tb.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=sb.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Zy(qm);return lw(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],l=e[2],c=nb(u);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(l)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(uw(e).get(t).next((function(e){if(null===e)throw Mm();Fm(e.userId===n.userId),r.push(Kb(n.R,e))})))})),Tb.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return iw(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Tb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Tb.resolve();var r=IDBKeyRange.lowerBound(sb.prefixForUser(t.userId)),i=[];return lw(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=nb(e[1]);i.push(o)}else r.done()})).next((function(){Fm(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return sw(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return cw(e).get(this.userId).next((function(e){return e||new ob(t.userId,-1,"")}))},e}();function sw(e,t,n){var r=sb.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return lw(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function uw(e){return Pb(e,ab.store)}function lw(e){return Pb(e,sb.store)}function cw(e){return Pb(e,ob.store)}var hw=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),dw=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new hw(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Gm.fromTimestamp(new Km(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return fw(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Fm(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return fw(e).$t((function(a,s){var u=Gb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Tb.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return fw(e).$t((function(e,n){var r=Gb(n);t(r)}))},e.prototype.Xt=function(e){return pw(e).get(pb.key).next((function(e){return Fm(null!==e),e}))},e.prototype.Zt=function(e,t){return pw(e).put(pb.key,t)},e.prototype.te=function(e,t){return fw(e).put($b(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Og(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fw(e).$t({range:r,index:db.queryTargetsIndexName},(function(e,n,r){var o=Gb(n);Rg(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=mw(e);return t.forEach((function(t){var a=Zv(t.path);i.push(o.put(new fb(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Tb.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=mw(e);return Tb.forEach(t,(function(t){var o=Zv(t.path);return Tb.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=mw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=mw(e),i=uv();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=nb(e[1]),o=new dg(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Zv(t.path),r=IDBKeyRange.bound([n],[Hm(n)],!1,!0),i=0;return mw(e).$t({index:fb.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return fw(e).get(t).next((function(e){return e?Gb(e):null}))},e}();function fw(e){return Pb(e,db.store)}function pw(e){return Pb(e,pb.store)}function mw(e){return Pb(e,fb.store)}function gw(e){return ch(this,void 0,void 0,(function(){return hh(this,(function(t){if(e.code!==Am.FAILED_PRECONDITION||e.message!==wb)throw e;return Rm("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function yw(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=qm(n,i);return 0===a?qm(r,o):a}var vw=function(){function e(e){this.ne=e,this.buffer=new Zy(yw),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),bw=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Rm("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return ch(t,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Cb(t=n.sent())?(Rm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,gw(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),ww=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Tb.resolve(Cm.o);var r=new vw(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Rm("LruGarbageCollector","Garbage collection skipped; disabled"),Tb.resolve(nw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Rm("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),nw):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,l=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(Rm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Om()<=Lc.DEBUG&&Rm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-c)+"ms"),Tb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Ew=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new ww(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Sw(e,n)},e.prototype.removeReference=function(e,t,n){return Sw(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Sw(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return cw(e).Ot((function(r){return sw(e,r,t).next((function(e){return e&&(n=!0),Tb.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),mw(e).delete([0,Zv(a.path)])}))}));i.push(u)}})).next((function(){return Tb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Sw(e,t)},e.prototype.we=function(e,t){var n,r=mw(e),i=Cm.o;return r.$t({index:fb.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Cm.o&&t(new dg(nb(n)),i),i=s,n=a):i=Cm.o})).next((function(){i!==Cm.o&&t(new dg(nb(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Sw(e,t){return mw(e).put(function(e,t){return new fb(0,Zv(e.path),t)}(t,e.currentSequenceNumber))}var Tw=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Qm(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Wm(this.inner)},e}(),Iw=function(){function e(){this.changes=new Tw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Gm.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Ag.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Tb.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),xw=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Cw(e).put(Aw(t),n)},e.prototype.removeEntry=function(e,t){var n=Cw(e),r=Aw(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Cw(e).get(Aw(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Cw(e).get(Aw(t)).next((function(e){return{document:n.ye(t,e),size:ow(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=nv();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=nv(),i=new Yy(dg.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,ow(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Tb.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Cw(e).$t({range:r},(function(e,t,r){for(var a=dg.fromSegments(e);o&&dg.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=nv(),o=t.path.length+1,a={};if(n.isEqual(Gm.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),l=Bb(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=cb.collectionReadTimeIndex}return Cw(e).$t(a,(function(e,n,a){if(e.length===o){var s=Vb(r.R,n);t.path.isPrefixOf(s.key.path)?cy(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new kw(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return _w(e).get(hb.key).next((function(e){return Fm(!!e),e}))},e.prototype.me=function(e,t){return _w(e).put(hb.key,t)},e.prototype.ye=function(e,t){if(t){var n=Vb(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Gm.min()))return n}return Ag.newInvalidDocument(e)},e}(),kw=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Tw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return lh(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Zy((function(e,t){return qm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Ub(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var l=ow(u);r+=l-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var c=Ub(t.Ie.R,Ag.newNoDocument(o,Gm.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,c))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Tb.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Iw);function _w(e){return Pb(e,hb.store)}function Cw(e){return Pb(e,cb.store)}function Aw(e){return e.path.toArray()}var Nw=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Fm(n<r&&n>=0&&r<=11);var o=new Ib("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ib.store)}(e),function(e){e.createObjectStore(ob.store,{keyPath:ob.keyPath}),e.createObjectStore(ab.store,{keyPath:ab.keyPath,autoIncrement:!0}).createIndex(ab.userMutationsIndex,ab.userMutationsKeyPath,{unique:!0}),e.createObjectStore(sb.store)}(e),Dw(e),function(e){e.createObjectStore(cb.store)}(e));var a=Tb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(fb.store),e.deleteObjectStore(db.store),e.deleteObjectStore(pb.store)}(e),Dw(e)),a=a.next((function(){return function(e){var t=e.store(pb.store),n=new pb(0,0,Gm.min().toTimestamp(),0);return t.put(pb.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(ab.store).Nt().next((function(n){e.deleteObjectStore(ab.store),e.createObjectStore(ab.store,{keyPath:ab.keyPath,autoIncrement:!0}).createIndex(ab.userMutationsIndex,ab.userMutationsKeyPath,{unique:!0});var r=t.store(ab.store),i=n.map((function(e){return r.put(e)}));return Tb.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(gb.store,{keyPath:gb.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(hb.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(cb.store);t.createIndex(cb.readTimeIndex,cb.readTimeIndexPath,{unique:!1}),t.createIndex(cb.collectionReadTimeIndex,cb.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(yb.store,{keyPath:yb.keyPath})}(e),function(e){e.createObjectStore(vb.store,{keyPath:vb.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(cb.store).$t((function(e,n){t+=ow(n)})).next((function(){var n=new hb(t);return e.store(hb.store).put(hb.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(ob.store),r=e.store(ab.store);return n.Nt().next((function(n){return Tb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ab.userMutationsIndex,i).next((function(r){return Tb.forEach(r,(function(r){Fm(r.userId===n.userId);var i=Kb(t.R,r);return iw(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(fb.store),n=e.store(cb.store);return e.store(pb.store).get(pb.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Xm(n),a=function(e){return[0,Zv(e)]}(o);r.push(t.get(a).next((function(n){return n?Tb.resolve():function(n){return t.put(new fb(0,Zv(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Tb.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(mb.store,{keyPath:mb.keyPath});var n=t.store(mb.store),r=new Zb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Zv(i)})}};return t.store(cb.store).$t({Ft:!0},(function(e,t){var n=new Xm(e);return i(n.popLast())})).next((function(){return t.store(sb.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=nb(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(db.store);return n.$t((function(e,r){var i=Gb(r),o=$b(t.R,i);return n.put(o)}))},e}();function Dw(e){e.createObjectStore(fb.store,{keyPath:fb.keyPath}).createIndex(fb.documentTargetsIndex,fb.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(db.store,{keyPath:db.keyPath}).createIndex(db.queryTargetsIndexName,db.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(pb.store)}var Ow="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rw=function(){function e(t,n,r,i,o,a,s,u,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Nm(Am.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ew(this,i),this.Le=n+"main",this.R=new Fb(u),this.Be=new xb(this.Le,11,new Nw(this.R)),this.qe=new dw(this.referenceDelegate,this.R),this.Ut=new ew,this.Ue=function(e,t){return new xw(e,t)}(this.R,this.Ut),this.Ke=new Wb,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&Pm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Nm(Am.FAILED_PRECONDITION,Ow);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Cm(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return ch(t,void 0,void 0,(function(){return hh(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return ch(t,void 0,void 0,(function(){return hh(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return ch(t,void 0,void 0,(function(){return hh(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return jw(t).put(new gb(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Cb(t))return Rm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Rm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Pw(e).get(ib.key).next((function(e){return Tb.resolve(t.tn(e))}))},e.prototype.en=function(e){return jw(e).delete(this.clientId)},e.prototype.nn=function(){return ch(this,void 0,void 0,(function(){var e,t,n,r,i=this;return hh(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Pb(e,gb.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Tb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Tb.resolve(!0):Pw(e).get(ib.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Nm(Am.FAILED_PRECONDITION,Ow);return!1}}return!(!t.networkEnabled||!t.inForeground)||jw(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Rm("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return ch(this,void 0,void 0,(function(){var e=this;return hh(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ib.store,gb.store],(function(t){var n=new Rb(t,Cm.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return jw(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return aw.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Rm("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,bb,(function(o){return i=new Rb(o,r.Ne?r.Ne.next():Cm.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Pm("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Nm(Am.FAILED_PRECONDITION,wb);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Pw(e).get(ib.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Nm(Am.FAILED_PRECONDITION,Ow)}))},e.prototype.Ze=function(e){var t=new ib(this.clientId,this.allowTabSynchronization,Date.now());return Pw(e).put(ib.key,t)},e.yt=function(){return xb.yt()},e.prototype.Xe=function(e){var t=this,n=Pw(e);return n.get(ib.key).next((function(e){return t.tn(e)?(Rm("IndexedDbPersistence","Releasing primary lease."),n.delete(ib.key)):Tb.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Pm("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!gc()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Rm("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Pm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Pm("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Pw(e){return Pb(e,ib.store)}function jw(e){return Pb(e,gb.store)}function Lw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Mw=function(e,t){this.progress=e,this.wn=t},Fw=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return dg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):ry(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new dg(t)).next((function(e){var t=iv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=iv();return this.Ut.getCollectionParents(e,i).next((function(a){return Tb.forEach(a,(function(a){var s=function(e,t){return new Yg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=r.get(l);null==c&&(c=Ag.newInvalidDocument(l),r=r.insert(l,c)),Py(u,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(e,n){cy(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=uv(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Vy&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))})),l}))},e}(),Vw=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=uv(),i=uv(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Uw=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Gm.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Zg(t)||ey(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Om()<=Lc.DEBUG&&Rm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ly(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Zy(hy(e));return t.forEach((function(t,r){cy(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Om()<=Lc.DEBUG&&Rm("QueryEngine","Using full collection scan to execute query:",ly(t)),this.Sn.getDocumentsMatchingQuery(e,t,Gm.min())},e}(),Bw=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Yy(qm),this.Fn=new Tw((function(e){return Og(e)}),Rg),this.$n=Gm.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Fw(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function qw(e,t,n,r){return new Bw(e,t,n,r)}function zw(e,t){return ch(this,void 0,void 0,(function(){var n,r,i,o;return hh(this,(function(a){switch(a.label){case 0:return n=Vm(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Fw(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=uv(),s=0,u=o;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var d=h[c];a=a.add(d.key)}}for(var f=0,p=t;f<p.length;f++){var m=p[f];r.push(m.batchId);for(var g=0,y=m.mutations;g<y.length;g++){var v=y[g];a=a.add(v.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Hw(e,t){var n=Vm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Tb.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Fm(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Kw(e){var t=Vm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Gw(e,t){var n=Vm(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var l=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,l),function(e,t,n){return Fm(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,l,t)&&a.push(n.qe.updateTargetData(e,l))}}}));var s=nv();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push($w(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Gm.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Tb.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function $w(e,t,n,r,i){var o=uv();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=nv();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Gm.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Rm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Qw(e,t){var n=Vm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Ww(e,t){var n=Vm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Tb.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Mb(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Yw(e,t,n){return ch(this,void 0,void 0,(function(){var r,i,o,a;return hh(this,(function(s){switch(s.label){case 0:r=Vm(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Cb(a=s.sent()))throw a;return Rm("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Xw(e,t,n){var r=Vm(e),i=Gm.min(),o=uv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Vm(e),i=r.Fn.get(n);return void 0!==i?Tb.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,oy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Gm.min(),n?o:uv())})).next((function(e){return{documents:e,Bn:o}}))}))}function Jw(e,t){var n=Vm(e),r=Vm(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Zw(e){var t=Vm(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Vm(e),i=nv(),o=Bb(n),a=Cw(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:cb.readTimeIndex,range:s},(function(e,t){var n=Vb(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:qb(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function eE(e){return ch(this,void 0,void 0,(function(){var t;return hh(this,(function(n){return[2,(t=Vm(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Cw(e),n=Gm.min();return t.$t({index:cb.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=qb(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function tE(e,t,n,r){return ch(this,void 0,void 0,(function(){var i,o,a,s,u,l,c,h,d,f;return hh(this,(function(p){switch(p.label){case 0:for(i=Vm(e),o=uv(),a=nv(),s=av(),u=0,l=n;u<l.length;u++)c=l[u],h=t.qn(c.metadata.name),c.document&&(o=o.add(h)),a=a.insert(h,t.Un(c)),s=s.insert(h,t.Kn(c.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Ww(i,function(e){return oy(Jg(Xm.fromString("__bundle__/docs/"+e)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $w(e,d,a,Gm.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,f.targetId).next((function(){return i.qe.addMatchingKeys(e,o,f.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function nE(e,t,n){return void 0===n&&(n=uv()),ch(this,void 0,void 0,(function(){var r,i;return hh(this,(function(o){switch(o.label){case 0:return[4,Ww(e,oy(Qb(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Vm(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=kv(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(tg.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var rE=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Tb.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:kv(n.createTime)}),Tb.resolve()},e.prototype.getNamedQuery=function(e,t){return Tb.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Qb(e.bundledQuery),readTime:kv(e.readTime)}}(t)),Tb.resolve()},e}(),iE=function(){function e(){this.Wn=new Zy(oE.Gn),this.zn=new Zy(oE.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new oE(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new oE(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new dg(new Xm([])),r=new oE(n,e),i=new oE(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new dg(new Xm([])),n=new oE(t,e),r=new oE(t,e+1),i=uv();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new oE(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),oE=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return dg.comparator(e.key,t.key)||qm(e.ns,t.ns)},e.Hn=function(e,t){return qm(e.ns,t.ns)||dg.comparator(e.key,t.key)},e}(),aE=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Zy(oE.Gn)}return e.prototype.checkEmpty=function(e){return Tb.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new jb(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new oE(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Tb.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Tb.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Tb.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Tb.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Tb.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new oE(t,0),i=new oE(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Tb.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Zy(qm);return t.forEach((function(e){var t=new oE(e,0),i=new oE(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Tb.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;dg.isDocumentKey(i)||(i=i.child(""));var o=new oE(new dg(i),0),a=new Zy(qm);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Tb.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Fm(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Tb.forEach(t.mutations,(function(i){var o=new oE(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new oE(t,0),r=this.rs.firstAfterOrEqual(n);return Tb.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Tb.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),sE=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Yy(dg.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Tb.resolve(n?n.document.clone():Ag.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=nv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Ag.newInvalidDocument(e))})),Tb.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=nv(),i=new dg(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,l=u.document,c=u.readTime;if(!t.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||cy(t,l)&&(r=r.insert(l.key,l.clone()))}return Tb.resolve(r)},e.prototype.fs=function(e,t){return Tb.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new uE(this)},e.prototype.getSize=function(e){return Tb.resolve(this.size)},e}(),uE=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return lh(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Tb.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Iw),lE=function(){function e(e){this.persistence=e,this.ds=new Tw((function(e){return Og(e)}),Rg),this.lastRemoteSnapshotVersion=Gm.min(),this.highestTargetId=0,this.ws=0,this._s=new iE,this.targetCount=0,this.ys=hw.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Tb.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Tb.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Tb.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Tb.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Tb.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new hw(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Tb.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Tb.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Tb.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Tb.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Tb.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Tb.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Tb.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Tb.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Tb.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Tb.resolve(n)},e.prototype.containsKey=function(e,t){return Tb.resolve(this._s.containsKey(t))},e}(),cE=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Cm(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new lE(this),this.Ut=new Jb,this.Ue=function(e){return new sE(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Fb(t),this.Ke=new rE(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new aE(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Rm("MemoryPersistence","Starting transaction:",e);var i=new hE(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Tb.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),hE=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return lh(t,e),t}(Eb),dE=function(){function e(e){this.persistence=e,this.As=new iE,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Mm()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Tb.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Tb.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Tb.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tb.forEach(this.vs,(function(r){var i=dg.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Tb.or([function(){return Tb.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),fE=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function pE(e,t){return"firestore_clients_"+e+"_"+t}function mE(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function gE(e,t){return"firestore_targets_"+e+"_"+t}fE.UNAUTHENTICATED=new fE(null),fE.GOOGLE_CREDENTIALS=new fE("google-credentials-uid"),fE.FIRST_PARTY=new fE("first-party-uid"),fE.MOCK_USER=new fE("mock-user");var yE=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Nm(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Pm("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),vE=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Nm(i.error.code,i.error.message)),o?new e(t,i.state,r):(Pm("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),bE=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=cv(),a=0;i&&a<r.activeTargetIds.length;++a)i=hg(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Pm("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),wE=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Pm("SharedClientState","Failed to parse online state: "+t),null)},e}(),EE=function(){function e(){this.activeTargetIds=cv()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),SE=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Yy(qm),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=pE(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new EE),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return ch(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,l,c,h=this;return hh(this,(function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=d.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(pE(this.persistenceKey,r)))&&(o=bE.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,l=this.$s;u<l.length;u++)c=l[u],this.ks(c);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(gE(this.persistenceKey,e));if(n){var r=vE.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(gE(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Rm("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Rm("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Rm("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Rm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Pm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return ch(t,void 0,void 0,(function(){var e,t,r,i,o,a;return hh(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Cm.o;if(null!=e)try{var n=JSON.parse(e);Fm("number"==typeof n),t=n}catch(e){Pm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Cm.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new yE(this.currentUser,e,t,n),i=mE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=mE(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=gE(this.persistenceKey,e),i=new vE(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return bE.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yE.Vs(new fE(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return vE.Vs(r,t)},e.prototype.js=function(e){return wE.Vs(e)},e.prototype.ii=function(e){return ch(this,void 0,void 0,(function(){return hh(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Rm("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=cv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),TE=function(){function e(){this.li=new EE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new EE,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),IE=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),xE=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Rm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Rm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),kE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_E=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),CE=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return lh(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new _m;a.listenOnce(Sm.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Em.NO_ERROR:var t=a.getResponseJson();Rm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Em.TIMEOUT:Rm("Connection",'RPC "'+e+'" timed out'),o(new Nm(Am.DEADLINE_EXCEEDED,"Request time out"));break;case Em.HTTP_ERROR:var n=a.getStatus();if(Rm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Am).indexOf(t)>=0?t:Am.UNKNOWN}(r.status);o(new Nm(s,r.message))}else o(new Nm(Am.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Nm(Am.UNAVAILABLE,"Connection failed."));break;default:Mm()}}finally{Rm("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=bm(),i=wm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new xm({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mc())||"object"===typeof navigator&&"ReactNative"===navigator.product||mc().indexOf("Electron/")>=0||function(){var e=mc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||mc().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Rm("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,l=!1,c=new _E({Ei:function(e){l?Rm("Connection","Not sending because WebChannel is closed:",e):(u||(Rm("Connection","Opening WebChannel transport."),s.open(),u=!0),Rm("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,km.EventType.OPEN,(function(){l||Rm("Connection","WebChannel transport opened.")})),h(s,km.EventType.CLOSE,(function(){l||(l=!0,Rm("Connection","WebChannel transport closed"),c.Vi())})),h(s,km.EventType.ERROR,(function(e){l||(l=!0,jm("Connection","WebChannel transport errored:",e),c.Vi(new Nm(Am.UNAVAILABLE,"The operation could not be completed")))})),h(s,km.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Fm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Rm("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=zy[e];if(void 0!==t)return Wy(t)}(o),u=i.message;void 0===a&&(a=Am.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,c.Vi(new Nm(a,u)),s.close()}else Rm("Connection","WebChannel received:",n),c.Si(n)}})),h(i,Tm.STAT_EVENT,(function(e){e.stat===Im.PROXY?Rm("Connection","Detected buffering proxy"):e.stat===Im.NOPROXY&&Rm("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Pi()}),0),c},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Rm("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Rm("RestConnection","Received: ",e),e}),(function(t){throw jm("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=kE[e];return this.Di+"/v1/"+t+":"+n},e}());function AE(){return"undefined"!=typeof window?window:null}function NE(){return"undefined"!=typeof document?document:null}function DE(e){return new Sv(e,!0)}var OE=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Rm("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),RE=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new OE(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return ch(this,void 0,void 0,(function(){return hh(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return ch(this,void 0,void 0,(function(){return hh(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return ch(this,void 0,void 0,(function(){return hh(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Am.RESOURCE_EXHAUSTED?(Pm(t.toString()),Pm("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Am.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Nm(Am.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return ch(e,void 0,void 0,(function(){return hh(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Rm("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Rm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),PE=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return lh(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Fm(void 0===t||"string"==typeof t),tg.fromBase64String(t||"")):(Fm(void 0===t||t instanceof Uint8Array),tg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Am.UNKNOWN:Wy(e.code);return new Nm(t,e.message||"")}(s);n=new mv(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Nv(e,r.document.name),o=kv(r.document.updateTime);var s=new _g({mapValue:{fields:r.document.fields}}),u=(a=Ag.newFoundDocument(i,o,s),r.targetIds||[]),l=r.removedTargetIds||[];n=new fv(u,l,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Nv(e,r.document),o=r.readTime?kv(r.readTime):Gm.min(),s=Ag.newNoDocument(i,o),a=r.removedTargetIds||[],n=new fv([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Nv(e,r.document),o=r.removedTargetIds||[],n=new fv([],o,i,null);else{if(!("filter"in t))return Mm();t.filter;var c=t.filter;c.targetId,r=c.count||0,i=new $y(r),o=c.targetId,n=new pv(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Gm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Gm.min():t.readTime?kv(t.readTime):Gm.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Rv(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Pg(r)?{documents:Vv(e,r)}:{query:Uv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Iv(e,t.resumeToken):t.snapshotVersion.compareTo(Gm.min())>0&&(n.readTime=Tv(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Rv(this.R),t.removeTarget=e,this.cr(t)},t}(RE),jE=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return lh(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Fm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Fm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?kv(e.updateTime):kv(t);return n.isEqual(Gm.min())&&(n=kv(t)),new Ay(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=kv(e.commitTime);return this.listener.Tr(n,t)}return Fm(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Rv(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Mv(t.R,e)}))};this.cr(n)},t}(RE),LE=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return lh(t,e),t.prototype.br=function(){if(this.Rr)throw new Nm(Am.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Am.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Nm(Am.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Am.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Nm(Am.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),ME=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Pm(t),this.Vr=!1):Rm("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),FE=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return ch(o,void 0,void 0,(function(){return hh(this,(function(e){switch(e.label){case 0:return $E(this)?(Rm("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return ch(this,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:return(t=Vm(e)).Or.add(4),[4,UE(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,VE(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new ME(n,r)};function VE(e){return ch(this,void 0,void 0,(function(){var t,n;return hh(this,(function(r){switch(r.label){case 0:if(!$E(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function UE(e){return ch(this,void 0,void 0,(function(){var t,n;return hh(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function BE(e,t){var n=Vm(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),GE(n)?KE(n):uS(n).er()&&zE(n,t))}function qE(e,t){var n=Vm(e),r=uS(n);n.$r.delete(t),r.er()&&HE(n,t),0===n.$r.size&&(r.er()?r.ir():$E(n)&&n.Br.set("Unknown"))}function zE(e,t){e.qr.U(t.targetId),uS(e).mr(t)}function HE(e,t){e.qr.U(t),uS(e).yr(t)}function KE(e){e.qr=new yv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),uS(e).start(),e.Br.Sr()}function GE(e){return $E(e)&&!uS(e).tr()&&e.$r.size>0}function $E(e){return 0===Vm(e).Or.size}function QE(e){e.qr=void 0}function WE(e){return ch(this,void 0,void 0,(function(){return hh(this,(function(t){return e.$r.forEach((function(t,n){zE(e,t)})),[2]}))}))}function YE(e,t){return ch(this,void 0,void 0,(function(){return hh(this,(function(n){return QE(e),GE(e)?(e.Br.Nr(t),KE(e)):e.Br.set("Unknown"),[2]}))}))}function XE(e,t,n){return ch(this,void 0,void 0,(function(){var r,i,o;return hh(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof mv&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return ch(this,void 0,void 0,(function(){var n,r,i,o;return hh(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Rm("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,JE(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof fv?e.qr.X(t):t instanceof pv?e.qr.rt(t):e.qr.et(t),n.isEqual(Gm.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Kw(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(tg.EMPTY_BYTE_STRING,n.snapshotVersion)),HE(e,t);var r=new Mb(n.target,t,1,n.sequenceNumber);zE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Rm("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,JE(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function JE(e,t,n){return ch(this,void 0,void 0,(function(){var r=this;return hh(this,(function(i){switch(i.label){case 0:if(!Cb(t))throw t;return e.Or.add(1),[4,UE(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Kw(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return ch(r,void 0,void 0,(function(){return hh(this,(function(t){switch(t.label){case 0:return Rm("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,VE(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function ZE(e,t){return t().catch((function(n){return JE(e,n,t)}))}function eS(e){return ch(this,void 0,void 0,(function(){var t,n,r,i,o;return hh(this,(function(a){switch(a.label){case 0:t=Vm(e),n=lS(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return $E(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Qw(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=lS(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,JE(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return tS(t)&&nS(t),[2]}}))}))}function tS(e){return $E(e)&&!lS(e).tr()&&e.Fr.length>0}function nS(e){lS(e).start()}function rS(e){return ch(this,void 0,void 0,(function(){return hh(this,(function(t){return lS(e).Ar(),[2]}))}))}function iS(e){return ch(this,void 0,void 0,(function(){var t,n,r,i;return hh(this,(function(o){for(t=lS(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function oS(e,t,n){return ch(this,void 0,void 0,(function(){var r,i;return hh(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Lb.from(r,t,n),[4,ZE(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,eS(e)];case 2:return o.sent(),[2]}}))}))}function aS(e,t){return ch(this,void 0,void 0,(function(){return hh(this,(function(n){switch(n.label){case 0:return t&&lS(e).pr?[4,function(e,t){return ch(this,void 0,void 0,(function(){var n,r;return hh(this,(function(i){switch(i.label){case 0:return Qy(r=t.code)&&r!==Am.ABORTED?(n=e.Fr.shift(),lS(e).sr(),[4,ZE(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,eS(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return tS(e)&&nS(e),[2]}}))}))}function sS(e,t){return ch(this,void 0,void 0,(function(){var n;return hh(this,(function(r){switch(r.label){case 0:return n=Vm(e),t?(n.Or.delete(2),[4,VE(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,UE(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function uS(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Vm(e);return r.br(),new PE(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:WE.bind(null,e),Ri:YE.bind(null,e),_r:XE.bind(null,e)}),e.Mr.push((function(n){return ch(t,void 0,void 0,(function(){return hh(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),GE(e)?KE(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),QE(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function lS(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Vm(e);return r.br(),new jE(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:rS.bind(null,e),Ri:aS.bind(null,e),Ir:iS.bind(null,e),Tr:oS.bind(null,e)}),e.Mr.push((function(n){return ch(t,void 0,void 0,(function(){return hh(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,eS(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Rm("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var cS=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Sb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nm(Am.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function hS(e,t){if(Pm("AsyncQueue",t+": "+e),Cb(e))return new Nm(Am.UNAVAILABLE,t+": "+e);throw e}var dS=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||dg.comparator(t.key,n.key)}:function(e,t){return dg.comparator(e.key,t.key)},this.keyedMap=iv(),this.sortedSet=new Yy(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),fS=function(){function e(){this.Qr=new Yy(dg.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Mm():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),pS=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,dS.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),mS=function(){this.Wr=void 0,this.listeners=[]},gS=function(){this.queries=new Tw((function(e){return uy(e)}),sy),this.onlineState="Unknown",this.Gr=new Set};function yS(e,t){return ch(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return hh(this,(function(l){switch(l.label){case 0:if(n=Vm(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new mS),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=l.sent(),[3,4];case 3:return s=l.sent(),u=hS(s,"Initialization of query '"+ly(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&ES(n),[2]}}))}))}function vS(e,t){return ch(this,void 0,void 0,(function(){var n,r,i,o,a;return hh(this,(function(s){return n=Vm(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function bS(e,t){for(var n=Vm(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(a)&&(r=!0);u.Wr=a}}r&&ES(n)}function wS(e,t,n){var r=Vm(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function ES(e){e.Gr.forEach((function(e){e.next()}))}var SS=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new pS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=pS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),TS=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),IS=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Nv(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Lv(this.R,e.document,!1):Ag.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return kv(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=xS(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new IS(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var l=u[s],c=(t.get(l)||uv()).add(a);t.set(l,c)}}return t},e.prototype.complete=function(){return ch(this,void 0,void 0,(function(){var e,t,n,r,i;return hh(this,(function(o){switch(o.label){case 0:return[4,tE(this.localStore,new IS(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,nE(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mw(Object.assign({},this.progress),e))]}}))}))}}();function xS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var kS=function(e){this.key=e},_S=function(e){this.key=e},CS=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=uv(),this.mutatedKeys=uv(),this.lo=hy(e),this.fo=new dS(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new fS,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Zg(this.query)&&i.size===this.query.limit?i.last():null,l=ey(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=cy(n.query,t)?t:null,d=!!c&&n.mutatedKeys.has(c.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||l&&n.lo(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=f?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Zg(this.query)||ey(this.query))for(;a.size>this.query.limit;){var c=Zg(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mm()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new pS(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new fS,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=uv(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new _S(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new kS(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=uv();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return pS.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),AS=function(e,t,n){this.query=e,this.targetId=t,this.view=n},NS=function(e){this.key=e,this.bo=!1},DS=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Tw((function(e){return uy(e)}),sy),this.Vo=new Map,this.So=new Set,this.Do=new Yy(dg.comparator),this.Co=new Map,this.No=new iE,this.xo={},this.ko=new Map,this.Fo=hw.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function OS(e,t){return ch(this,void 0,void 0,(function(){var n,r,i,o,a,s;return hh(this,(function(u){switch(u.label){case 0:return n=sT(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Ww(n.localStore,oy(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,RS(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&BE(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function RS(e,t,n,r){return ch(this,void 0,void 0,(function(){var i,o,a,s,u,l;return hh(this,(function(c){switch(c.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return ch(this,void 0,void 0,(function(){var i,o,a;return hh(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Xw(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(GS(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Xw(e.localStore,t,!0)];case 1:return i=c.sent(),o=new CS(t,i.Bn),a=o._o(i.documents),s=dv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),GS(e,n,u.To),l=new AS(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function PS(e,t){return ch(this,void 0,void 0,(function(){var n,r,i;return hh(this,(function(o){switch(o.label){case 0:return n=Vm(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!sy(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Yw(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),qE(n.remoteStore,r.targetId),HS(n,r.targetId)})).catch(gw)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return HS(n,r.targetId),[4,Yw(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function jS(e,t,n){return ch(this,void 0,void 0,(function(){var r,i,o,a;return hh(this,(function(s){switch(s.label){case 0:r=uT(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Vm(e),i=Km.now(),o=t.reduce((function(e,t){return e.add(t.key)}),uv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var l=u[s],c=jy(l,n.get(l.key));null!=c&&a.push(new Vy(l.key,c,Cg(c.value.mapValue),Ny.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Yy(qm)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,WS(r,i.changes)];case 3:return s.sent(),[4,eS(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=hS(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function LS(e,t){return ch(this,void 0,void 0,(function(){var n,r;return hh(this,(function(i){switch(i.label){case 0:n=Vm(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Gw(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Fm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Fm(r.bo):e.removedDocuments.size>0&&(Fm(r.bo),r.bo=!1))})),[4,WS(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,gw(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function MS(e,t,n){var r=Vm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Vm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&ES(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function FS(e,t,n){return ch(this,void 0,void 0,(function(){var r,i,o,a,s,u;return hh(this,(function(l){switch(l.label){case 0:return(r=Vm(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Yy(dg.comparator)).insert(o,Ag.newNoDocument(o,Gm.min())),s=uv().add(o),u=new hv(Gm.min(),new Map,new Zy(qm),a,s),[4,LS(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),QS(r),[3,4];case 2:return[4,Yw(r.localStore,t,!1).then((function(){return HS(r,t,n)})).catch(gw)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function VS(e,t){return ch(this,void 0,void 0,(function(){var n,r,i;return hh(this,(function(o){switch(o.label){case 0:n=Vm(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Hw(n.localStore,t)];case 2:return i=o.sent(),zS(n,r,null),qS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,WS(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,gw(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function US(e,t,n){return ch(this,void 0,void 0,(function(){var r,i;return hh(this,(function(o){switch(o.label){case 0:r=Vm(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Vm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Fm(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),zS(r,t,n),qS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,WS(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,gw(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function BS(e,t){return ch(this,void 0,void 0,(function(){var n,r,i,o,a;return hh(this,(function(s){switch(s.label){case 0:$E((n=Vm(e)).remoteStore)||Rm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Vm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=hS(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function qS(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function zS(e,t,n){var r=Vm(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function HS(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||KS(e,t)}))}function KS(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(qE(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),QS(e))}function GS(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof kS?(e.No.addReference(o.key,t),$S(e,o)):o instanceof _S?(Rm("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||KS(e,o.key)):Mm()}}function $S(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Rm("SyncEngine","New document in limbo: "+n),e.So.add(r),QS(e))}function QS(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new dg(Xm.fromString(t)),r=e.Fo.next();e.Co.set(r,new NS(n)),e.Do=e.Do.insert(n,r),BE(e.remoteStore,new Mb(oy(Jg(n.path)),r,2,Cm.o))}}function WS(e,t,n){return ch(this,void 0,void 0,(function(){var r,i,o,a;return hh(this,(function(s){switch(s.label){case 0:return r=Vm(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Vw.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return ch(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c;return hh(this,(function(h){switch(h.label){case 0:n=Vm(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Tb.forEach(t,(function(t){return Tb.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Tb.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Cb(r=h.sent()))throw r;return Rm("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function YS(e,t){return ch(this,void 0,void 0,(function(){var n,r;return hh(this,(function(i){switch(i.label){case 0:return(n=Vm(e)).currentUser.isEqual(t)?[3,3]:(Rm("SyncEngine","User change. New user:",t.toKey()),[4,zw(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Nm(Am.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,WS(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function XS(e,t){var n=Vm(e),r=n.Co.get(t);if(r&&r.bo)return uv().add(r.key);var i=uv(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function JS(e,t){return ch(this,void 0,void 0,(function(){var n,r,i;return hh(this,(function(o){switch(o.label){case 0:return[4,Xw((n=Vm(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&GS(n,t.targetId,i.To),i)]}}))}))}function ZS(e){return ch(this,void 0,void 0,(function(){var t;return hh(this,(function(n){return[2,Zw((t=Vm(e)).localStore).then((function(e){return WS(t,e)}))]}))}))}function eT(e,t,n,r){return ch(this,void 0,void 0,(function(){var i,o;return hh(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Vm(e),r=Vm(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Tb.resolve(null)}))}))}((i=Vm(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,eS(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(zS(i,t,r||null),qS(i,t),function(e,t){Vm(Vm(e)._n).Gt(t)}(i.localStore,t)):Mm(),a.label=4;case 4:return[4,WS(i,o)];case 5:return a.sent(),[3,7];case 6:Rm("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function tT(e,t){return ch(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l;return hh(this,(function(c){switch(c.label){case 0:return sT(n=Vm(e)),uT(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,nT(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,sS(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)s=a[o],BE(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):l=l.then((function(){return HS(n,t),Yw(n.localStore,t,!0)})),qE(n.remoteStore,t)})),[4,l]);case 4:return c.sent(),[4,nT(n,u)];case 5:return c.sent(),function(e){var t=Vm(e);t.Co.forEach((function(e,n){qE(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Yy(dg.comparator)}(n),n.$o=!1,[4,sS(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function nT(e,t,n){return ch(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,h,d,f,p,m;return hh(this,(function(g){switch(g.label){case 0:n=Vm(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(l=n.Vo.get(s))&&0!==l.length?[4,Ww(n.localStore,oy(l[0]))]:[3,7]):[3,13];case 2:u=g.sent(),c=0,h=l,g.label=3;case 3:return c<h.length?(d=h[c],f=n.Po.get(d),[4,JS(n,f)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,Jw(n.localStore,s)];case 8:return m=g.sent(),[4,Ww(n.localStore,m)];case 9:return u=g.sent(),[4,RS(n,rT(m),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function rT(e){return Xg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iT(e){var t=Vm(e);return Vm(Vm(t.localStore).persistence).fn()}function oT(e,t,n,r){return ch(this,void 0,void 0,(function(){var i,o,a;return hh(this,(function(s){switch(s.label){case 0:return(i=Vm(e)).$o?(Rm("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Zw(i.localStore)];case 3:return o=s.sent(),a=hv.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,WS(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Yw(i.localStore,t,!0)];case 6:return s.sent(),HS(i,t,r),[3,8];case 7:Mm(),s.label=8;case 8:return[2]}}))}))}function aT(e,t,n){return ch(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,h,d;return hh(this,(function(f){switch(f.label){case 0:if(!(r=sT(e)).$o)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Rm("SyncEngine","Adding an already active target "+a),[3,5]):[4,Jw(r.localStore,a)]):[3,6];case 2:return s=f.sent(),[4,Ww(r.localStore,s)];case 3:return u=f.sent(),[4,RS(r,rT(s),u.targetId,!1)];case 4:f.sent(),BE(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:l=function(e){return hh(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Yw(r.localStore,e,!1).then((function(){qE(r.remoteStore,e),HS(r,e)})).catch(gw)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,h=n,f.label=7;case 7:return c<h.length?(d=h[c],[5,l(d)]):[3,10];case 8:f.sent(),f.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function sT(e){var t=Vm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FS.bind(null,t),t.vo._r=bS.bind(null,t.eventManager),t.vo.Mo=wS.bind(null,t.eventManager),t}function uT(e){var t=Vm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=US.bind(null,t),t}var lT=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return ch(this,void 0,void 0,(function(){return hh(this,(function(t){switch(t.label){case 0:return this.R=DE(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return qw(this.persistence,new Uw,e.initialUser,this.R)},e.prototype.qo=function(e){return new cE(dE.bs,this.R)},e.prototype.Bo=function(e){return new TE},e.prototype.terminate=function(){return ch(this,void 0,void 0,(function(){return hh(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),cT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return lh(t,e),t.prototype.initialize=function(t){return ch(this,void 0,void 0,(function(){var n=this;return hh(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,eE(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,uT(this.Qo.syncEngine)];case 4:return r.sent(),[4,eS(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return qw(this.persistence,new Uw,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new bw(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Lw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rw.withCacheSize(this.cacheSizeBytes):rw.DEFAULT;return new Rw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,AE(),NE(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new TE},t}(lT),hT=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return lh(t,e),t.prototype.initialize=function(t){return ch(this,void 0,void 0,(function(){var n,r=this;return hh(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof SE?(this.sharedClientState.syncEngine={ui:eT.bind(null,n),ai:oT.bind(null,n),hi:aT.bind(null,n),fn:iT.bind(null,n),ci:ZS.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return ch(r,void 0,void 0,(function(){return hh(this,(function(t){switch(t.label){case 0:return[4,tT(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=AE();if(!SE.yt(t))throw new Nm(Am.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Lw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new SE(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(cT),dT=function(){function e(){}return e.prototype.initialize=function(e,t){return ch(this,void 0,void 0,(function(){var n=this;return hh(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return MS(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=YS.bind(null,this.syncEngine),[4,sS(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new gS},e.prototype.createDatastore=function(e){var t,n=DE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new CE(t));return function(e,t,n){return new LE(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return MS(a.syncEngine,e,0)},o=xE.yt()?new xE:new IE,new FE(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new DS(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return ch(this,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:return t=Vm(e),Rm("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,UE(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var fT=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),pT=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Sb,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return ch(this,void 0,void 0,(function(){return hh(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return ch(this,void 0,void 0,(function(){return hh(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return ch(this,void 0,void 0,(function(){var e,t,n,r;return hh(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new TS(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return ch(this,void 0,void 0,(function(){var e,t;return hh(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return ch(this,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return ch(this,void 0,void 0,(function(){var e,t;return hh(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return ch(this,void 0,void 0,(function(){var t,n=this;return hh(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Nm(Am.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return ch(this,void 0,void 0,(function(){var n,r,i,o,a,s;return hh(this,(function(u){switch(u.label){case 0:return n=Vm(e),r=Rv(n.R)+"/documents",i={documents:t.map((function(e){return Av(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Fm(!!t.found),t.found.name,t.found.updateTime;var n=Nv(e,t.found.name),r=kv(t.found.updateTime),i=new _g({mapValue:{fields:t.found.fields}});return Ag.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Fm(!!t.missing),Fm(!!t.readTime);var n=Nv(e,t.missing),r=kv(t.readTime);return Ag.newNoDocument(n,r)}(e,t):Mm()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Fm(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ky(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return ch(this,void 0,void 0,(function(){var e,t=this;return hh(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=dg.fromPath(n);t.mutations.push(new Gy(r,t.precondition(r)))})),[4,function(e,t){return ch(this,void 0,void 0,(function(){var n,r,i;return hh(this,(function(o){switch(o.label){case 0:return n=Vm(e),r=Rv(n.R)+"/documents",i={writes:t.map((function(e){return Mv(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mm();t=Gm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nm(Am.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ny.updateTime(t):Ny.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gm.min()))throw new Nm(Am.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ny.updateTime(t)}return Ny.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),mT=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new OE(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return ch(e,void 0,void 0,(function(){var e,t,n=this;return hh(this,(function(r){return e=new pT(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!lg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Qy(t)}return!1},e}(),gT=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=fE.UNAUTHENTICATED,this.clientId=Bm.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return ch(r,void 0,void 0,(function(){return hh(this,(function(t){switch(t.label){case 0:return Rm("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return ch(this,void 0,void 0,(function(){return hh(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Nm(Am.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Sb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return ch(e,void 0,void 0,(function(){var e,n;return hh(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=hS(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function yT(e,t){return ch(this,void 0,void 0,(function(){var n,r,i=this;return hh(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Rm("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return ch(i,void 0,void 0,(function(){return hh(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,zw(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function vT(e,t){return ch(this,void 0,void 0,(function(){var n,r;return hh(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,bT(e)];case 1:return n=i.sent(),Rm("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return ch(this,void 0,void 0,(function(){var n,r;return hh(this,(function(i){switch(i.label){case 0:return(n=Vm(e)).asyncQueue.verifyOperationInProgress(),Rm("RemoteStore","RemoteStore received new credentials"),r=$E(n),n.Or.add(3),[4,UE(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,VE(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function bT(e){return ch(this,void 0,void 0,(function(){return hh(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Rm("FirestoreClient","Using default OfflineComponentProvider"),[4,yT(e,new lT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function wT(e){return ch(this,void 0,void 0,(function(){return hh(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Rm("FirestoreClient","Using default OnlineComponentProvider"),[4,vT(e,new dT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function ET(e){return bT(e).then((function(e){return e.persistence}))}function ST(e){return bT(e).then((function(e){return e.localStore}))}function TT(e){return wT(e).then((function(e){return e.remoteStore}))}function IT(e){return wT(e).then((function(e){return e.syncEngine}))}function xT(e){return ch(this,void 0,void 0,(function(){var t,n;return hh(this,(function(r){switch(r.label){case 0:return[4,wT(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=OS.bind(null,t.syncEngine),n.onUnlisten=PS.bind(null,t.syncEngine),n)]}}))}))}function kT(e,t,n){var r=this;void 0===n&&(n={});var i=new Sb;return e.asyncQueue.enqueueAndForget((function(){return ch(r,void 0,void 0,(function(){var r;return hh(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new fT({next:function(o){t.enqueueAndForget((function(){return vS(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Nm(Am.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Nm(Am.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new SS(Jg(n.path),o,{includeMetadataChanges:!0,so:!0});return yS(e,a)},[4,xT(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function _T(e,t,n){var r=this;void 0===n&&(n={});var i=new Sb;return e.asyncQueue.enqueueAndForget((function(){return ch(r,void 0,void 0,(function(){var r;return hh(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new fT({next:function(n){t.enqueueAndForget((function(){return vS(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Nm(Am.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new SS(n,o,{includeMetadataChanges:!0,so:!0});return yS(e,a)},[4,xT(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var CT=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},AT=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),NT=new Map,DT=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},OT=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(fE.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),RT=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),PT=function(){function e(e){var t=this;this.currentUser=fE.UNAUTHENTICATED,this.oc=new Sb,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Rm("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Rm("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Rm("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Fm("string"==typeof n.accessToken),new DT(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return ch(n,void 0,void 0,(function(){return hh(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Fm(null===e||"string"==typeof e),new fE(e)},e}(),jT=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=fE.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),LT=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new jT(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(fE.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function MT(e,t,n){if(!n)throw new Nm(Am.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function FT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nm(Am.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function VT(e,t,n,r){if(!0===t&&!0===r)throw new Nm(Am.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function UT(e){if(!dg.isDocumentKey(e))throw new Nm(Am.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function BT(e){if(dg.isDocumentKey(e))throw new Nm(Am.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function qT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Mm()}function zT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nm(Am.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qT(e);throw new Nm(Am.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function HT(e,t){if(t<=0)throw new Nm(Am.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var KT=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Nm(Am.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nm(Am.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,VT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),GT=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KT({}),this._settingsFrozen=!1,e instanceof AT?(this._databaseId=e,this._credentials=new OT):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nm(Am.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new AT(e.options.projectId)}(e),this._credentials=new PT(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Nm(Am.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Nm(Am.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KT(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new OT;switch(e.type){case"gapi":var t=e.client;return Fm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new LT(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Nm(Am.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=NT.get(this))&&(Rm("ComponentProvider","Removing Datastore"),NT.delete(this),e.terminate()),Promise.resolve();var e},e}(),$T=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new WT(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),QT=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),WT=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Jg(r))||this)._path=r,i.type="collection",i}return lh(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $T(this.firestore,null,new dg(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(QT);function YT(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ic(e),MT("collection","path",t),e instanceof GT)return BT(n=Xm.fromString.apply(Xm,dh([t],r))),new WT(e,null,n);if(!(e instanceof $T||e instanceof WT))throw new Nm(Am.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return BT(n=Xm.fromString.apply(Xm,dh([e.path],r)).child(Xm.fromString(t))),new WT(e.firestore,null,n)}function XT(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ic(e),1===arguments.length&&(t=Bm.u()),MT("doc","path",t),e instanceof GT)return UT(n=Xm.fromString.apply(Xm,dh([t],r))),new $T(e,null,new dg(n));if(!(e instanceof $T||e instanceof WT))throw new Nm(Am.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return UT(n=e._path.child(Xm.fromString.apply(Xm,dh([t],r)))),new $T(e.firestore,e instanceof WT?e.converter:null,new dg(n))}function JT(e,t){return e=Ic(e),t=Ic(t),(e instanceof $T||e instanceof WT)&&(t instanceof $T||t instanceof WT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ZT(e,t){return e=Ic(e),t=Ic(t),e instanceof QT&&t instanceof QT&&e.firestore===t.firestore&&sy(e._query,t._query)&&e.converter===t.converter}var eI=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new OE(this,"async_queue_retry"),this.Ic=function(){var t=NE();t&&Rm("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=NE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=NE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Sb;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return ch(this,void 0,void 0,(function(){var e,t=this;return hh(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Cb(e=n.sent()))throw e;return Rm("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Pm("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=cS.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Mm()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return ch(this,void 0,void 0,(function(){var e;return hh(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function tI(e){return function(e){if("object"!=typeof e||null===e)return!1;for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Sb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var nI=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new eI,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return lh(t,e),t.prototype._terminate=function(){return this._firestoreClient||iI(this),this._firestoreClient.terminate()},t}(GT);function rI(e){return e._firestoreClient||iI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function iI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new CT(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new gT(e._credentials,e._queue,r)}function oI(e,t,n){var r=this,i=new Sb;return e.asyncQueue.enqueue((function(){return ch(r,void 0,void 0,(function(){var r;return hh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,yT(e,n)];case 1:return o.sent(),[4,vT(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Am.FAILED_PRECONDITION||e.code===Am.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function aI(e){if(e._initialized||e._terminated)throw new Nm(Am.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sI=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Nm(Am.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zm(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),uI=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(tg.fromBase64String(t))}catch(t){throw new Nm(Am.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(tg.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),lI=function(e){this._methodName=e},cI=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nm(Am.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nm(Am.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return qm(this._lat,e._lat)||qm(this._long,e._long)},e}(),hI=/^__.*__$/,dI=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Vy(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fy(e,this.data,t,this.fieldTransforms)},e}(),fI=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Vy(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function pI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mm()}}var mI=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return jI(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(pI(this.Nc)&&hI.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),gI=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||DE(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new mI({Nc:e,methodName:t,qc:n,path:Zm.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function yI(e){var t=e._freezeSettings(),n=DE(e._databaseId);return new gI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vI(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);DI("Data must be an object, but it was:",a,r);var s,u,l=AI(r,a);if(o.merge)s=new eg(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,d=o.mergeFields;h<d.length;h++){var f=OI(t,d[h],n);if(!a.contains(f))throw new Nm(Am.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");LI(c,f)||c.push(f)}s=new eg(c),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new dI(new _g(l),s,u)}var bI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lh(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(lI);function wI(e,t,n){return new mI({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var EI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lh(t,e),t.prototype._toFieldTransform=function(e){return new Cy(e.path,new wy)},t.prototype.isEqual=function(e){return e instanceof t},t}(lI),SI=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return lh(t,e),t.prototype._toFieldTransform=function(e){var t=wI(this,e,!0),n=this.Kc.map((function(e){return CI(e,t)})),r=new Ey(n);return new Cy(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(lI),TI=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return lh(t,e),t.prototype._toFieldTransform=function(e){var t=wI(this,e,!0),n=this.Kc.map((function(e){return CI(e,t)})),r=new Ty(n);return new Cy(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(lI),II=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return lh(t,e),t.prototype._toFieldTransform=function(e){var t=new xy(e.R,my(e.R,this.Qc));return new Cy(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(lI);function xI(e,t,n,r){var i=e.Uc(1,t,n);DI("Data must be an object, but it was:",i,r);var o=[],a=_g.empty();Qm(r,(function(e,r){var s=PI(t,e,n);r=Ic(r);var u=i.Oc(s);if(r instanceof bI)o.push(s);else{var l=CI(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new eg(o);return new fI(a,s,i.fieldTransforms)}function kI(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[OI(t,r,n)],u=[i];if(o.length%2!=0)throw new Nm(Am.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(OI(t,o[l])),u.push(o[l+1]);for(var c=[],h=_g.empty(),d=s.length-1;d>=0;--d)if(!LI(c,s[d])){var f=s[d],p=u[d];p=Ic(p);var m=a.Oc(f);if(p instanceof bI)c.push(f);else{var g=CI(p,m);null!=g&&(c.push(f),h.set(f,g))}}var y=new eg(c);return new fI(h,y,a.fieldTransforms)}function _I(e,t,n,r){return void 0===r&&(r=!1),CI(n,e.Uc(r?4:3,t))}function CI(e,t){if(NI(e=Ic(e)))return DI("Unsupported field value:",t,e),AI(e,t);if(e instanceof lI)return function(e,t){if(!pI(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=CI(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ic(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return my(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Km.fromDate(e);return{timestampValue:Tv(t.R,n)}}if(e instanceof Km)return n=new Km(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Tv(t.R,n)};if(e instanceof cI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uI)return{bytesValue:Iv(t.R,e._byteString)};if(e instanceof $T){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:_v(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+qT(e))}(e,t)}function AI(e,t){var n={};return Wm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qm(e,(function(e,r){var i=CI(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function NI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Km||e instanceof cI||e instanceof uI||e instanceof $T||e instanceof lI)}function DI(e,t,n){if(!NI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qT(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function OI(e,t,n){if((t=Ic(t))instanceof sI)return t._internalPath;if("string"==typeof t)return PI(e,t);throw jI("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var RI=new RegExp("[~\\*/\\[\\]]");function PI(e,t,n){if(t.search(RI)>=0)throw jI("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(sI.bind.apply(sI,dh([void 0],t.split(".")))))._internalPath}catch(Fx){throw jI("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function jI(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Nm(Am.INVALID_ARGUMENT,(s+=". ")+e+u)}function LI(e,t){return e.some((function(e){return e.isEqual(t)}))}var MI=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new $T(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(VI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),FI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lh(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(MI);function VI(e,t){return"string"==typeof t?PI(e,t):t instanceof sI?t._internalPath:t._delegate._internalPath}var UI=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),BI=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return lh(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new qI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(VI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(MI),qI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lh(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(BI),zI=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new UI(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new qI(n._firestore,n._userDataWriter,r.key,r,new UI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nm(Am.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new qI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new qI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:HI(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function HI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mm()}}function KI(e,t){return e instanceof BI&&t instanceof BI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zI&&t instanceof zI&&e._firestore===t._firestore&&ZT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function GI(e){if(ey(e)&&0===e.explicitOrderBy.length)throw new Nm(Am.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $I=function(){};function QI(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var WI=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return lh(t,e),t.prototype._apply=function(e){var t=yI(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Nm(Am.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){nx(a,o);for(var u=[],l=0,c=a;l<c.length;l++){var h=c[l];u.push(tx(r,e,h))}s={arrayValue:{values:u}}}else s=tx(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||nx(a,o),s=_I(n,"where",a,"in"===o||"not-in"===o);var d=jg.create(i,o,s);return function(e,t){if(t.g()){var n=ny(e);if(null!==n&&!n.isEqual(t.field))throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=ty(e);null!==r&&rx(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Nm(Am.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Nm(Am.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new QT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Yg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}($I),YI=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return lh(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gg(t,n);return function(e,t){if(null===ty(e)){var n=ny(e);null!==n&&rx(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new QT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Yg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}($I),XI=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return lh(t,e),t.prototype._apply=function(e){return new QT(e.firestore,e.converter,ay(e._query,this.Hc,this.Jc))},t}($I),JI=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return lh(t,e),t.prototype._apply=function(e){var t=ex(e,this.type,this.Yc,this.Xc);return new QT(e.firestore,e.converter,function(e,t){return new Yg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}($I),ZI=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return lh(t,e),t.prototype._apply=function(e){var t=ex(e,this.type,this.Yc,this.Xc);return new QT(e.firestore,e.converter,function(e,t){return new Yg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}($I);function ex(e,t,n,r){if(n[0]=Ic(n[0]),n[0]instanceof MI)return function(e,t,n,r,i){if(!r)throw new Nm(Am.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=iy(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(wg(t,r.key));else{var l=r.data.field(u.field);if(ag(l))throw new Nm(Am.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.canonicalString();throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(l)}}return new Hg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=yI(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Nm(Am.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var l=i[u];if(a[u].field.isKeyField()){if("string"!=typeof l)throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!ry(e)&&-1!==l.indexOf("/"))throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=e.path.child(Xm.fromString(l));if(!dg.isDocumentKey(c))throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new dg(c);s.push(wg(t,h))}else{var d=_I(n,r,l);s.push(d)}}return new Hg(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function tx(e,t,n){if("string"==typeof(n=Ic(n))){if(""===n)throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ry(t)&&-1!==n.indexOf("/"))throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Xm.fromString(n));if(!dg.isDocumentKey(r))throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return wg(e,new dg(r))}if(n instanceof $T)return wg(e,n._key);throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qT(n)+".")}function nx(e,t){if(!Array.isArray(e)||0===e.length)throw new Nm(Am.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Nm(Am.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function rx(e,t,n){if(!n.isEqual(t))throw new Nm(Am.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ix=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),fg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ig(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(og(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mm()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Qm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new cI(ig(e.latitude),ig(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=sg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ug(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=rg(e);return new Km(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Xm.fromString(e);Fm(Jv(n));var r=new AT(n.get(1),n.get(3)),i=new dg(n.popFirst(5));return r.isEqual(t)||Pm("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function ox(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ax=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return lh(t,e),t.prototype.convertBytes=function(e){return new uI(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $T(this.firestore,null,t)},t}(ix),sx=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yI(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=ux(e,this._firestore),i=ox(r.converter,t,n),o=vI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ny.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=ux(e,this._firestore);return o="string"==typeof(t=Ic(t))||t instanceof sI?kI(this._dataReader,"WriteBatch.update",a._key,t,n,r):xI(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Ny.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=ux(e,this._firestore);return this._mutations=this._mutations.concat(new Ky(t._key,Ny.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Nm(Am.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function ux(e,t){if((e=Ic(e)).firestore!==t)throw new Nm(Am.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var lx=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return lh(t,e),t.prototype.convertBytes=function(e){return new uI(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $T(this.firestore,null,t)},t}(ix);function cx(e,t,n){e=zT(e,$T);var r=zT(e.firestore,nI),i=ox(e.converter,t,n);return fx(r,[vI(yI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ny.none())])}function hx(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=zT(e,$T);var o=zT(e.firestore,nI),a=yI(o);return fx(o,[("string"==typeof(t=Ic(t))||t instanceof sI?kI(a,"updateDoc",e._key,t,n,r):xI(a,"updateDoc",e._key,t)).toMutation(e._key,Ny.exists(!0))])}function dx(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Ic(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||tI(i[s])||(a=i[s],s++);var u,l,c,h={includeMetadataChanges:a.includeMetadataChanges};if(tI(i[s])){var d=i[s];i[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),i[s+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[s+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof $T)l=zT(e.firestore,nI),c=Jg(e._key.path),u={next:function(t){i[s]&&i[s](px(l,e,t))},error:i[s+1],complete:i[s+2]};else{var f=zT(e,QT);l=zT(f.firestore,nI),c=f._query;var p=new lx(l);u={next:function(e){i[s]&&i[s](new zI(l,p,f,e))},error:i[s+1],complete:i[s+2]},GI(e._query)}return function(e,t,n,r){var i=this,o=new fT(r),a=new SS(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return ch(i,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:return t=yS,[4,xT(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return ch(i,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:return t=vS,[4,xT(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(rI(l),c,h,u)}function fx(e,t){return function(e,t){var n=this,r=new Sb;return e.asyncQueue.enqueueAndForget((function(){return ch(n,void 0,void 0,(function(){var n;return hh(this,(function(i){switch(i.label){case 0:return n=jS,[4,IT(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(rI(e),t)}function px(e,t,n){var r=n.docs.get(t._key),i=new lx(e);return new BI(e,i,t._key,r,new UI(n.hasPendingWrites,n.fromCache),t.converter)}var mx=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return lh(t,e),t.prototype.get=function(t){var n=this,r=ux(t,this._firestore),i=new lx(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new BI(n._firestore,i,r._key,e._document,new UI(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=yI(e)}return e.prototype.get=function(e){var t=this,n=ux(e,this._firestore),r=new ax(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Mm();var i=e[0];if(i.isFoundDocument())return new MI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new MI(t._firestore,r,n._key,null,n.converter);throw Mm()}))},e.prototype.set=function(e,t,n){var r=ux(e,this._firestore),i=ox(r.converter,t,n),o=vI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=ux(e,this._firestore);return o="string"==typeof(t=Ic(t))||t instanceof sI?kI(this._dataReader,"Transaction.update",a._key,t,n,r):xI(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=ux(e,this._firestore);return this._transaction.delete(t._key),this},e}());function gx(){if("undefined"==typeof Uint8Array)throw new Nm(Am.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function yx(){if("undefined"==typeof atob)throw new Nm(Am.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vx=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return yx(),new e(uI.fromBase64String(t))},e.fromUint8Array=function(t){return gx(),new e(uI.fromUint8Array(t))},e.prototype.toBase64=function(){return yx(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return gx(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),bx=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){aI(e=zT(e,nI));var n=rI(e),r=e._freezeSettings(),i=new dT;return oI(n,i,new cT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){aI(e=zT(e,nI));var t=rI(e),n=e._freezeSettings(),r=new dT;return oI(t,r,new hT(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Nm(Am.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Sb;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return ch(t,void 0,void 0,(function(){var t;return hh(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return ch(this,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:return xb.yt()?(t=e+"main",[4,xb.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Lw(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),wx=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof AT||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=zT(e,GT))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&jm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=fE.MOCK_USER;else{a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=lc({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dc(JSON.stringify({alg:"none",type:"JWT"})),dc(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Nm(Am.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new fE(u)}e._credentials=new RT(new DT(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return ch(t,void 0,void 0,(function(){var t,n;return hh(this,(function(r){switch(r.label){case 0:return[4,ET(e)];case 1:return t=r.sent(),[4,TT(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Vm(e);return t.Or.delete(0),VE(t)}(n))]}}))}))}))}(rI(zT(this._delegate,nI)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return ch(t,void 0,void 0,(function(){var t,n;return hh(this,(function(r){switch(r.label){case 0:return[4,ET(e)];case 1:return t=r.sent(),[4,TT(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return ch(this,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:return(t=Vm(e)).Or.add(0),[4,UE(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(rI(zT(this._delegate,nI)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&VT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Sb;return e.asyncQueue.enqueueAndForget((function(){return ch(t,void 0,void 0,(function(){var t;return hh(this,(function(r){switch(r.label){case 0:return t=BS,[4,IT(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(rI(zT(this._delegate,nI)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new fT(t);return e.asyncQueue.enqueueAndForget((function(){return ch(n,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:return t=function(e,t){Vm(e).Gr.add(t),t.next()},[4,xT(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return ch(n,void 0,void 0,(function(){var t;return hh(this,(function(n){switch(n.label){case 0:return t=function(e,t){Vm(e).Gr.delete(t)},[4,xT(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(rI(e=zT(e,nI)),tI(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Nm(Am.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Px(this,YT(this._delegate,e))}catch(e){throw kx(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new xx(this,XT(this._delegate,e))}catch(e){throw kx(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Dx(this,function(e,t){if(e=zT(e,GT),MT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nm(Am.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new QT(e,null,function(e){return new Yg(Xm.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw kx(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Sb;return e.asyncQueue.enqueueAndForget((function(){return ch(n,void 0,void 0,(function(){var n;return hh(this,(function(i){switch(i.label){case 0:return[4,function(e){return wT(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new mT(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(rI(e),(function(n){return t(new mx(e,n))}))}(this._delegate,(function(n){return e(new Sx(t,n))}))},e.prototype.batch=function(){var e=this;return rI(this._delegate),new Tx(new sx(this._delegate,(function(t){return fx(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Nm(Am.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Nm(Am.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ex=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return lh(t,e),t.prototype.convertBytes=function(e){return new vx(new uI(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return xx.eu(t,this.firestore,null)},t}(ix);var Sx=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ex(e)}return e.prototype.get=function(e){var t=this,n=jx(e);return this._delegate.get(n).then((function(e){return new Ax(t._firestore,new BI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=jx(e);return n?(FT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=jx(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,dh([a,t,n],i)),this},e.prototype.delete=function(e){var t=jx(e);return this._delegate.delete(t),this},e}(),Tx=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=jx(e);return n?(FT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=jx(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,dh([a,t,n],i)),this},e.prototype.delete=function(e){var t=jx(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ix=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new qI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nx(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Ex(t),n),i.set(n,o)),o},e}();Ix.su=new WeakMap;var xx=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ex(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Nm(Am.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new $T(n._delegate,r,new dg(t)))},e.eu=function(t,n,r){return new e(n,new $T(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Px(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Px(this.firestore,YT(this._delegate,e))}catch(e){throw kx(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Ic(e))instanceof $T&&JT(this._delegate,e)},e.prototype.set=function(e,t){t=FT("DocumentReference.set",t);try{return t?cx(this._delegate,e,t):cx(this._delegate,e)}catch(e){throw kx(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?hx(this._delegate,e):hx.apply(void 0,dh([this._delegate,e,t],n))}catch(e){throw kx(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return fx(zT((e=this._delegate).firestore,nI),[new Ky(e._key,Ny.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_x(t),i=Cx(t,(function(t){return new Ax(e.firestore,new BI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return dx(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zT(e,$T);var t=zT(e.firestore,nI),n=rI(t),r=new lx(t);return function(e,t){var n=this,r=new Sb;return e.asyncQueue.enqueueAndForget((function(){return ch(n,void 0,void 0,(function(){var n;return hh(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return ch(this,void 0,void 0,(function(){var r,i;return hh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Vm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Nm(Am.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=hS(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ST(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new BI(t,r,e._key,n,new UI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zT(e,$T);var t=zT(e.firestore,nI);return kT(rI(t),e._key,{source:"server"}).then((function(n){return px(t,e,n)}))}(this._delegate):function(e){e=zT(e,$T);var t=zT(e.firestore,nI);return kT(rI(t),e._key).then((function(n){return px(t,e,n)}))}(this._delegate)).then((function(e){return new Ax(t.firestore,new BI(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ix.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function kx(e,t,n){return e.message=e.message.replace(t,n),e}function _x(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!tI(r))return r}return{}}function Cx(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=tI(e[0])?e[0]:tI(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ax=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new xx(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return KI(this._delegate,e._delegate)},e}(),Nx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lh(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Ax),Dx=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ex(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,QI(this._delegate,function(e,t,n){var r=t,i=VI("where",e);return new WI(i,r,n)}(t,n,r)))}catch(t){throw kx(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,QI(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=VI("orderBy",e);return new YI(r,n)}(t,n)))}catch(t){throw kx(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,QI(this._delegate,function(e){return HT("limit",e),new XI("limit",e,"F")}(t)))}catch(t){throw kx(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,QI(this._delegate,function(e){return HT("limitToLast",e),new XI("limitToLast",e,"L")}(t)))}catch(t){throw kx(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,QI(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new JI("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw kx(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,QI(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new JI("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw kx(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,QI(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ZI("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw kx(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,QI(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ZI("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw kx(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return ZT(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zT(e,QT);var t=zT(e.firestore,nI),n=rI(t),r=new lx(t);return function(e,t){var n=this,r=new Sb;return e.asyncQueue.enqueueAndForget((function(){return ch(n,void 0,void 0,(function(){var n;return hh(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return ch(this,void 0,void 0,(function(){var r,i,o,a,s;return hh(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Xw(e,t,!0)];case 1:return s=u.sent(),r=new CS(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=hS(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,ST(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new zI(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zT(e,QT);var t=zT(e.firestore,nI),n=rI(t),r=new lx(t);return _T(n,e._query,{source:"server"}).then((function(n){return new zI(t,r,e,n)}))}(this._delegate):function(e){e=zT(e,QT);var t=zT(e.firestore,nI),n=rI(t),r=new lx(t);return GI(e._query),_T(n,e._query).then((function(n){return new zI(t,r,e,n)}))}(this._delegate)).then((function(e){return new Rx(t.firestore,new zI(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_x(t),i=Cx(t,(function(t){return new Rx(e.firestore,new zI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return dx(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ix.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Ox=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Nx(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Rx=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Dx(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Nx(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Ox(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Nx(n._firestore,r))}))},e.prototype.isEqual=function(e){return KI(this._delegate,e._delegate)},e}(),Px=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return lh(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new xx(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new xx(this.firestore,void 0===e?XT(this._delegate):XT(this._delegate,e))}catch(e){throw kx(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=zT(e.firestore,nI),r=XT(e),i=ox(e.converter,t);return fx(n,[vI(yI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ny.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new xx(t.firestore,e)}))},t.prototype.isEqual=function(e){return JT(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ix.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Dx);function jx(e){return zT(e,$T)}var Lx=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(sI.bind.apply(sI,dh([void 0],e)))}return e.documentId=function(){return new e(Zm.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Ic(e))instanceof sI&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Mx=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new EI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new bI("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new SI("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new TI("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new II("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Fx,Vx={Firestore:wx,GeoPoint:cI,Timestamp:Km,Blob:vx,Transaction:Sx,WriteBatch:Tx,DocumentReference:xx,DocumentSnapshot:Ax,Query:Dx,QueryDocumentSnapshot:Nx,QuerySnapshot:Rx,CollectionReference:Px,FieldPath:Lx,FieldValue:Mx,setLogLevel:function(e){var t;t=e,Dm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e){e.INTERNAL.registerComponent(new Nc("firestore",(function(e){return function(e,t){return new wx(e,new nI(e,t),new bx)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Vx)))})(Fx=ah),Fx.registerVersion("@firebase/firestore","2.4.1"),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(HL){t.reject(HL)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(Eh){this.f(Eh)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(HL){return void this.g(HL)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(Eh){n.reject(Eh)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(qp){o(qp)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,l=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==d(e)}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++v)}var y="closure_uid_"+(1e9*Math.random()>>>0),v=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var T=Date.now;function I(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function x(e){return e}function k(e,t,n){this.code=A+e,this.message=t||N[e]||"",this.a=n||null}function _(e){var t=e&&e.code;return t?new k(t.substring(A.length),e.message,e.serverResponse):null}I(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var C,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in D)if(D[t].id===e)return{firebaseEndpoint:(e=D[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(hM){return!1}}function P(e){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function j(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function L(e,t){throw new j("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function M(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function V(){this.b=this.a=null}C=O("__EID__")?"__EID__":void 0,I(P,Error),P.prototype.name="CustomError",I(j,P),j.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var U=new M((function(){return new q}),(function(e){e.reset()}));function B(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}V.prototype.add=function(e,t){var n=U.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},H=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},$=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=z(e,t)}function W(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var ce=s.navigator;if(ce){var he=ce.userAgent;if(he){Z=he;break e}}Z=""}function de(e){return ue(Z,e)}function fe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function me(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ve(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(aM){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(m(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(aM){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Te&&t||"",this.b=Se}function we(e){return e instanceof be&&e.constructor===be&&e.b===Se?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Se={},Te={};function Ie(){if(void 0===Ee){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:x,createScript:x,createScriptURL:x})}catch(n){s.console&&s.console.error(n.message)}Ee=e}else Ee=e}return Ee}function xe(e,t){this.a=t===Ne?e:""}function ke(e){return e instanceof xe&&e.constructor===xe?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function _e(e,t){var n=we(e);if(!Ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Ce,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?we(e):encodeURIComponent(String(e))})),function(e){var t=Ie();return e=t?t.createScriptURL(e):e,new xe(e,Ne)}(e)}xe.prototype.ta=!0,xe.prototype.sa=function(){return this.a.toString()},xe.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ce=/%{(\w+)}/g,Ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ne={};function De(e,t){this.a=t===Fe?e:""}function Oe(e){return e instanceof De&&e.constructor===De?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}De.prototype.ta=!0,De.prototype.sa=function(){return this.a.toString()},De.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,je=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Le(e){if(e instanceof De)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e))e=new De(e,Fe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Pe);e=t&&Re.test(t[1])?new De(e,Fe):null}return e}function Me(e){return e instanceof De?e:(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e)||(e="about:invalid#zClosurez"),new De(e,Fe))}var Fe={},Ve=new De("about:invalid#zClosurez",Fe);function Ue(e,t,n){this.a=n===Be?e:""}Ue.prototype.ta=!0,Ue.prototype.sa=function(){return this.a.toString()},Ue.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function qe(e,t,n,r){return e=e instanceof De?e:Me(e),t=t||s,n=n instanceof be?we(n):n||"",t.open(Oe(e),n,r,void 0)}function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function He(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function Ke(e){return Ke[" "](e),e}Ke[" "]=h;var Ge,$e=de("Opera"),Qe=de("Trident")||de("MSIE"),We=de("Edge"),Ye=We||Qe,Xe=de("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Je=ue(Z.toLowerCase(),"webkit")&&!de("Edge");function Ze(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=Z;return Xe?/rv:([^\);]+)(\)|;)/.exec(e):We?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Je?/WebKit\/(\S+)/.exec(e):$e?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Qe){var nt=Ze();if(null!=nt&&nt>parseFloat(et)){Ge=String(nt);break e}}Ge=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(Ge)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Qe){var at=Ze();rt=at||(parseInt(Ge,10)||void 0)}else rt=void 0;var st=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(pp){}var ut=!Qe||9<=Number(st);function lt(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ct(e,t){fe(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ft.hasOwnProperty(n)?e.setAttribute(ft[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,dt,ft={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',He(a.name),'"'),a.type){o.push(' type="',He(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ct(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||m(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}H(a?J(o):o,r)}}}(i,o,r),o}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){s.setTimeout((function(){throw e}),0)}function yt(e,t){dt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);dt=function(){e.then(wt)}}else dt=function(){var e=wt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!de("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ht||(ht=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ht(e)):s.setImmediate(e)}}(),vt||(dt(),vt=!0),bt.add(e,t)}var vt=!1,bt=new V;function wt(){for(var e;e=B();){try{e.a.call(e.b)}catch(hM){gt(hM)}F(U,e)}vt=!1}function Et(e,t){if(this.a=St,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){jt(n,Tt,e)}),(function(e){if(!(e instanceof qt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Fx){}jt(n,It,e)}))}catch(r){jt(this,It,r)}}var St=0,Tt=2,It=3;function xt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}xt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kt=new M((function(){return new xt}),(function(e){e.reset()}));function _t(e,t,n){var r=kt.get();return r.g=e,r.b=t,r.f=n,r}function Ct(e){if(e instanceof Et)return e;var t=new Et(h);return jt(t,Tt,e),t}function At(e){return new Et((function(t,n){n(e)}))}function Nt(e,t,n){Lt(e,t,n,null)||yt(S(t,e))}function Dt(e){return new Et((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Nt(e[o],S(i,o,!0),S(i,o,!1));else t(r)}))}function Ot(e,t){if(e.a==St)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==St&&1==r?Ot(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),Vt(n,i,It,t)))}e.c=null}else jt(e,It,t)}function Rt(e,t){e.b||e.a!=Tt&&e.a!=It||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Pt(e,t,n,r){var i=_t(null,null,null);return i.a=new Et((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(Eh){o(Eh)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof qt?o(t):e(i)}catch(Eh){o(Eh)}}:o})),i.a.c=e,Rt(e,i),i.a}function jt(e,t,n){e.a==St&&(e===n&&(t=It,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=It||n instanceof qt||function(e,t){e.g=!0,yt((function(){e.g&&Bt.call(null,t)}))}(e,n)))}function Lt(e,t,n,r){if(e instanceof Et)return Rt(e,_t(t||h,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(m(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(HL){o(HL)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Mt(e){e.h||(e.h=!0,yt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Vt(e,t,n,r){if(n==It&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ut(t,n,r);else try{t.c?t.g.call(t.f):Ut(t,n,r)}catch(Fx){Bt.call(null,Fx)}F(kt,t)}function Ut(e,t,n){t==Tt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Et.prototype.then=function(e,t,n){return Pt(this,p(e)?e:null,p(t)?t:null,n)},Et.prototype.$goog_Thenable=!0,(e=Et.prototype).oa=function(e,t){return(e=_t(e,e,t)).c=!0,Rt(this,e),this},e.o=function(e,t){return Pt(this,null,e,t)},e.cancel=function(e){if(this.a==St){var t=new qt(e);yt((function(){Ot(this,t)}),this)}},e.$c=function(e){this.a=St,jt(this,Tt,e)},e.ad=function(e){this.a=St,jt(this,It,e)},e.gc=function(){for(var e;e=Ft(this);)Vt(this,e,this.a,this.i);this.h=!1};var Bt=gt;function qt(e){P.call(this,e)}function zt(){0!=Ht&&(Kt[g(this)]=this),this.ya=this.ya,this.pa=this.pa}I(qt,P),qt.prototype.name="cancel";var Ht=0,Kt={};function Gt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Ht)){var t=g(e);if(0!=Ht&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Kt[t]}}zt.prototype.ya=!1,zt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $t=Object.freeze||function(e){return e},Qt=!Qe||9<=Number(st),Wt=Qe&&!ot("9"),Yt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Xt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Xt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{Ke(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Xt.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Jt,Xt);var Zt=$t({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Wt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(hM){}},Jt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function rn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&W(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new nn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),ln={};function cn(e,t,n,r,i){if(r&&r.once)dn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=En(n),e&&e[en]?Tn(e,t,n,m(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=vn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else n=En(n),e&&e[en]?In(e,t,n,m(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=En(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function mn(e){return e in ln?ln[e]:ln[e]="on"+e}function gn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&pn(e),n.call(r,t)}function vn(e,t){if(e.wa)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(aM){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=gn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=gn(r[i],e,!1,t),n=n&&o}return n}return yn(e,new Jt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(e){return p(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function Sn(){zt.call(this),this.v=new on(this),this.bc=this,this.hb=null}function Tn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function In(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function xn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(e,t,n){if(p(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function _n(e){var t=null;return new Et((function(n,r){-1==(t=kn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Cn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Nn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];On(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)On(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function On(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(Sn,zt),Sn.prototype[en]=!0,Sn.prototype.addEventListener=function(e,t,n,r){cn(this,e,t,n,r)},Sn.prototype.removeEventListener=function(e,t,n,r){fn(this,e,t,n,r)},Sn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Xt(e,n);else if(e instanceof Xt)e.target=e.target||n;else{var i=e;ye(e=new Xt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=xn(a,r,!0,e)&&i}if(i=xn(a=e.b=n,r,!0,e)&&i,i=xn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=xn(a=e.b=t[o],r,!1,e)&&i;return i},Sn.prototype.Da=function(){if(Sn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Nn.prototype).X=function(){Dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Dn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return On(this.b,e)?this.b[e]:t},e.set=function(e,t){On(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Pn?(this.i=void 0!==t?t:e.i,jn(this,e.c),this.l=e.l,this.a=e.a,Ln(this,e.g),this.f=e.f,Mn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(Rn))?(this.i=!!t,jn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Ln(this,n[4]),this.f=qn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!t,this.b=new Yn(null,this.i))}function jn(e,t,n){e.c=n?qn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Ln(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Mn(e,t,n){t instanceof Yn?(e.b=t,function(e,t){t&&!e.f&&(Xn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=zn(t,Qn)),e.b=new Yn(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Vn(e,t){return e.b.get(t)}function Un(e){return e instanceof Pn?new Pn(e):new Pn(e,void 0)}function Bn(e,t,n,r){var i=new Pn(null,void 0);return e&&jn(i,e),t&&(i.a=t),n&&Ln(i,n),r&&(i.f=r),i}function qn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(zn(t,Kn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(zn(t,Kn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(zn(n,"/"==n.charAt(0)?$n:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",zn(n,Wn)),e.join("")},Pn.prototype.resolve=function(e){var t=new Pn(this),n=!!e.c;n?jn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Ln(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Mn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Kn=/[#\/\?@]/g,Gn=/[#\?:]/g,$n=/[#\?]/g,Qn=/[#\?@]/g,Wn=/#/g;function Yn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Xn(e){e.a||(e.a=new Nn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jn(e){var t=An(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Yn(null,void 0);e=Cn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Zn(e,t){Xn(e),t=rr(e,t),On(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,On((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dn(e)))}function er(e,t){return Xn(e),t=rr(e,t),On(e.a.b,t)}function tr(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),J(n)),e.b+=n.length)}function nr(e){var t=new Yn;return t.c=e.c,e.a&&(t.a=new Nn(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),lr(r,n),n.push(":"),ar(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":lr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Yn.prototype).add=function(e,t){Xn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Xn(this),this.a.forEach((function(n,r){H(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Xn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Xn(this);var t=[];if("string"===typeof e)er(this,e)&&(t=X(t,this.a.get(rr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Xn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function cr(){var e=Nr();return Qe&&!!st&&11==st||/Edge\/\d+/.test(e)}function hr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function dr(e,t){t=t||s.window;var n="about:blank";e&&(n=Oe(Le(e)||Ve)),t.location.href=n}function fr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<fr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Nr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function mr(e){e=e||s.window;try{e.close()}catch(hM){}}function gr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),_r(Nr())==xr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof De?n:Le("undefined"!=typeof n.href?n.href:String(n))||Ve,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ve(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof De?t:Me(t),a.href=Oe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=qe("",r,n,a),e=Oe(t),a&&(Ye&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">',e=new Ue(e=(r=Ie())?r.createHTML(e):e,null,Be),r=a.document)&&(r.write(function(e){return e instanceof Ue&&e.constructor===Ue?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=qe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function br(){var e=null;return new Et((function(t){"complete"==s.document.readyState?t():(e=function(){t()},dn(window,"load",e))})).o((function(t){throw fn(window,"load",e),t}))}function wr(e){return e=e||Nr(),!("file:"!==jr()&&"ionic:"!==jr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var e=s.window;try{return!(!e||e==e.top)}catch(hM){return!1}}function Sr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Tr(){return ah.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ah.INTERNAL.hasOwnProperty("node")?"Node":Sr()?"Worker":"Browser"}function Ir(){var e=Tr();return"ReactNative"===e||"Node"===e}var xr="Firefox",kr="Chrome";function _r(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?xr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":kr:"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(e,t){t=t||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=_r(i=Nr()):"Worker"===r&&(r=_r(i=Nr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Nr(){return s.navigator&&s.navigator.userAgent||""}function Dr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Or(){try{var e=s.localStorage,t=Ur();if(e)return e.setItem(t,"1"),e.removeItem(t),!cr()||!!s.indexedDB}catch(n){return Sr()&&!!s.indexedDB}return!1}function Rr(){return(Pr()||"chrome-extension:"===jr()||wr())&&!Ir()&&Or()&&!Sr()}function Pr(){return"http:"===jr()||"https:"===jr()}function jr(){return s.location&&s.location.protocol||null}function Lr(e){return!pr(e=e||Nr())&&_r(e)!=xr}function Mr(e){return"undefined"===typeof e?null:ir(e)}function Fr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Vr(e){if(null!==e)return JSON.parse(e)}function Ur(e){return e||Math.floor(1e9*Math.random()).toString()}function Br(e){return"Safari"!=_r(e=e||Nr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function zr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Nr(),t=Tr(),this.b=pr(e)||"ReactNative"===t}function Hr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Kr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Gr(){return!(!Dr("fireauth.oauthhelper",s)&&!Dr("fireauth.iframe",s))}zr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Pr()&&"chrome-extension:"!==jr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $r,Qr={};function Wr(e){Qr[e]||(Qr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),$r=2==Yr.abcd}catch(pp){$r=!1}function Xr(e,t,n){$r?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Jr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Xr(e,n,t[n])}function Zr(e){var t={};return Jr(t,e),t}function ei(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Xr(t,n,ei(e[n]));return t}function ti(e){var t=e&&(e[ai]?"phone":null);if(!(t&&e&&e[oi]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Xr(this,"uid",e[oi]),Xr(this,"displayName",e[ri]||null);var n=null;e[ii]&&(n=new Date(e[ii]).toUTCString()),Xr(this,"enrollmentTime",n),Xr(this,"factorId",t)}function ni(e){try{var t=new si(e)}catch(n){t=null}return t}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ri="displayName",ii="enrolledAt",oi="mfaEnrollmentId",ai="phoneInfo";function si(e){ti.call(this,e),Xr(this,"phoneNumber",e[ai])}function ui(e){var t={},n=e[di],r=e[pi],i=e[mi];if(e=ni(e[fi]),!i||i!=ci&&i!=hi&&!n||i==hi&&!r||i==li&&!e)throw Error("Invalid checkActionCode response!");i==hi?(t[yi]=n||null,t[bi]=n||null,t[gi]=r):(t[yi]=r||null,t[bi]=r||null,t[gi]=n||null),t[vi]=e||null,Xr(this,Ei,i),Xr(this,wi,ei(t))}I(si,ti),si.prototype.w=function(){var e=si.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var li="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",di="email",fi="mfaInfo",pi="newEmail",mi="requestType",gi="email",yi="fromEmail",vi="multiFactorInfo",bi="previousEmail",wi="data",Ei="operation";function Si(e){var t=Vn(e=Un(e),Ti)||null,n=Vn(e,Ii)||null,r=Vn(e,_i)||null;if(r=r&&Ai[r]||null,!t||!n||!r)throw new k("argument-error",Ti+", "+Ii+"and "+_i+" are required in a valid action code URL.");Jr(this,{apiKey:t,operation:r,code:n,continueUrl:Vn(e,xi)||null,languageCode:Vn(e,ki)||null,tenantId:Vn(e,Ci)||null})}var Ti="apiKey",Ii="oobCode",xi="continueUrl",ki="languageCode",_i="mode",Ci="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:ci,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Ni(e){try{return new Si(e)}catch(hM){return null}}function Di(e){var t=e[Li];if("undefined"===typeof t)throw new k("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Oi];if(n&&"object"===typeof n){t=n[Vi];var r=n[Mi];if(n=n[Fi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new k("argument-error",Vi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(t=e[ji])&&"object"===typeof t){if("string"===typeof(t=t[Ui])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new k("argument-error",Ui+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new k("argument-error",ji+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Pi])&&"boolean"!==typeof t)throw new k("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Ri])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new k("argument-error",Ri+" property must be a non empty string when specified.");this.i=e||null}var Oi="android",Ri="dynamicLinkDomain",Pi="handleCodeInApp",ji="iOS",Li="url",Mi="installApp",Fi="minimumVersion",Vi="packageName",Ui="bundleId";function Bi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var qi=null;function zi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!qi){qi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Hi(e){var t=Gi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Ki(e){try{return new Hi(e)}catch(hM){return null}}function Gi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=zi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(Eh){}return null}Hi.prototype.T=function(){return this.f},Hi.prototype.l=function(){return this.c},Hi.prototype.toString=function(){return this.h};var $i="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Wi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:$i},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Yi(e){for(var t in Wi)if(Wi[t].fa==e)return Wi[t];return null}function Xi(e){var t={};t["facebook.com"]=no,t["google.com"]=io,t["github.com"]=ro,t["twitter.com"]=oo;var n=e&&e[Zi];try{if(n)return t[n]?new t[n](e):new to(e);if("undefined"!==typeof e[Ji])return new eo(e)}catch(r){}return null}var Ji="idToken",Zi="providerId";function eo(e){var t=e[Zi];if(!t&&e[Ji]){var n=Ki(e[Ji]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Xr(this,"providerId",t),Xr(this,"isNewUser",n)}function to(e){eo.call(this,e),Xr(this,"profile",ei((e=Vr(e.rawUserInfo||"{}"))||{}))}function no(e){if(to.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(e){if(to.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",this.profile&&this.profile.login||null)}function io(e){if(to.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(e){if(to.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",e.screenName||null)}function ao(e){var t=Un(e),n=Vn(t,"link"),r=Vn(Un(n),"link");return t=Vn(t,"deep_link_id"),Vn(Un(t),"link")||t||r||n||e}function so(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?uo:lo}I(to,eo),I(no,to),I(ro,to),I(io,to),I(oo,to);var uo="enroll",lo="signin";function co(){}function ho(e,t){return e.then((function(e){if(e[es]){var n=Ki(e[es]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==A+"user-not-found"?new k("user-mismatch"):e}))}function fo(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,Xr(this,"providerId",e),Xr(this,"signInMethod",e)}function po(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function mo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new fo(e.providerId,e.pendingToken)}catch(hM){}return null}function go(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Xr(this,"idToken",t.idToken),t.accessToken&&Xr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Xr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Xr(this,"accessToken",t.oauthToken),Xr(this,"secret",t.oauthTokenSecret)}Xr(this,"providerId",e),Xr(this,"signInMethod",n)}function yo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Jn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new go(e.providerId,t,e.signInMethod)}catch(n){}}return null}function bo(e,t){this.Qc=t||[],Jr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Yi(e)||{}).Ja||null,this.pb=null}function wo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,e,[])}function Eo(e){bo.call(this,e,Qi),this.a=[]}function So(){Eo.call(this,"facebook.com")}function To(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new So).credential({accessToken:t})}function Io(){Eo.call(this,"github.com")}function xo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new Io).credential({accessToken:t})}function ko(){Eo.call(this,"google.com"),this.Ca("profile")}function _o(e,t){var n=e;return m(e)&&(n=e.idToken,t=e.accessToken),(new ko).credential({idToken:n,accessToken:t})}function Co(){bo.call(this,"twitter.com",$i)}function Ao(e,t){var n=e;if(m(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function No(e,t,n){this.a=e,this.f=t,Xr(this,"providerId","password"),Xr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(e){return e&&e.email&&e.password?new No(e.email,e.password,e.signInMethod):null}function Oo(){Jr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(e,t){if(!(t=Po(t)))throw new k("argument-error","Invalid email link!");return new No(e,t.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Po(e){return(e=Ni(e=ao(e)))&&e.operation===ci?e:null}function jo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new k("internal-error");this.a=e,Xr(this,"providerId","phone"),this.fa="phone",Xr(this,"signInMethod","phone")}function Lo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new jo(t)}return null}function Mo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Fo(e){try{this.a=e||ah.auth()}catch(hM){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jr(this,{providerId:"phone",isOAuthProvider:!1})}function Vo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new jo({fb:e,eb:t})}function Uo(e){if(e.temporaryProof&&e.phoneNumber)return new jo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return _o(o,n);case"facebook.com":return To(n);case"github.com":return xo(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new fo(t,a):new go(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Eo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Bo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function qo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function zo(e){return(e=e||{}).type?new qo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&_(e.error),e.postBody,e.tenantId):null}function Ho(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?Ct(this.a):Ct(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ka=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},fo.prototype.ka=function(e){return Ss(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,Ts(e,n)},fo.prototype.c=function(e,t){return ho(Is(e,po(this)),t)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ka=function(e){return Ss(e,yo(this))},go.prototype.b=function(e,t){var n=yo(this);return n.idToken=t,Ts(e,n)},go.prototype.c=function(e,t){return ho(Is(e,yo(this)),t)},go.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},bo.prototype.Ka=function(e){return this.Jb=me(e),this},I(wo,bo),I(Eo,bo),Eo.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},Eo.prototype.Rb=function(){return J(this.a)},Eo.prototype.credential=function(e,t){var n;if(!(n=m(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},I(So,Eo),Xr(So,"PROVIDER_ID","facebook.com"),Xr(So,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Io,Eo),Xr(Io,"PROVIDER_ID","github.com"),Xr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),I(ko,Eo),Xr(ko,"PROVIDER_ID","google.com"),Xr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Co,bo),Xr(Co,"PROVIDER_ID","twitter.com"),Xr(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ou(e,Os,{email:this.a,oobCode:this.f}):ou(e,eu,{email:this.a,password:this.f})},No.prototype.b=function(e,t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ou(e,Rs,{idToken:t,email:this.a,oobCode:this.f}):ou(e,Gs,{idToken:t,email:this.a,password:this.f})},No.prototype.c=function(e,t){return ho(this.ka(e),t)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Jr(Oo,{PROVIDER_ID:"password"}),Jr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),jo.prototype.ka=function(e){return e.gb(Mo(this))},jo.prototype.b=function(e,t){var n=Mo(this);return n.idToken=t,ou(e,nu,n)},jo.prototype.c=function(e,t){var n=Mo(this);return n.operation="REAUTH",ho(e=ou(e,ru,n),t)},jo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Fo.prototype.gb=function(e,t){var n=this.a.a;return Ct(t.verify()).then((function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=m(e)?e.session:null,a=m(e)?e.phoneNumber:e;return i=o&&o.type==uo?o.Ha().then((function(e){return function(e,t){return ou(e,Qs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==lo?o.Ha().then((function(t){return function(e,t){return ou(e,Ws,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return ou(e,Hs,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Jr(Fo,{PROVIDER_ID:"phone"}),Jr(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,Go=null;function $o(e){var t="unauthorized-domain",n=void 0,r=Un(e);e=r.a,"chrome-extension"==(r=r.c)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function Qo(e,t,n){k.call(this,e,n),(e=t||{}).Kb&&Xr(this,"email",e.Kb),e.ea&&Xr(this,"phoneNumber",e.ea),e.credential&&Xr(this,"credential",e.credential),e.$b&&Xr(this,"tenantId",e.$b)}function Wo(e){if(e.code){var t=e.code||"";0==t.indexOf(A)&&(t=t.substring(A.length));var n={credential:Uo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new Qo(t,n,e.message)}return null}function Yo(){}function Xo(e){return e.c||(e.c=e.b())}function Jo(){}function Zo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Fx){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ea(){}function ta(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function na(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ra(e,t,n){this.reset(e,t,n,void 0,void 0)}I($o,k),I(Qo,k),Qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},Qo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,I(Jo,Yo),Jo.prototype.a=function(){var e=Zo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Jo.prototype.b=function(){var e={};return Zo(this)&&(e[0]=!0,e[1]=!0),e},Ko=new Jo,I(ea,Yo),ea.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ta;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(e=ta.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",na(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,na(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null;function ia(e){this.f=e,this.b=this.c=this.a=null}function oa(e,t){this.name=e,this.value=t}ra.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||T(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),la=new oa("FINE",500);function ca(e){return e.c?e.c:e.a?ca(e.a):(L("Root logger has no level set."),null)}ia.prototype.log=function(e,t,n){if(e.value>=ca(this).value)for(p(t)&&(t=t()),e=new ra(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ha={},da=null;function fa(e){var t;if(da||(da=new ia(""),ha[""]=da,da.c=ua),!(t=ha[e])){t=new ia(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=fa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ha[e]=t}return t}function pa(e,t){e&&e.log(la,t,void 0)}function ma(e){this.f=e}function ga(e){Sn.call(this),this.u=e,this.h=void 0,this.readyState=ya,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ma,Yo),ma.prototype.a=function(){return new ga(this.f)},ma.prototype.b=function(e){return function(){return e}}({}),I(ga,Sn);var ya=0;function va(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ba(e){e.readyState=4,e.g=null,e.c=null,e.m=null,wa(e)}function wa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ea(e){Sn.call(this),this.headers=new Nn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Sa,this.u=this.S=!1}(e=ga.prototype).open=function(e,t){if(this.readyState!=ya)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,wa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=ya},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,va(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ba(this):wa(this),3==this.readyState&&va(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ba(this))},e.sc=function(e){this.a&&(this.response=e,ba(this))},e.Va=function(e){var t=this.i;t&&t.log(sa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ba(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),I(Ea,Sn);var Sa="";Ea.prototype.b=fa("goog.net.XhrIo");var Ta=/^https?$/i,Ia=["POST","PUT"];function xa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Ko.a(),e.C=e.D?Xo(e.D):Xo(Ko),e.a.onreadystatechange=E(e.Wb,e);try{pa(e.b,Pa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(aM){return pa(e.b,Pa(e,"Error opening Xhr: "+aM.message)),void _a(e,aM)}t=r||"";var o=new Nn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"===typeof e)H(e,t,void 0);else for(var n=An(e),r=Cn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ka,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Q(Ia,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Da(e),0<e.g&&(e.u=function(e){return Qe&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),pa(e.b,Pa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=kn(e.Ma,e.g,e)),pa(e.b,Pa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(aM){pa(e.b,Pa(e,"Send error: "+aM.message)),_a(e,aM)}}function ka(e){return"content-type"==e.toLowerCase()}function _a(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ca(e),Na(e)}function Ca(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Aa(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Oa(e)&&2==Ra(e))pa(e.b,Pa(e,"Local request error detected and ignored"));else if(e.i&&4==Oa(e))kn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Oa(e)){pa(e.b,Pa(e,"Request complete")),e.c=!1;try{var t,n=Ra(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Rn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ta.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<Oa(e)?e.a.statusText:""}catch(HL){pa(e.b,"Can not get status: "+HL.message),l=""}e.h=l+" ["+Ra(e)+"]",Ca(e)}}finally{Na(e)}}}function Na(e,t){if(e.a){Da(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Fx){(e=e.b)&&e.log(aa,"Problem encountered resetting onreadystatechange: "+Fx.message,void 0)}}}function Da(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Oa(e){return e.a?e.a.readyState:0}function Ra(e){try{return 2<Oa(e)?e.a.status:-1}catch(hM){return-1}}function Pa(e,t){return t+" ["+e.P+" "+e.l+" "+Ra(e)+"]"}function ja(e){var t=Ga;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function La(e,t,n){e.a=!0,e.c=n,e.f=!t,Ua(e)}function Ma(e){if(e.a){if(!e.v)throw new Ba(e);e.v=!1}}function Fa(e,t,n,r){e.g.push([t,n,r]),e.a&&Ua(e)}function Va(e){return $(e.g,(function(e){return p(e[1])}))}function Ua(e){if(e.h&&e.a&&Va(e)){var t=e.h,n=Ha[t];n&&(s.clearTimeout(n.a),delete Ha[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(HL){t=HL,e.f=!0,Va(e)||(n=!0)}}e.c=t,r&&(u=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof ja?(Fa(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new za(t),Ha[t.a]=t,e.h=t.a)}function Ba(){P.call(this)}function qa(){P.call(this)}function za(e){this.a=s.setTimeout(E(this.c,this),0),this.b=e}(e=Ea.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(pa(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),Ea.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Aa(this):this.Jc())},e.Jc=function(){Aa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(hM){return pa(this.b,"Can not get response: "+hM.message),null}},ja.prototype.cancel=function(e){if(this.a)this.c instanceof ja&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new qa(this),Ma(this),La(this,!1,e))}},ja.prototype.m=function(e,t){this.i=!1,La(this,e,t)},ja.prototype.then=function(e,t,n){var r,i,o=new Et((function(e,t){r=e,i=t}));return Fa(this,r,(function(e){e instanceof qa?o.cancel():i(e)})),o.then(e,t,n)},ja.prototype.$goog_Thenable=!0,I(Ba,P),Ba.prototype.message="Deferred has already fired",Ba.prototype.name="AlreadyCalledError",I(qa,P),qa.prototype.message="Deferred was canceled",qa.prototype.name="CanceledError",za.prototype.c=function(){throw delete Ha[this.a],this.b};var Ha={};function Ka(e){var t={},n=t.document||document,r=ke(e).toString(),i=mt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new ja(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){$a(i,!0);var e=new Ya(Wa,"Timeout reached for loading script "+r);Ma(a),La(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($a(i,t.xd||!1,u),Ma(a),La(a,!0,null))},i.onerror=function(){$a(i,!0,u);var e=new Ya(Qa,"Error while loading script "+r);Ma(a),La(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ct(i,o),function(e,t){ve(e,"HTMLScriptElement"),e.src=ke(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=c(t.document):(null===l&&(l=c(s.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ga(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&$a(e,!0,this.Ma)}}function $a(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Qa=0,Wa=1;function Ya(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function Xa(e){this.f=e}function Ja(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||ts,this.g=me(e.secureTokenHeaders||ns),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||rs,this.a=me(e.firebaseHeaders||is),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=s.XMLHttpRequest||n&&ah.INTERNAL.node&&ah.INTERNAL.node.XMLHttpRequest)&&!Sr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Sr()?this.f=new ma(self):Ir()?this.f=new Xa(n):this.f=new ea,this.b=null}I(Ya,P),I(Xa,Yo),Xa.prototype.a=function(){return new this.f},Xa.prototype.b=function(){return{}};var Za,es="idToken",ts=new zr(3e4,6e4),ns={"Content-Type":"application/x-www-form-urlencoded"},rs=new zr(3e4,6e4),is={"Content-Type":"application/json"};function os(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function as(e,t){t&&(e.l=ss("https://securetoken.googleapis.com/v1/token",t),e.h=ss("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ss("https://identitytoolkit.googleapis.com/v2/",t))}function ss(e,t){return e=Un(e),t=Un(t.url),e.f=e.a+e.f,jn(e,t.c),e.a=t.a,Ln(e,t.g),e.toString()}function us(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ls(e,t,n,r,i,o,a){(function(){var e=Nr();return!((e=_r(e)!=kr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Qe||!st||9<st)})()||Sr()?e=E(e.u,e):(Za||(Za=new Et((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[hs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Fa(e,null,t,void 0)}(Ka(_e(cs,{onload:hs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=E(e.s,e)),e(t,n,r,i,o,a)}Ja.prototype.T=function(){return this.b},Ja.prototype.u=function(e,t,n,r,i,o){if(Sr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ea(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return pa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(Eh){e=null}t&&t(e)})),In(a,"ready",(function(){u&&clearTimeout(u),Gt(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Gt(this),t&&t(null)})),xa(a,e,n,r,i)};var cs=new be(Te,"https://apis.google.com/js/client.js?onload=%{onload}"),hs="__fcb"+Math.floor(1e6*Math.random()).toString();function ds(e,t,n,r,i,o,a){var s=Un(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&Fn(s,l,i[l]);return new Et((function(t,n){ls(e,s.toString(),(function(e){e?e.error?n(su(e,o||{})):t(e):n(new k("network-request-failed"))}),r,u?void 0:ir(Fr(i)),e.a,e.v.get())}))}function fs(e){if("string"!==typeof(e=e.email)||!vr.test(e))throw new k("invalid-email")}function ps(e){"email"in e&&fs(e)}function ms(e){if(!e[es]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,me(e));throw new k("internal-error")}}function gs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}Ja.prototype.s=function(e,t,n,r,i){var o=this;Za.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ja.prototype.Ab=function(){return ou(this,$s,{})},Ja.prototype.Cb=function(e,t){return ou(this,Ks,{idToken:e,email:t})},Ja.prototype.Db=function(e,t){return ou(this,Gs,{idToken:e,password:t})};var ys={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function bs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function ws(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(er(e=new Yn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Es(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Wo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Wo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Wo(e)):e.errorMessage&&(t=au(e.errorMessage)),t)throw t;ms(e)}function Ss(e,t){return t.returnIdpCredential=!0,ou(e,Ys,t)}function Ts(e,t){return t.returnIdpCredential=!0,ou(e,Js,t)}function Is(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ou(e,Xs,t)}function xs(e){if(!e.oobCode)throw new k("invalid-action-code")}(e=Ja.prototype).Eb=function(e,t){var n={idToken:e},r=[];return fe(ys,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ou(this,Ks,n)},e.wb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),ou(this,Us,e)},e.xb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),ou(this,Ms,e)},e.vb=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),ou(this,Fs,e)},e.Fb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),ou(this,Vs,e)},e.gb=function(e){return ou(this,tu,e)},e.ob=function(e,t){return ou(this,zs,{oobCode:e,newPassword:t})},e.Sa=function(e){return ou(this,_s,{oobCode:e})},e.kb=function(e){return ou(this,ks,{oobCode:e})};var ks={endpoint:"setAccountInfo",A:xs,Z:"email",B:!0},_s={endpoint:"resetPassword",A:xs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},Cs={endpoint:"signupNewUser",A:function(e){if(fs(e),!e.password)throw new k("weak-password")},G:ms,V:!0,B:!0},As={endpoint:"createAuthUri",B:!0},Ns={endpoint:"deleteAccount",O:["idToken"]},Ds={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},Os={endpoint:"emailLinkSignin",O:["email","oobCode"],A:fs,G:ms,V:!0,B:!0},Rs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:fs,G:ms,V:!0},Ps={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:vs,G:ms,B:!0,Na:!0},js={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:ms,B:!0,Na:!0},Ls={endpoint:"getAccountInfo"},Ms={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");fs(e)},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");fs(e)},Z:"email",B:!0},Bs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},qs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},zs={endpoint:"resetPassword",A:xs,Z:"email",B:!0},Hs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ks={endpoint:"setAccountInfo",O:["idToken"],A:ps,V:!0},Gs={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ps(e),!e.password)throw new k("weak-password")},G:ms,V:!0},$s={endpoint:"signupNewUser",G:ms,V:!0,B:!0},Qs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ys={endpoint:"verifyAssertion",A:bs,Za:ws,G:Es,V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:bs,Za:ws,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw au(e.errorMessage);ms(e)},V:!0,B:!0},Js={endpoint:"verifyAssertion",A:function(e){if(bs(e),!e.idToken)throw new k("internal-error")},Za:ws,G:Es,V:!0},Zs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:ms,V:!0,B:!0},eu={endpoint:"verifyPassword",A:function(e){if(fs(e),!e.password)throw new k("wrong-password")},G:ms,V:!0,B:!0},tu={endpoint:"verifyPhoneNumber",A:gs,G:ms,B:!0},nu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");gs(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Wo(e);ms(e)}},ru={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:gs,G:ms,B:!0},iu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[es]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ou(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return At(new k("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Ct(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ds(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function au(e){return su({error:{errors:[{message:e}],code:400,message:e}})}function su(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=Mr(e)),new k("internal-error",t)}function uu(e){this.b=e,this.a=null,this.sb=function(e){return(du||(du=new Et((function(e,t){function n(){qr(),Dr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){qr(),t(Error("Network Error"))},timeout:cu.get()})}if(Dr("gapi.iframes.Iframe"))e();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Dr("gapi.load")?n():t(Error("Network Error"))},Ct(Ka(r=_e(lu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw du=null,e})))).then((function(){return new Et((function(t,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),hu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var lu=new be(Te,"https://apis.google.com/js/api.js?onload=%{onload}"),cu=new zr(3e4,6e4),hu=new zr(5e3,15e3),du=null;function fu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Bn((e=Un(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Bn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function pu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function mu(e){try{return ah.app(e).auth().Ga()}catch(hM){return[]}}function gu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function yu(e){var t=hr();return function(e){return ou(e,Bs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Un(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Un(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new $o(hr())}))}function vu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=mu(e.b),i=new fu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new uu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=zo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ct(n)}return n.status="ERROR",Ct(n)}))}(e)}))),e.m}function bu(e){return e.l||(e.C=e.c?Ar(e.c,mu(e.b)):null,e.l=new Ja(e.g,O(e.i),e.C),e.f&&as(e.l,e.f)),e.l}function wu(e,t,n,r,i,o,a,s,u,l,c,h){return(e=new pu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=me(u||null),e.f=l,e.zb(c).toString()}function Eu(e){if(this.a=e||ah.INTERNAL.reactNative&&ah.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Su(e){this.b=e,this.a={},this.f=E(this.c,this)}fu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},pu.prototype.zb=function(e){return this.h=e,this},pu.prototype.toString=function(){if(this.v){var e=Un(this.v.url);e=Bn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Bn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=ah.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,Fn(e,"providerId",this.a.providerId),t=Fr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=me(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Fn(e,"customParameters",Mr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Fn(e,"scopes",n.join(","))),this.l?Fn(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?Fn(e,"v",this.i):Zn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(e,a)&&Fn(e,a,this.b[a]);return this.h?Fn(e,"tid",this.h):Zn(e.b,"tid"),this.f?Fn(e,"eid",this.f):Zn(e.b,"eid"),(a=mu(this.c)).length&&Fn(e,"fw",a.join(",")),e.toString()},(e=gu.prototype).Pb=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return vu(e).then((function(){return function(e,t){return e.sb.then((function(){return new Et((function(n){e.a.send(t.type,t,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&mr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new Et((function(t){return function n(){_n(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return _n(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Nr();return!Lr(e)&&!Br(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return At(new k("popup-blocked"));if(a&&!Lr())return this.ma().o((function(t){mr(e),i(t)})),r(),Ct();this.a||(this.a=yu(bu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw mr(e),i(t),t}));return r(),t})).then((function(){(Bo(n),a)||dr(wu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=yu(bu(this)));var i=this;return this.a.then((function(){Bo(t),dr(wu(i.s,i.g,i.b,e,t,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return vu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new k("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Y(this.h,(function(t){return t==e}))},(e=Eu.prototype).get=function(e){return Ct(this.a.getItem(e)).then((function(e){return e&&Vr(e)}))},e.set=function(e,t){return Ct(this.a.setItem(e,Mr(t)))},e.U=function(e){return Ct(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Tu,Iu=[];function xu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function ku(e){this.a=e}function _u(e){this.c=e,this.b=!1,this.a=[]}function Cu(e,t,n,r){var i,o,a,s,u=n||{},l=null;if(e.b)return At(Error("connection_unavailable"));var c=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Et((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},l={messageChannel:h,onMessage:o},e.a.push(l),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Au(e,l),t})).o((function(t){throw Au(e,l),t}))}function Au(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function Nu(){if(!Pu())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Sr()&&self?(this.v=function(){var e=Sr()?self:null;if(H(Iu,(function(n){n.b==e&&(t=n)})),!t){var t=new Su(e);Iu.push(t)}return t}(),xu(this.v,"keyChanged",(function(t,n){return Vu(e).then((function(t){return 0<t.length&&H(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),xu(this.v,"ping",(function(){return Ct(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Ct().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Ct(null)}().then((function(t){(e.h=t)&&(e.g=new _u(new ku(t)),Cu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Du(e){return new Et((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Et((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Du(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Ou(e){return e.i||(e.i=Du(e)),e.i}function Ru(e,t){var n=0;return new Et((function r(i,o){Ou(e).then(t).then(i).o((function(t){if(!(3<++n))return Ou(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Pu(){try{return!!s.indexedDB}catch(pp){return!1}}function ju(e){return e.objectStore("firebaseLocalStorage")}function Lu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Mu(e){return new Et((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Fu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Cu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Ct()}function Vu(e){return Ou(e).then((function(e){var t=ju(Lu(e,!1));return t.getAll?Mu(t.getAll()):new Et((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=fr(e.c,n),e.c=n}return r}))}function Uu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Bu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ct().then((function(){if(Pu()){var e=Ur(),r="__sak"+e;return Tu||(Tu=new Nu),(n=Tu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){H(t.a,(function(t){t(e)}))})),e}))}function qu(){this.a={},this.type="inMemory"}function zu(){if(!function(){var e="Node"==Tr();if(e=Hu()||e&&ah.INTERNAL.node&&ah.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(hM){return!1}}()){if("Node"==Tr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Hu()||ah.INTERNAL.node.localStorage,this.type="localStorage"}function Hu(){try{var e=s.localStorage,t=Ur();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ku(){this.type="nullStorage"}function Gu(){if(!function(){var e="Node"==Tr();if(e=$u()||e&&ah.INTERNAL.node&&ah.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(hM){return!1}}()){if("Node"==Tr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=$u()||ah.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var e=s.sessionStorage,t=Ur();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Qu(){var e={};e.Browser=Xu,e.Node=Ju,e.ReactNative=Zu,e.Worker=el,this.a=e[Tr()]}Su.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];H(r,(function(t){i.push(Ct().then((function(){return t(e.origin,e.data.data)})))})),Dt(i).then((function(r){var i=[];H(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),H(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},ku.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},_u.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(e=Nu.prototype).set=function(e,t){var n=this,r=!1;return Ru(this,(function(t){return Mu((t=ju(Lu(t,!0))).get(e))})).then((function(i){return Ru(n,(function(o){if(o=ju(Lu(o,!0)),i)return i.value=t,Mu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Mu(o.add(a))}))})).then((function(){return n.c[e]=t,Fu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Ru(this,(function(t){return Mu(ju(Lu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Ru(this,(function(r){return n=!0,t.b++,Mu(ju(Lu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Fu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Vu(e).then((function(t){0<t.length&&H(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Uu(e),t()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Uu(this)},(e=Bu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=qu.prototype).get=function(e){return Ct(this.a[e])},e.set=function(e,t){return this.a[e]=t,Ct()},e.U=function(e){return delete this.a[e],Ct()},e.ca=function(){},e.ia=function(){},(e=zu.prototype).get=function(e){var t=this;return Ct().then((function(){return Vr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ct().then((function(){var r=Mr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Ct().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&cn(s.window,"storage",e)},e.ia=function(e){s.window&&fn(s.window,"storage",e)},(e=Ku.prototype).get=function(){return Ct(null)},e.set=function(){return Ct()},e.U=function(){return Ct()},e.ca=function(){},e.ia=function(){},(e=Gu.prototype).get=function(e){var t=this;return Ct().then((function(){return Vr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ct().then((function(){var r=Mr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Ct().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Wu,Yu,Xu={F:zu,cb:Gu},Ju={F:zu,cb:Gu},Zu={F:Eu,cb:Ku},el={F:zu,cb:Ku},tl={rd:"local",NONE:"none",td:"session"};function nl(){var e=!(Br(Nr())||!Er()),t=Lr(),n=Or();this.m=e,this.h=t,this.l=n,this.a={},Wu||(Wu=new Qu),e=Wu;try{this.g=!cr()&&Gr()||!s.indexedDB?new e.a.F:new Bu(Sr()?new qu:new e.a.F)}catch(r){this.g=new qu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new qu}this.v=new qu,this.f=E(this.Zb,this),this.b={}}function rl(){return Yu||(Yu=new nl),Yu}function il(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function ol(e,t){return"firebase:"+e.name+(t?":"+t:"")}function al(e,t,n){return n=ol(t,n),"local"==t.F&&(e.b[n]=null),il(e,t.F).U(n)}function sl(e){e.c&&(clearInterval(e.c),e.c=null)}function ul(e){this.a=e,this.b=rl()}(e=nl.prototype).get=function(e,t){return il(this,e.F).get(ol(e,t))},e.set=function(e,t,n){var r=ol(e,n),i=this,o=il(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=ol(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(il(this,"local").ca(this.f),this.h||(cr()||!Gr())&&s.indexedDB||!this.l||function(e){sl(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=ol(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(il(this,"local").ia(this.f),sl(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?il(this,"local").ia(this.f):sl(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Qe&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else H(e,E(this.nb,this))},e.nb=function(e){this.a[e]&&H(this.a[e],(function(e){e()}))};var ll,cl={name:"authEvent",F:"local"};function hl(){this.a=rl()}function dl(e,t){this.b=fl,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ll&&(ll=s.Int32Array?new Int32Array(wl):wl),this.reset()}I(dl,(function(){this.b=-1}));for(var fl=64,pl=fl-1,ml=[],gl=0;gl<pl;gl++)ml[gl]=0;var yl=X(128,ml);function vl(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|ll[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function bl(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(vl(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(vl(e),i=0)}}e.c=i,e.g+=n}dl.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var wl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function El(){dl.call(this,8,Sl)}I(El,dl);var Sl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Tl(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new hl,this.g=new ul(this.h),this.f=null,this.b=[],this.a=this.c=null}function Il(e){return new k("invalid-cordova-configuration",e)}function xl(e){var t=new El;bl(t,e),e=[];var n=8*t.g;56>t.c?bl(t,yl,56-t.c):bl(t,yl,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(vl(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return G(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function kl(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function _l(e){return e.f||(e.f=e.ma().then((function(){return new Et((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Cl(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ao(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Vr(Vn(o=Un(i),"firebaseError")||null))?_(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}kl(e,i)}))}var n=new qo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=_n(500).then((function(){return Cl(e).then((function(){r||kl(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Dr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Go||(Go=new Ho),function(e){var t=Go;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Dr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Cl(e){var t=null;return function(e){return e.b.get(cl,e.a).then((function(e){return zo(e)}))}(e.g).then((function(n){return t=n,al((n=e.g).b,cl,n.a)})).then((function(){return t}))}function Al(e){this.a=e,this.b=rl()}(e=Tl.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new Et((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):At(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Dr("universalLinks.subscribe",s))throw Il("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Dr("BuildInfo.packageName",s))throw Il("cordova-plugin-buildinfo is not installed");if("function"!==typeof Dr("cordova.plugins.browsertab.openUrl",s))throw Il("cordova-plugin-browsertab is not installed");if("function"!==typeof Dr("cordova.InAppBrowser.open",s))throw Il("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},e.Pb=function(e,t){return t(new k("operation-not-supported-in-this-environment")),Ct()},e.Nb=function(){return At(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return At(new k("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,l=null,c=null;return this.c=Ct().then((function(){return Bo(t),_l(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new qo(t,r,null,o,new k("no-auth-event"),null,i),u=Dr("BuildInfo.packageName",s);if("string"!==typeof u)throw new k("invalid-cordova-configuration");var l=Dr("BuildInfo.displayName",s),c={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!Nr().toLowerCase().match(/android/))return At(new k("operation-not-supported-in-this-environment"));c.apn=u}l&&(c.appDisplayName=l),o=xl(o),c.sessionId=o;var h=wu(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(cl,a.w(),t)})).then((function(){var t=Dr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Dr("cordova.plugins.browsertab.openUrl",s)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Dr("cordova.InAppBrowser.open",s)))throw new k("invalid-cordova-configuration");t=Nr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new Et((function(e,t){u=function(){var t=Dr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){a||(a=_n(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},c=function(){Hr()&&l()},o.addEventListener("resume",l,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(e){return Cl(i).then((function(){throw e}))}))})).oa((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),_l(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new qo("unknown",null,null,null,new k("no-auth-event")),e(t))}))},e.Ta=function(e){Y(this.b,(function(t){return t==e}))};var Nl={name:"pendingRedirect",F:"session"};function Dl(e){return al(e.b,Nl,e.a)}function Ol(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new $l,this.C=new Jl,this.g=new Al(Kl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Rl(this.D,this.v,this.m,C,this.J)}function Rl(e,t,n,r,i){var o=ah.SDK_VERSION||null;return wr()?new Tl(e,t,n,o,r,i):new gu(e,t,n,o,r,i)}function Pl(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function jl(e){e.a.Yb()&&Pl(e).o((function(t){var n=new qo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Bl(t)&&e.s(n)})),e.a.Ub()||Ql(e.b)}function Ll(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Nl,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Dl(e.g).then((function(){Pl(e).o((function(t){var n=new qo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Bl(t)&&e.s(n)}))})):jl(e)})).o((function(){jl(e)}))}function Ml(e,t){Y(e.h,(function(e){return e==t}))}Ol.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Rl(this.D,this.v,this.m,null,this.J),this.i={}},Ol.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Ql(this.b),t};var Fl=new zr(2e3,1e4),Vl=new zr(3e4,6e4);function Ul(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Bl(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function ql(e,t,n,r,i){var o;return function(e){return e.b.set(Nl,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Bl(t))throw new k("operation-not-supported-in-this-environment");return o=t,Dl(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new Et((function(){})):Dl(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function zl(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Fl.get())}Ol.prototype.ra=function(){return this.b.ra()};var Hl={};function Kl(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Gl(e,t,n,r){var i=Kl(t,n,r);return Hl[i]||(Hl[i]=new Ol(e,t,n,r)),Hl[i]}function $l(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ql(e){e.g||(e.g=!0,Xl(e,!1,null,null))}function Wl(e){e.g&&!e.i&&Xl(e,!1,null,null)}function Yl(e,t){if(e.b=function(){return Ct(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Xl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Yl(e,n):Yl(e,{user:null}),e.f=[],e.c=[]}function Jl(){}function Zl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function ec(e,t){this.a=t,Xr(this,"verificationId",e)}function tc(e,t,n,r){return new Fo(e).gb(t,n).then((function(e){return new ec(e,r)}))}function nc(e){var t=Gi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jr(this,{token:e,expirationTime:Kr(1e3*t.exp),authTime:Kr(1e3*t.auth_time),issuedAtTime:Kr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function rc(e,t,n){var r=t&&t[oc];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=me(t),this.g=n,this.c=new so(null,r),this.b=[];var i=this;H(t[ic]||[],(function(e){(e=ni(e))&&i.b.push(e)})),Xr(this,"auth",this.a),Xr(this,"session",this.c),Xr(this,"hints",this.b)}$l.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$l.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Xl(this,!0,null,e.a),Ct()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Xl(e,s,t,null)})).o((function(t){Xl(e,s,null,t)}))}(this,e,t):At(new k("invalid-auth-event")):(Xl(this,!1,null,null),Ct())}else At(new k("invalid-auth-event"))},$l.prototype.ra=function(){var e=this;return new Et((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=_n(Vl.get()).then((function(){e.b||(e.g=!0,Xl(e,!0,null,t))}))}(e))}))},Jl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Ct()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):At(new k("invalid-auth-event"))}else At(new k("invalid-auth-event"))},ec.prototype.confirm=function(e){return e=Vo(this.verificationId,e),this.a(e)};var ic="mfaInfo",oc="mfaPendingCredential";function ac(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new rc(e,t,n),Xr(this,"resolver",this.b)}function sc(e,t,n){if(e&&m(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ac(t,e.serverResponse,n,e.message)}catch(r){}return null}function uc(){}function lc(e){Xr(this,"factorId",e.fa),this.a=e}function cc(e){if(lc.call(this,e),this.a.fa!=Fo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function hc(e,t){for(var n in Xt.call(this,e),t)this[n]=t[n]}function dc(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&H(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[oi]=e.uid),e.displayName&&(r[ri]=e.displayName),e.enrollmentTime&&(r[ii]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ai]=e.phoneNumber);try{t=new si(r)}catch(aM){}e=t}else e=null;e&&n.push(e)})),fc(this,n)}function fc(e,t){e.b=t,Xr(e,"enrolledFactors",t)}function pc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function mc(e,t){e.stop(),e.b=_n(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Hr()||!e?Ct():new Et((function(n){t=function(){Hr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){mc(e,!0)})).o((function(t){e.i(t)&&mc(e,!1)}))}function gc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function yc(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function vc(e,t){e.b=Ki(t[es]||""),e.a=t.refreshToken,yc(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function bc(e,t){return function(e,t){return new Et((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ls(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(su(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Jn(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=Ki(t.access_token),e.a=t.refresh_token,yc(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function wc(e,t){this.a=e||null,this.b=t||null,Jr(this,{lastSignInTime:Kr(t||null),creationTime:Kr(e||null)})}function Ec(e,t,n,r,i,o){Jr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Sc(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=ah.SDK_VERSION?Ar(ah.SDK_VERSION):null;this.a=new Ja(this.l,O(C),r),(this.u=e.emulatorConfig||null)&&as(this.a,this.u),this.h=new gc(this.a),Dc(this,t[es]),vc(this.h,t),Xr(this,"refreshToken",this.h.a),Pc(this,n||{}),Sn.call(this),this.P=!1,this.s&&Rr()&&(this.b=Gl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new pc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=E(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Tc(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){kc(i,e.f)},this.ja=null,this.S=new dc(this,n),Xr(this,"multiFactor",this.S)}function Tc(e,t){e.u=t,as(e.a,t),e.b&&(t=e.b,e.b=Gl(e.s,e.l,e.m,e.u),e.P&&(Ml(t,e),Ll(e.b,e)))}function Ic(e,t){e.qa&&fn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&cn(t,"languageCodeChanged",e.Pa)}function xc(e,t){e.$&&fn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&cn(t,"emulatorConfigChanged",e.Ba)}function kc(e,t){e.aa=t,us(e.a,ah.SDK_VERSION?Ar(ah.SDK_VERSION,e.aa):null)}function _c(e,t){e.ja&&fn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&cn(t,"frameworkChanged",e.Oa)}function Cc(e){try{return ah.app(e.m).auth()}catch(hM){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ac(e){e.J||e.D.b||(e.D.start(),fn(e,"tokenChanged",e.ba),cn(e,"tokenChanged",e.ba))}function Nc(e){fn(e,"tokenChanged",e.ba),e.D.stop()}function Dc(e,t){e.Aa=t,Xr(e,"_lat",t)}function Oc(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Dt(t).then((function(){return e}))}function Rc(e){e.b&&!e.P&&(e.P=!0,Ll(e.b,e))}function Pc(e,t){Jr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new wc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function jc(){}function Lc(e){return Ct().then((function(){if(e.J)throw new k("app-deleted")}))}function Mc(e){return G(e.providerData,(function(e){return e.providerId}))}function Fc(e,t){t&&(Vc(e,t.providerId),e.providerData.push(t))}function Vc(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Uc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Xr(e,t,n)}function Bc(e,t){e!=t&&(Jr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Xr(e,"metadata",function(e){return new wc(e.a,e.b)}(t.metadata)):Xr(e,"metadata",new wc),H(t.providerData,(function(t){Fc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Xr(e,"refreshToken",e.h.a),fc(e.S,t.S.b))}function qc(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return ou(e.a,Ls,{idToken:t}).then(E(e.Kc,e))}(e,t).then((function(){return n||Uc(e,"isAnonymous",!1),t}))}))}function zc(e,t){t[es]&&e.Aa!=t[es]&&(vc(e.h,t),e.dispatchEvent(new hc("tokenChanged")),Dc(e,t[es]),Uc(e,"refreshToken",e.h.a))}function Hc(e,t){return qc(e).then((function(){if(Q(Mc(e),t))return Oc(e).then((function(){throw new k("provider-already-linked")}))}))}function Kc(e,t,n){return Zr({user:e,credential:Uo(t),additionalUserInfo:t=Xi(t),operationType:n})}function Gc(e,t){return zc(e,t),e.reload().then((function(){return e}))}function $c(e,t,n,r,i){if(!Rr())return At(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=Yi(n.providerId),a=Ur(e.uid+":::"),s=null;(!Lr()||Er())&&e.s&&n.isOAuthProvider&&(s=wu(e.s,e.l,e.m,t,n,null,a,ah.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=gr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Wc(e),!i)return e.I().then((function(){}))})).then((function(){return Ul(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new Et((function(n,r){e.na(t,null,new k("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=zl(e.b,e,t,u,a)}))})).then((function(e){return u&&mr(u),e?Zr(e):null})).o((function(e){throw u&&mr(u),e})),Yc(e,r,i)}function Qc(e,t,n,r,i){if(!Rr())return At(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=null,a=Ur(e.uid+":::");return r=r().then((function(){if(Wc(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Oc(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Zc,e.w(),t.a)),t})).then((function(){return ql(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return eh(e.ha);throw o})).then((function(){if(o)throw o})),Yc(e,r,i)}function Wc(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Yc(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),At(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new hc("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){W(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=sc(t.w(),Cc(e),E(e.jc,e))),n||t}))}function Xc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[es]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Sc(t,n,e);return e.providerData&&H(e.providerData,(function(e){e&&Fc(i,Zr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Jc(e){this.a=e,this.b=rl()}rc.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=me(t.f);return delete n[ic],delete n[oc],ye(n,e),t.g(n)}))},I(ac,k),uc.prototype.tb=function(e,t,n){return t.type==uo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Mo(e.a)}),ou(t,Ps,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(e.a)}),ou(t,js,n)}))}(this,e,t)},I(lc,uc),I(cc,lc),I(hc,Xt),(e=dc.prototype).yc=function(e){fc(this,function(e){var t=[];return H(e.mfaInfo||[],(function(e){(e=ni(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new so(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return zc(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return ou(r,iu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=K(t.b,(function(e){return e.uid!=n}));return fc(t,r),zc(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(e){return e.w()}))}}},pc.prototype.start=function(){this.a=this.c,mc(this,!0)},pc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},gc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},gc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?bc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ct(null):Ct({accessToken:this.b.toString(),refreshToken:this.a})},wc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(Sc,Sn),Sc.prototype.xa=function(e){this.za=e,os(this.a,e)},Sc.prototype.la=function(){return this.za},Sc.prototype.Ga=function(){return J(this.aa)},Sc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Xr(Sc.prototype,"providerId","firebase"),(e=Sc.prototype).reload=function(){var e=this;return Yc(this,Lc(this).then((function(){return qc(e).then((function(){return Oc(e)})).then(jc)})))},e.oc=function(e){return this.I(e).then((function(e){return new nc(e)}))},e.I=function(e){var t=this;return Yc(this,Lc(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.Aa&&(Dc(t,e.accessToken),t.dispatchEvent(new hc("tokenChanged"))),Uc(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");Pc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?G(e,(function(e){return new Ec(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Fc(this,t[n]);Uc(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new hc("userReloaded",{hd:e}))},e.Lc=function(e){return Wr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Yc(this,e.c(this.a,this.uid).then((function(e){return zc(t,e),n=Kc(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Wr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Yc(this,Hc(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Kc(t,e,"link"),Gc(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Yc(this,Hc(this,"phone").then((function(){return tc(Cc(n),e,t,E(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Yc(this,Ct().then((function(){return tc(Cc(n),e,t,E(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Yc(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return zc(t,e),t.reload()})))},e.ed=function(e){var t=this;return Yc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return zc(t,e),t.reload()})))},e.Db=function(e){var t=this;return Yc(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return zc(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Lc(this);var t=this;return Yc(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return zc(t,e),Uc(t,"displayName",e.displayName||null),Uc(t,"photoURL",e.photoUrl||null),H(t.providerData,(function(e){"password"===e.providerId&&(Xr(e,"displayName",t.displayName),Xr(e,"photoURL",t.photoURL))})),Oc(t)})).then(jc))},e.cd=function(e){var t=this;return Yc(this,qc(this).then((function(n){return Q(Mc(t),e)?function(e,t,n){return ou(e,Ds,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return H(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),H(Mc(t),(function(e){n[e]||Vc(t,e)})),n[Fo.PROVIDER_ID]||Xr(t,"phoneNumber",null),Oc(t)})):Oc(t).then((function(){throw new k("no-such-provider")}))})))},e.delete=function(){var e=this;return Yc(this,this.I().then((function(t){return ou(e.a,Ns,{idToken:t})})).then((function(){e.dispatchEvent(new hc("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Ic(e,null),xc(e,null),_c(e,null),e.N=[],e.J=!0,Nc(e),Xr(e,"refreshToken",null),e.b&&Ml(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Mb,this):null},e.Ec=function(e){var t=this;return $c(this,"linkViaPopup",e,(function(){return Hc(t,e.providerId).then((function(){return Oc(t)}))}),!1)},e.Nc=function(e){return $c(this,"reauthViaPopup",e,(function(){return Ct()}),!0)},e.Fc=function(e){var t=this;return Qc(this,"linkViaRedirect",e,(function(){return Hc(t,e.providerId)}),!1)},e.Oc=function(e){return Qc(this,"reauthViaRedirect",e,(function(){return Ct()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return Ts(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Kc(i,e,"link"),Gc(i,e)})).then((function(){return o})),Yc(this,n)},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Yc(this,Ct().then((function(){return ho(Is(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Kc(i,e,"reauthenticate"),zc(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Yc(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:Bi(new Di(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Yc(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:Bi(new Di(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Yc(this,e=ho(Ct(e),n.uid).then((function(e){return t=Kc(n,e,"reauthenticate"),zc(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),H(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.S.w()),e};var Zc={name:"redirectUser",F:"session"};function eh(e){return al(e.b,Zc,e.a)}function th(e){this.a=e,this.b=rl(),this.c=null,this.f=function(e){var t=ih("local"),n=ih("session"),r=ih("none");return function(e,t,n){var r=ol(t,n),i=il(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Vr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(rh,e.a).then((function(e){return e?ih(e):t}))}))}))})).then((function(t){return e.c=t,nh(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(ih("local"),this.a,E(this.g,this))}function nh(e,t){var n,r=[];for(n in tl)tl[n]!==t&&r.push(al(e.b,ih(tl[n]),e.a));return r.push(al(e.b,rh,e.a)),function(e){return new Et((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Nt(e[s],S(o,s),a);else t(i)}))}(r)}th.prototype.g=function(){var e=this,t=ih("local");lh(this,(function(){return Ct().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return nh(e,"local").then((function(){e.c=t}))}))}))};var rh={name:"persistence",F:"session"};function ih(e){return{name:"authUser",F:e}}function oh(e,t){return lh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function sh(e){return lh(e,(function(){return al(e.b,e.c,e.a)}))}function uh(e,t,n){return lh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Xc(e||{})}))}))}function lh(e,t){return e.f=e.f.then(t,t),e.f}function ch(e){if(this.l=!1,Xr(this,"settings",new Zl),Xr(this,"app",e),!bh(this).options||!bh(this).options.apiKey)throw new k("invalid-api-key");e=ah.SDK_VERSION?Ar(ah.SDK_VERSION):null,this.a=new Ja(bh(this).options&&bh(this).options.apiKey,O(C),e),this.P=[],this.s=[],this.N=[],this.Pa=ah.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=ah.INTERNAL.createSubscribe(E(this.Ac,this)),yh(this,null),this.i=new th(bh(this).options.apiKey+":"+bh(this).name),this.D=new Jc(bh(this).options.apiKey+":"+bh(this).name),this.$=Ih(this,function(e){var t=bh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Zc,e.a).then((function(e){return e&&t&&(e.authDomain=t),Xc(e||{})}))}(e.D,bh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),eh(e.D)}));return Ih(e,t)}(e).then((function(){return uh(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return oh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:sh(e.i)}))):null})).then((function(t){yh(e,t||null)}));return Ih(e,n)}(this)),this.h=Ih(this,function(e){return e.$.then((function(){return mh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(ih("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(e){var t=bh(e).options.authDomain,n=bh(e).options.apiKey;t&&Rr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Gl(t,n,bh(e).name,e.R),Ll(e.b,e),wh(e)&&Rc(wh(e)),e.m){Rc(e.m);var r=e.m;r.xa(e.la()),Ic(r,e),kc(r=e.m,e.J),_c(r,e),Tc(r=e.m,e.R),xc(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,Sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Un(this.R.url);e=Zr({protocol:e.c,host:e.a,port:e.g,options:Zr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function hh(e){Xt.call(this,"languageCodeChanged"),this.h=e}function dh(e){Xt.call(this,"emulatorConfigChanged"),this.c=e}function fh(e){Xt.call(this,"frameworkChanged"),this.f=e}function ph(e){return e.Oa||At(new k("auth-domain-config-required"))}function mh(e){if(!Rr())return At(new k("operation-not-supported-in-this-environment"));var t=ph(e).then((function(){return e.b.ra()})).then((function(e){return e?Zr(e):null}));return Ih(e,t)}function gh(e,t){var n={};return n.apiKey=bh(e).options.apiKey,n.authDomain=bh(e).options.authDomain,n.appName=bh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Sc(e,t);return n&&(i.ha=n),r&&kc(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return wh(e)&&t.uid==wh(e).uid?(Bc(wh(e),t),e.da(t)):(yh(e,t),Rc(t),e.da(t))})).then((function(){Th(e)}))}function yh(e,t){wh(e)&&(function(e,t){Y(e.W,(function(e){return e==t}))}(wh(e),e.Ba),fn(wh(e),"tokenChanged",e.qa),fn(wh(e),"userDeleted",e.za),fn(wh(e),"userInvalidated",e.Aa),Nc(wh(e))),t&&(t.W.push(e.Ba),cn(t,"tokenChanged",e.qa),cn(t,"userDeleted",e.za),cn(t,"userInvalidated",e.Aa),0<e.u&&Ac(t)),Xr(e,"currentUser",t),t&&(t.xa(e.la()),Ic(t,e),kc(t,e.J),_c(t,e),Tc(t,e.R),xc(t,e))}function vh(e,t){var n=null,r=null;return Ih(e,t.then((function(t){return n=Uo(t),r=Xi(t),gh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=sc(t.w(),e,E(e.kc,e))),n||t})).then((function(){return Zr({user:wh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function bh(e){return e.app}function wh(e){return e.currentUser}function Sh(e){return wh(e)&&wh(e)._lat||null}function Th(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Sh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Sh(e))}}function Ih(e,t){return e.P.push(t),t.oa((function(){W(e.P,t)})),t}function xh(){}function kh(){this.a={},this.b=1e12}th.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in tl)if(tl[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Tr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Pu()&&"none"!==e)throw n;break;default:if(!Or()&&"none"!==e)throw n}}(e),lh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,nh(n,e)})).then((function(){if(n.c=ih(e),t)return n.b.set(n.c,t,n.a)})):Ct()}))},I(ch,Sn),I(hh,Xt),I(dh,Xt),I(fh,Xt),(e=ch.prototype).yb=function(e){return Ih(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,os(this.a,this.aa),this.dispatchEvent(new hh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&br().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,as(this.a,this.R),this.dispatchEvent(new dh(this.R))}},e.Gc=function(e){this.J.push(e),us(this.a,ah.SDK_VERSION?Ar(ah.SDK_VERSION,this.J):null),this.dispatchEvent(new fh(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:bh(this).options.apiKey,authDomain:bh(this).options.authDomain,appName:bh(this).name,currentUser:wh(this)&&wh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return vh(i,Ss(i.a,o))}))},e.Xc=function(e){if(!Rr())return At(new k("operation-not-supported-in-this-environment"));var t=this,n=Yi(e.providerId),r=Ur(),i=null;(!Lr()||Er())&&bh(this).options.authDomain&&e.isOAuthProvider&&(i=wu(bh(this).options.authDomain,bh(this).options.apiKey,bh(this).name,"signInViaPopup",e,null,r,ah.SDK_VERSION||null,null,null,this.T(),this.R));var o=gr(i,n&&n.va,n&&n.ua);return n=ph(this).then((function(n){return Ul(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new Et((function(e,n){t.na("signInViaPopup",null,new k("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=zl(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&mr(o),e?Zr(e):null})).o((function(e){throw o&&mr(o),e})),Ih(this,n)},e.Yc=function(e){if(!Rr())return At(new k("operation-not-supported-in-this-environment"));var t=this,n=ph(this).then((function(){return function(e){return lh(e,(function(){return e.b.set(rh,e.c.F,e.a)}))}(t.i)})).then((function(){return ql(t.b,"signInViaRedirect",e,void 0,t.T())}));return Ih(this,n)},e.ra=function(){var e=this;return mh(this).then((function(t){return e.b&&Wl(e.b.b),t})).o((function(t){throw e.b&&Wl(e.b.b),t}))},e.dd=function(e){if(!e)return At(new k("null-user"));if(this.S!=e.tenantId)return At(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=bh(this).options.apiKey,n.authDomain=bh(this).options.authDomain,n.appName=bh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[es]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Sc(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&kc(t,r),Bc(t,e),t}(e,n,t.D,t.Ga());return Ih(this,this.h.then((function(){if(bh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return wh(t)&&e.uid==wh(t).uid?(Bc(wh(t),e),t.da(e)):(yh(t,r),Rc(r),t.da(r))})).then((function(){Th(t)})))},e.Bb=function(){var e=this;return Ih(this,this.h.then((function(){return e.b&&Wl(e.b.b),wh(e)?(yh(e,null),sh(e.i).then((function(){Th(e)}))):Ct()})))},e.Zc=function(){var e=this;return uh(this.i,bh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=wh(e)&&t){n=wh(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Bc(wh(e),t),wh(e).I();(wh(e)||t)&&(yh(e,t),t&&(Rc(t),t.ha=e.D),e.b&&Ll(e.b,e),Th(e))}}))},e.da=function(e){return oh(this.i,e)},e.mc=function(){Th(this),this.da(wh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return vh(t,Ct(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(wh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Ih(e,e.h.then((function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Sh(e)))})))}(this,(function(){e.next(wh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(wh(r)):"function"===typeof e.next&&e.next(wh(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(wh(r)):"function"===typeof e.next&&e.next(wh(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return Ih(this,this.h.then((function(){return wh(t)?wh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return vh(t,ou(t.a,Zs,{token:e}))})).then((function(e){var n=e.user;return Uc(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return vh(n,ou(n.a,eu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return vh(n,ou(n.a,Cs,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return vh(t,e.ka(t.a))}))},e.Sc=function(e){return Wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=wh(e);if(t&&t.isAnonymous){var n=Zr({providerId:null,isNewUser:!1});return Zr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vh(e,e.a.Ab()).then((function(t){var n=t.user;return Uc(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return wh(this)&&wh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&wh(this)&&Ac(wh(this))},e.Pc=function(e){var t=this;H(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&wh(this)&&Nc(wh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Ih(this,this.h.then((function(){t.l||Q(t.s,e)&&e(Sh(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(ih("local"),e.a,this.ja),this.b&&(Ml(this.b,this),Wl(this.b.b)),Promise.resolve()},e.hc=function(e){return Ih(this,function(e,t){return ou(e,As,{identifier:t,continueUri:Pr()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Po(e)},e.xb=function(e,t){var n=this;return Ih(this,Ct().then((function(){var e=new Di(t);if(!e.c)throw new k("argument-error",Pi+" must be true when sending sign in link to email");return Bi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Ih(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Ih(this,this.a.Sa(e).then((function(e){return new ui(e)})))},e.kb=function(e){return Ih(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Ih(this,Ct().then((function(){return"undefined"===typeof t||pe(t)?{}:Bi(new Di(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Ih(this,tc(this,e,t,E(this.ab,this)))},e.Vc=function(e,t){var n=this;return Ih(this,Ct().then((function(){var r=t||hr(),i=Ro(e,r);if(!(r=Po(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)})))},xh.prototype.render=function(){},xh.prototype.reset=function(){},xh.prototype.getResponse=function(){},xh.prototype.execute=function(){};var _h=null;function Ch(e,t){return(t=Ah(t))&&e.a[t]||null}function Ah(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Nh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function Dh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Oh(){}function Rh(){}kh.prototype.render=function(e,t){return this.a[this.b.toString()]=new Nh(e,t),this.b++},kh.prototype.reset=function(e){var t=Ch(this,e);e=Ah(e),t&&e&&(t.delete(),delete this.a[e])},kh.prototype.getResponse=function(e){return(e=Ch(this,e))?e.getResponse():null},kh.prototype.execute=function(e){(e=Ch(this,e))&&e.execute()},Nh.prototype.getResponse=function(){return Dh(this),this.b},Nh.prototype.execute=function(){Dh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Nh.prototype.delete=function(){Dh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Xr(Oh,"FACTOR_ID","phone"),Rh.prototype.g=function(){return _h||(_h=new kh),Ct(_h)},Rh.prototype.c=function(){};var Ph=null;function jh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Lh=new be(Te,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Mh=new zr(3e4,6e4);jh.prototype.g=function(e){var t=this;return new Et((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Mh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete s[t.a]},Ct(Ka(_e(Lh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},jh.prototype.c=function(){this.b--};var Fh=null;function Vh(e,t,n,r,i,o,a){if(Xr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Ph||(Ph=new Rh),a=Ph):(Fh||(Fh=new jh),a=Fh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[qh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[zh],!s.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ja(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var l=this.a[Uh];this.a[Uh]=function(e){if(Hh(u,e),"function"===typeof l)l(e);else if("string"===typeof l){var t=Dr(l,s);"function"===typeof t&&t(e)}};var c=this.a[Bh];this.a[Bh]=function(){if(Hh(u,null),"function"===typeof c)c();else if("string"===typeof c){var e=Dr(c,s);"function"===typeof e&&e()}}}var Uh="callback",Bh="expired-callback",qh="sitekey",zh="size";function Hh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Kh(e,t){return e.h.push(t),t.oa((function(){W(e.h,t)})),t}function Gh(e){if(e.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function $h(e,t,n){var r=!1;try{this.b=n||ah.app()}catch(aM){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(aM){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(aM){}o=ah.SDK_VERSION?Ar(ah.SDK_VERSION,o):null,Vh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,O(C),r)}function Qh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Wh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Wh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(e=Vh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Kh(this,Ct().then((function(){if(Pr()&&!Sr())return br();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,ou(e.s,qs,{})})).then((function(t){e.a[qh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Gh(this);var e=this;return Kh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=pt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Gh(this);var e=this;return Kh(this,this.render().then((function(t){return new Et((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Gh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Gh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},I($h,Vh);var Wh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Yh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Xh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Jh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:m}}function Zh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function ed(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function td(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function nd(e,t){return m(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function rd(e){return m(e)&&"string"===typeof e.uid}function id(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function od(e,t){for(var n in t){var r=t[n].name;e[r]=ud(r,e[n],t[n].j)}}function ad(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Qh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function sd(e,t,n,r){e[t]=ud(t,n,r)}function ud(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Qh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return e=e.split("."),e[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}od(ch.prototype,{kb:{name:"applyActionCode",j:[Yh("code")]},Sa:{name:"checkActionCode",j:[Yh("code")]},ob:{name:"confirmPasswordReset",j:[Yh("code"),Yh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Yh("email"),Yh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Yh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Yh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[id(Jh(),Zh(),"nextOrObserver"),Zh("opt_error",!0),Zh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[id(Jh(),Zh(),"nextOrObserver"),Zh("opt_error",!0),Zh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Yh("email"),id(Jh("opt_actionCodeSettings",!0),ed(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Yh("email"),Jh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Yh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[td()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[td()]},Tc:{name:"signInWithCustomToken",j:[Yh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Yh("email"),Yh("password")]},Vc:{name:"signInWithEmailLink",j:[Yh("email"),Yh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[id({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Sc)}},ed(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Yh("url"),Jh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Yh("code")]}}),ad(ch.prototype,{lc:{name:"languageCode",lb:id(Yh(),ed(),"languageCode")},ti:{name:"tenantId",lb:id(Yh(),ed(),"tenantId")}}),ch.Persistence=tl,ch.Persistence.LOCAL="local",ch.Persistence.SESSION="session",ch.Persistence.NONE="none",od(Sc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[td()]},rb:{name:"linkWithCredential",j:[td()]},Dc:{name:"linkWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[td()]},ub:{name:"reauthenticateWithCredential",j:[td()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[id(Jh("opt_actionCodeSettings",!0),ed(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},cd:{name:"unlink",j:[Yh("provider")]},Cb:{name:"updateEmail",j:[Yh("email")]},Db:{name:"updatePassword",j:[Yh("password")]},ed:{name:"updatePhoneNumber",j:[td("phone")]},Eb:{name:"updateProfile",j:[Jh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Yh("email"),id(Jh("opt_actionCodeSettings",!0),ed(null,!0),"opt_actionCodeSettings",!0)]}}),od(kh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),od(xh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),od(Et.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ad(Zl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Xh("appVerificationDisabledForTesting")}}),od(ec.prototype,{confirm:{name:"confirm",j:[Yh("verificationCode")]}}),sd(co,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[vo,Do,Lo,mo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[id(Yh(),Jh(),"json")]),sd(Oo,"credential",(function(e,t){return new No(e,t)}),[Yh("email"),Yh("password")]),od(No.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),od(So.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),sd(So,"credential",To,[id(Yh(),Jh(),"token")]),sd(Oo,"credentialWithLink",Ro,[Yh("email"),Yh("emailLink")]),od(Io.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),sd(Io,"credential",xo,[id(Yh(),Jh(),"token")]),od(ko.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),sd(ko,"credential",_o,[id(Yh(),id(Jh(),ed()),"idToken"),id(Yh(),ed(),"accessToken",!0)]),od(Co.prototype,{Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),sd(Co,"credential",Ao,[id(Yh(),Jh(),"token"),Yh("secret",!0)]),od(Eo.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},credential:{name:"credential",j:[id(Yh(),id(Jh(),ed()),"optionsOrIdToken"),id(Yh(),ed(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),od(go.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),od(fo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sd(Fo,"credential",Vo,[Yh("verificationId"),Yh("verificationCode")]),od(Fo.prototype,{gb:{name:"verifyPhoneNumber",j:[id(Yh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?nd(e.session,uo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?nd(e.session,lo)&&rd(e.multiFactorHint):e.session&&e.multiFactorUid?nd(e.session,lo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),od(jo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),od(k.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),od(Qo.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),od($o.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),od(ac.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),od(rc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),od(dc.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Yh("displayName",!0)]},bd:{name:"unenroll",j:[id({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:rd},Yh(),"multiFactorInfoIdentifier")]}}),od($h.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),sd(Si,"parseLink",Ni,[Yh("link")]),sd(Oh,"assertion",(function(e){return new cc(e)}),[td("phone")]),function(){if("undefined"===typeof ah||!ah.INTERNAL||!ah.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ch,AuthCredential:co,Error:k};sd(e,"EmailAuthProvider",Oo,[]),sd(e,"FacebookAuthProvider",So,[]),sd(e,"GithubAuthProvider",Io,[]),sd(e,"GoogleAuthProvider",ko,[]),sd(e,"TwitterAuthProvider",Co,[]),sd(e,"OAuthProvider",Eo,[Yh("providerId")]),sd(e,"SAMLAuthProvider",wo,[Yh("providerId")]),sd(e,"PhoneAuthProvider",Fo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ch)}}]),sd(e,"RecaptchaVerifier",$h,[id(Yh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Jh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof ah.app.App)}}]),sd(e,"ActionCodeURL",Si,[]),sd(e,"PhoneMultiFactorGenerator",Oh,[]),ah.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new ch(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),ah.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ah.registerVersion("@firebase/auth","0.16.8"),ah.INTERNAL.extendNamespace({User:Sc})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ux=ah.initializeApp({apiKey:"AIzaSyDUSJ5yzHvTCCSQTuONsPtOBGodjamReHc",authDomain:"money2022-173b9.firebaseapp.com",projectId:"money2022-173b9",storageBucket:"money2022-173b9.appspot.com",messagingSenderId:"944583877759",appId:"1:944583877759:web:0fd8a43af8a727a76c0b4a"}),Bx=ah.firestore(),qx=Ux.auth();function zx(){const e=r.useRef(),t=r.useRef(),n=Iu();return(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsx)("br",{}),(0,rl.jsx)(cl,{centered:!0,children:(0,rl.jsxs)(cl.Row,{children:[(0,rl.jsx)(cl.Column,{width:4}),(0,rl.jsx)(cl.Column,{width:8,children:(0,rl.jsxs)(El,{children:[(0,rl.jsx)(El.Content,{textAlign:"center",header:"\u767b\u5165\u9801\u9762"}),(0,rl.jsx)(El.Content,{children:(0,rl.jsxs)(oc,{size:"large",onSubmit:r=>{r.preventDefault(),qx.signInWithEmailAndPassword(e.current.value,t.current.value).then((e=>{localStorage.setItem("user",JSON.stringify({email:e.user.email,login:!0})),n("/stock")}))},children:[(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"Email"}),(0,rl.jsx)("input",{ref:e,defaultValue:"mkdodos@gmail.com"})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"Password"}),(0,rl.jsx)("input",{type:"password",ref:t,defaultValue:"123456"})]}),(0,rl.jsx)(Al,{fluid:!0,type:"submit",size:"large",color:"blue",children:"\u767b\u5165"})]})})]})})]})})]})}function Hx(e){var t=e.children,n=e.className,i=s(n),a=y(Hx,e),u=v(Hx,e);return r.createElement(u,o({},a,{className:i}),t)}Hx.handledProps=["as","children","className"],Hx.defaultProps={as:"tbody"},Hx.propTypes={};const Kx=Hx;function Gx(e){var t=e.active,n=e.children,i=e.className,a=e.collapsing,u=e.content,l=e.disabled,h=e.error,d=e.icon,f=e.negative,b=e.positive,w=e.selectable,E=e.singleLine,S=e.textAlign,T=e.verticalAlign,I=e.warning,x=e.width,k=s(c(t,"active"),c(a,"collapsing"),c(l,"disabled"),c(h,"error"),c(f,"negative"),c(b,"positive"),c(w,"selectable"),c(E,"single line"),c(I,"warning"),p(S),m(T),g(x,"wide"),i),_=y(Gx,e),C=v(Gx,e);return Hn(n)?r.createElement(C,o({},_,{className:k}),$i.create(d),u):r.createElement(C,o({},_,{className:k}),n)}Gx.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],Gx.defaultProps={as:"td"},Gx.propTypes={},Gx.create=Mr(Gx,(function(e){return{content:e}}));const $x=Gx;function Qx(e){var t=e.children,n=e.className,i=e.content,a=e.fullWidth,u=s(c(a,"full-width"),n),l=y(Qx,e),h=v(Qx,e);return r.createElement(h,o({},l,{className:u}),Hn(t)?i:t)}Qx.handledProps=["as","children","className","content","fullWidth"],Qx.defaultProps={as:"thead"},Qx.propTypes={};const Wx=Qx;function Yx(e){var t=e.as,n=y(Yx,e);return r.createElement(Wx,o({},n,{as:t}))}Yx.handledProps=["as"],Yx.propTypes={},Yx.defaultProps={as:"tfoot"};const Xx=Yx;function Jx(e){var t=e.as,n=e.className,i=e.sorted,a=s(h(i,"sorted"),n),u=y(Jx,e);return r.createElement($x,o({},u,{as:t,className:a}))}Jx.handledProps=["as","className","sorted"],Jx.propTypes={},Jx.defaultProps={as:"th"};const Zx=Jx;function ek(e){var t=e.active,n=e.cellAs,i=e.cells,a=e.children,u=e.className,l=e.disabled,h=e.error,d=e.negative,f=e.positive,g=e.textAlign,b=e.verticalAlign,w=e.warning,E=s(c(t,"active"),c(l,"disabled"),c(h,"error"),c(d,"negative"),c(f,"positive"),c(w,"warning"),p(g),m(b),u),S=y(ek,e),T=v(ek,e);return Hn(a)?r.createElement(T,o({},S,{className:E}),Yn(i,(function(e){return $x.create(e,{defaultProps:{as:n}})}))):r.createElement(T,o({},S,{className:E}),a)}ek.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],ek.defaultProps={as:"tr",cellAs:"td"},ek.propTypes={},ek.create=Mr(ek,(function(e){return{cells:e}}));const tk=ek;function nk(e){var t=e.attached,n=e.basic,i=e.celled,a=e.children,u=e.className,l=e.collapsing,h=e.color,f=e.columns,b=e.compact,w=e.definition,E=e.fixed,S=e.footerRow,T=e.headerRow,I=e.headerRows,x=e.inverted,k=e.padded,_=e.renderBodyRow,C=e.selectable,A=e.singleLine,N=e.size,D=e.sortable,O=e.stackable,R=e.striped,P=e.structured,j=e.tableData,L=e.textAlign,M=e.unstackable,F=e.verticalAlign,V=s("ui",h,N,c(i,"celled"),c(l,"collapsing"),c(w,"definition"),c(E,"fixed"),c(x,"inverted"),c(C,"selectable"),c(A,"single line"),c(D,"sortable"),c(O,"stackable"),c(R,"striped"),c(P,"structured"),c(M,"unstackable"),d(t,"attached"),d(n,"basic"),d(b,"compact"),d(k,"padded"),p(L),m(F),g(f,"column"),"table",u),U=y(nk,e),B=v(nk,e);if(!Hn(a))return r.createElement(B,o({},U,{className:V}),a);var q={defaultProps:{cellAs:"th"}},z=(T||I)&&r.createElement(Wx,null,tk.create(T,q),Yn(I,(function(e){return tk.create(e,q)})));return r.createElement(B,o({},U,{className:V}),z,r.createElement(Kx,null,_&&Yn(j,(function(e,t){return tk.create(_(e,t))}))),S&&r.createElement(Xx,null,tk.create(S)))}nk.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],nk.defaultProps={as:"table"},nk.propTypes={},nk.Body=Kx,nk.Cell=$x,nk.Footer=Xx,nk.Header=Wx,nk.HeaderCell=Zx,nk.Row=tk;const rk=nk;function ik(e){let{rows:t,handleEdit:n,handleAdd:r,loading:i}=e;return(0,rl.jsx)("div",{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u65e5\u671f"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u59d3\u540d"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u795e\u5edf"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u5efa\u7bc9"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u5206\u6578"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:(0,rl.jsx)(Al,{primary:!0,onClick:r,loading:i,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:t.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.Cell,{children:e.date}),(0,rl.jsx)(rk.Cell,{children:e.name}),(0,rl.jsx)(rk.Cell,{children:e.temple}),(0,rl.jsx)(rk.Cell,{children:e.building}),(0,rl.jsx)(rk.Cell,{children:e.score}),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>n(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}const ok=ua.instance;var ak=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonOverrides=function(e){return{onClick:function(n,r){hr(e,"onClick",n,r),hr(t.props,"onActionClick",n,r)}}},t}return Qn(t,e),t.prototype.render=function(){var e=this,n=this.props,i=n.actions,a=n.children,u=n.className,l=n.content,c=s("actions",u),h=y(t,this.props),d=v(t,this.props);return Hn(a)?Hn(l)?r.createElement(d,o({},h,{className:c}),Yn(i,(function(t){return Al.create(t,{overrideProps:e.handleButtonOverrides})}))):r.createElement(d,o({},h,{className:c}),l):r.createElement(d,o({},h,{className:c}),a)},t}(r.Component);function sk(e){var t=e.children,n=e.className,i=e.content,a=e.image,u=e.scrolling,l=s(n,c(a,"image"),c(u,"scrolling"),"content"),h=y(sk,e),d=v(sk,e);return r.createElement(d,o({},h,{className:l}),Hn(t)?i:t)}ak.handledProps=["actions","as","children","className","content","onActionClick"],ak.propTypes={},ak.create=Mr(ak,(function(e){return{actions:e}})),sk.handledProps=["as","children","className","content","image","scrolling"],sk.propTypes={},sk.create=Mr(sk,(function(e){return{content:e}}));const uk=sk;function lk(e){var t=e.children,n=e.className,i=e.content,a=s("description",n),u=y(lk,e),l=v(lk,e);return r.createElement(l,o({},u,{className:a}),Hn(t)?i:t)}lk.handledProps=["as","children","className","content"],lk.propTypes={};const ck=lk;const hk=Va()?r.useLayoutEffect:r.useEffect;var dk=/\s+/;var fk=new Map,pk=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(dk).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),r=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(fk.get(e)||[],n),i=r[0],o=r[1];e&&(i.forEach((function(t){return e.classList.add(t)})),o.forEach((function(t){return e.classList.remove(t)}))),fk.set(e,n)},mk=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var r=new Set;r.add(n),e.nodes.set(t,r)}},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function gk(e){var t=e.blurring,n=e.children,i=e.className,a=e.centered,u=e.content,l=e.inverted,h=e.mountNode,d=e.scrolling,f=r.useRef(),p=s("ui",c(l,"inverted"),c(!a,"top aligned"),"page modals dimmer transition visible active",i),m=s("dimmable dimmed",c(t,"blurring"),c(d,"scrolling")),g=y(gk,e),b=v(gk,e);return function(e,t){var n=r.useRef(),i=r.useRef(!1);hk((function(){if(n.current=t,i.current){var r=ma(e)?e.current:e;mk.emit(r,pk)}i.current=!0}),[t]),hk((function(){var t=ma(e)?e.current:e;return mk.add(t,n),mk.emit(t,pk),function(){mk.del(t,n),mk.emit(t,pk)}}),[e])}(h,m),r.useEffect((function(){f.current&&f.current.style&&f.current.style.setProperty("display","flex","important")}),[]),r.createElement(ba,{innerRef:f},r.createElement(b,o({},g,{className:p}),Hn(n)?u:n))}gk.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],gk.propTypes={},gk.create=Mr(gk,(function(e){return{content:e}}));const yk=gk;function vk(e){var t=e.children,n=e.className,i=e.content,a=s("header",n),u=y(vk,e),l=v(vk,e);return r.createElement(l,o({},u,{className:a}),Hn(t)?i:t)}vk.handledProps=["as","children","className","content"],vk.propTypes={},vk.create=Mr(vk,(function(e){return{content:e}}));const bk=vk;var wk=function(e){function t(){for(var n,i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return(n=e.call.apply(e,[this].concat(a))||this).legacy=Va()&&!window.ActiveXObject&&"ActiveXObject"in window,n.ref=(0,r.createRef)(),n.dimmerRef=(0,r.createRef)(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return Va()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(e){return{onActionClick:function(t,r){hr(e,"onActionClick",t,r),hr(n.props,"onActionClick",t,n.props),n.handleClose(t)}}},n.handleClose=function(e){n.setState({open:!1}),hr(n.props,"onClose",e,o({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDimmerClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!t||Aa(n.ref.current,r)||Aa(n.ref.current,e)||(n.setState({open:!1}),hr(n.props,"onClose",e,o({},n.props,{open:!1})))},n.handleIconOverrides=function(e){return{onClick:function(t){hr(e,"onClick",t),n.handleClose(t)}}},n.handleOpen=function(e){hr(n.props,"onOpen",e,o({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),ok.sub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),ok.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),hr(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),ok.unsub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),ok.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),hr(n.props,"onUnmount",e,n.props)},n.setPositionAndClassNames=function(){var e,t=n.props.centered,r={};if(n.ref.current){var i=n.ref.current.getBoundingClientRect(),o=function(e){var t=e.height+0,n=e.height+0,r=window.innerHeight;return r/2+-n/2+t+50<r}(i);e=!o;var a=n.legacy?function(e,t,n){var r=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:r}}(o,t,i):{};Ta()(n.state.legacyStyles,a)||(r.legacyStyles=a),n.state.scrolling!==e&&(r.scrolling=e)}No(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(e){var i=n.props,a=i.actions,u=i.basic,l=i.children,h=i.className,d=i.closeIcon,f=i.content,p=i.header,m=i.size,g=i.style,y=n.state,b=y.legacyStyles,w=y.scrolling,E=s("ui",m,c(u,"basic"),c(n.legacy,"legacy"),c(w,"scrolling"),"modal transition visible active",h),S=v(t,n.props),T=!0===d?"close":d,I=$i.create(T,{overrideProps:n.handleIconOverrides});return r.createElement(ba,{innerRef:n.ref},r.createElement(S,o({},e,{className:E,style:o({},b,g)}),I,Hn(l)?r.createElement(r.Fragment,null,bk.create(p,{autoGenerateKey:!1}),uk.create(f,{autoGenerateKey:!1}),ak.create(a,{overrideProps:n.handleActionsOverrides})):l))},n}Qn(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.handlePortalUnmount()},n.render=function(){var e=this.props,n=e.centered,i=e.closeOnDocumentClick,a=e.dimmer,s=e.eventPool,u=e.trigger,l=this.state,c=l.open,h=l.scrolling,d=this.getMountNode();if(!Va())return(0,r.isValidElement)(u)?u:null;var f=y(t,this.props),p=za.handledProps,m=Is(f,(function(e,t,n){return mo(p,n)||(e[n]=t),e}),{}),g=sa(f,p);return r.createElement(za,o({closeOnDocumentClick:i},g,{trigger:u,eventPool:s,mountNode:d,open:c,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),r.createElement(ba,{innerRef:this.dimmerRef},yk.create(Dr(a)?a:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===a,inverted:"inverted"===a},overrideProps:{children:this.renderContent(m),centered:n,mountNode:d,scrolling:h}})))},t}(fr);wk.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],wk.propTypes={},wk.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},wk.autoControlledProps=["open"],wk.Actions=ak,wk.Content=uk,wk.Description=ck,wk.Dimmer=yk,wk.Header=bk;const Ek=wk;function Sk(e){let{open:t,setOpen:n,row:r,handleChange:i,handleSave:o,handleDelete:a}=e;return(0,rl.jsx)("div",{children:(0,rl.jsxs)(Ek,{onClose:()=>n(!1),onOpen:()=>n(!0),open:t,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"Select a Photo"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsxs)(oc,{children:[(0,rl.jsxs)(oc.Group,{children:[(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u65e5\u671f"}),(0,rl.jsx)("input",{type:"date",name:"date",value:r.date,onChange:i})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u59d3\u540d"}),(0,rl.jsx)("input",{type:"text",name:"name",value:r.name,onChange:i})]})]}),(0,rl.jsxs)(oc.Group,{children:[(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u795e\u5edf"}),(0,rl.jsx)("input",{type:"number",name:"temple",value:r.temple,onChange:i})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u5efa\u7bc9"}),(0,rl.jsx)("input",{type:"number",name:"building",value:r.building,onChange:i})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u5206\u6578"}),(0,rl.jsx)("input",{type:"number",name:"score",value:r.score,onChange:i})]})]})]})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:o,children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:a,children:"\u522a\u9664"})]})]})})}function Tk(){const e={date:(new Date).toISOString().substring(0,10),name:""},[t,n]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[a,s]=(0,r.useState)(e),[u,l]=(0,r.useState)(-1),[c,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),p="maya";(0,r.useEffect)((()=>{m()}),[]);const m=async()=>{f(!0);const e=(await Bx.collection(p).get()).docs.map((e=>({...e.data(),id:e.id})));f(!1),n(e),console.log(e)};return(0,rl.jsxs)("div",{children:[(0,rl.jsx)(Sk,{open:c,setOpen:h,row:a,handleChange:e=>{s({...a,[e.target.name]:e.target.value})},handleSave:()=>{-1==u?Bx.collection(p).add(a).then((e=>{n([...t,{...a,id:e.id}])})):Bx.collection(p).doc(a.id).update(a).then((()=>{const e=t.slice();Object.assign(e[u],a),n(e),l(-1)})),h(!1),s(e)},handleDelete:()=>{Bx.collection(p).doc(a.id).delete().then((()=>{n(t.filter((e=>e.id!=a.id))),h(!1)}))}}),(0,rl.jsx)(ik,{loading:d,rows:t,handleAdd:()=>{h(!0),l(-1),s(e)},handleEdit:(e,t)=>{s(e),l(t),h(!0)}})]})}function Ik(e){var t=e.children,n=e.className,i=e.compact,a=e.content,u=e.horizontal,l=e.piled,h=e.raised,d=e.size,f=e.stacked,p=s("ui",d,c(i,"compact"),c(u,"horizontal"),c(l,"piled"),c(h,"raised"),c(f,"stacked"),"segments",n),m=y(Ik,e),g=v(Ik,e);return r.createElement(g,o({},m,{className:p}),Hn(t)?a:t)}Ik.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],Ik.propTypes={};const xk=Ik;function kk(e){var t=e.children,n=e.className,i=e.content,a=s("inline",n),u=y(kk,e),l=v(kk,e);return r.createElement(l,o({},u,{className:a}),Hn(t)?i:t)}kk.handledProps=["as","children","className","content"],kk.propTypes={};const _k=kk;function Ck(e){var t=e.attached,n=e.basic,i=e.children,a=e.circular,u=e.className,l=e.clearing,f=e.color,m=e.compact,g=e.content,b=e.disabled,w=e.floated,E=e.inverted,S=e.loading,T=e.placeholder,I=e.padded,x=e.piled,k=e.raised,_=e.secondary,C=e.size,A=e.stacked,N=e.tertiary,D=e.textAlign,O=e.vertical,R=s("ui",f,C,c(n,"basic"),c(a,"circular"),c(l,"clearing"),c(m,"compact"),c(b,"disabled"),c(E,"inverted"),c(S,"loading"),c(T,"placeholder"),c(x,"piled"),c(k,"raised"),c(_,"secondary"),c(A,"stacked"),c(N,"tertiary"),c(O,"vertical"),d(t,"attached"),d(I,"padded"),p(D),h(w,"floated"),"segment",u),P=y(Ck,e),j=v(Ck,e);return r.createElement(j,o({},P,{className:R}),Hn(i)?g:i)}Ck.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],Ck.Group=xk,Ck.Inline=_k,Ck.propTypes={};const Ak=Ck;function Nk(e){var t=e.active,n=e.children,i=e.className,a=e.content,u=e.loading,l=s(c(t,"active"),c(u,"loading"),"tab",i),h=y(Nk,e),d=v(Nk,e),f={};return d===Ak&&(f.attached="bottom"),r.createElement(d,o({},f,h,{className:l}),Hn(n)?a:n)}Nk.handledProps=["active","as","children","className","content","loading"],Nk.defaultProps={as:Ak,active:!0},Nk.propTypes={},Nk.create=Mr(Nk,(function(e){return{content:e}}));const Dk=Nk;var Ok=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemClick=function(e,n){var r=n.index;hr(t.props,"onTabChange",e,o({},t.props,{activeIndex:r})),t.setState({activeIndex:r})},t}Qn(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{activeIndex:0}},n.renderItems=function(){var e=this.props,t=e.panes,n=e.renderActiveOnly,r=this.state.activeIndex;return n?hr(_n(t,"["+r+"]"),"render",this.props):Yn(t,(function(e,t){var n=e.pane;return Dk.create(n,{overrideProps:{active:t===r}})}))},n.renderMenu=function(){var e=this.props,t=e.menu,n=e.panes,r=e.menuPosition,i=this.state.activeIndex;return!0===t.tabular&&"right"===r&&(t.tabular="right"),Ji.create(t,{autoGenerateKey:!1,overrideProps:{items:Yn(n,"menuItem"),onItemClick:this.handleItemClick,activeIndex:i}})},n.renderVertical=function(e){var t=this.props,n=t.grid,i=t.menuPosition,o=n.paneWidth,a=n.tabWidth,s=ca(n,["paneWidth","tabWidth"]),u=i||"right"===e.props.tabular&&"right"||"left";return r.createElement(cl,s,"left"===u&&al.create({width:a,children:e},{autoGenerateKey:!1}),al.create({width:o,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),"right"===u&&al.create({width:a,children:e},{autoGenerateKey:!1}))},n.render=function(){var e=this.renderMenu(),n=y(t,this.props),i=v(t,this.props);return e.props.vertical?r.createElement(i,n,this.renderVertical(e)):r.createElement(i,n,"bottom"!==e.props.attached&&e,this.renderItems(),"bottom"===e.props.attached&&e)},t}(fr);Ok.handledProps=["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"],Ok.propTypes={},Ok.autoControlledProps=["activeIndex"],Ok.defaultProps={grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0},Ok.Pane=Dk;const Rk=Ok;function Pk(e){let{rows:t,setStatRows:n,handleAdd:i,handleEdit:o,allStockAmt:a,handleRowClick:s}=e;const[u,l]=(0,r.useState)("stockId"),[c,h]=(0,r.useState)("ascending"),d=e=>{if(l(e),u==e)h("ascending"==c?"descending":"ascending"),n(t.slice().reverse());else{h("ascending");const r=t.slice().sort(((t,n)=>t[e]>n[e]?1:-1));n(r)}};return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(rk,{sortable:!0,striped:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.HeaderCell,{sorted:"stockId"==u?c:null,width:2,onClick:()=>d("stockId"),children:"\u80a1\u7968\u4ee3\u865f"}),(0,rl.jsx)(rk.HeaderCell,{children:"\u80a1\u7968\u540d\u7a31"}),(0,rl.jsxs)(rk.HeaderCell,{sorted:"totalPrice"==u?c:null,onClick:()=>d("totalPrice"),width:1,children:["\u5e02\u503c",(0,rl.jsx)("br",{}),Math.round(a.price)]}),(0,rl.jsxs)(rk.HeaderCell,{sorted:"totalCost"==u?c:null,onClick:()=>d("totalCost"),children:["\u6210\u672c",(0,rl.jsx)("br",{}),Math.round(a.cost)]}),(0,rl.jsxs)(rk.HeaderCell,{sorted:"bonus"==u?c:null,onClick:()=>d("bonus"),children:["\u640d\u76ca",(0,rl.jsx)("br",{}),Math.round(a.bonus)]}),(0,rl.jsxs)(rk.HeaderCell,{sorted:"bonusPercent"==u?c:null,width:2,onClick:()=>d("bonusPercent"),children:[Math.round(1e4*a.bonusPercent)/100," %"]}),(0,rl.jsx)(rk.HeaderCell,{sorted:"qtys"==u?c:null,width:2,onClick:()=>d("qtys"),children:"\u80a1\u6578"}),(0,rl.jsx)(rk.HeaderCell,{width:1,children:"\u5e73\u5747\u6210\u672c"}),(0,rl.jsx)(rk.HeaderCell,{width:1,children:"\u73fe\u50f9"}),(0,rl.jsx)(rk.HeaderCell,{width:4,children:(0,rl.jsx)(Al,{primary:!0,onClick:i,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.Cell,{onClick:()=>s(e),children:e.stockId}),(0,rl.jsx)(rk.Cell,{onClick:()=>s(e),children:e.name}),(0,rl.jsx)(rk.Cell,{children:Math.round(e.totalPrice)}),(0,rl.jsx)(rk.Cell,{children:Math.round(e.totalCost)}),(0,rl.jsxs)(rk.Cell,{style:{color:e.bonusColor},children:[e.bonus>0&&"+",Math.round(e.bonus)]}),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsxs)(ns,{basic:!0,size:"large",color:e.bonusColor,children:[Math.round(1e4*e.bonusPercent)/100," %"]})}),(0,rl.jsxs)(rk.Cell,{children:[e.qtys," \u80a1"]}),(0,rl.jsx)(rk.Cell,{children:Math.round(100*e.avgCost)/100}),(0,rl.jsx)(rk.Cell,{children:e.price}),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>o(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}function jk(e){let{open:t,setOpen:n,handleChange:r,row:i,handleSave:o,handleDelete:a}=e;return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(Ek,{onClose:()=>n(!1),onOpen:()=>n(!0),open:t,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u7de8\u8f2f"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsxs)(oc,{children:[(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u7968\u4ee3\u865f"}),(0,rl.jsx)("input",{type:"text",name:"stockId",value:i.stockId,onChange:r})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u7968\u540d\u7a31"}),(0,rl.jsx)("input",{type:"text",name:"name",value:i.name,onChange:r})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u7e3d\u91d1\u984d"}),(0,rl.jsx)("input",{name:"amt",type:"number",value:i.amt,onChange:r})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u6578"}),(0,rl.jsx)("input",{name:"qyts",type:"number",value:i.qtys,onChange:r})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u73fe\u50f9"}),(0,rl.jsx)("input",{type:"number",name:"price",value:i.price,onChange:r})]})]})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:o,children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:a,children:"\u522a\u9664"})]})]})})}function Lk(e,t){return function(){return e.apply(t,arguments)}}const{toString:Mk}=Object.prototype,{getPrototypeOf:Fk}=Object,Vk=(Uk=Object.create(null),e=>{const t=Mk.call(e);return Uk[t]||(Uk[t]=t.slice(8,-1).toLowerCase())});var Uk;const Bk=e=>(e=e.toLowerCase(),t=>Vk(t)===e),qk=e=>t=>typeof t===e,{isArray:zk}=Array,Hk=qk("undefined");const Kk=Bk("ArrayBuffer");const Gk=qk("string"),$k=qk("function"),Qk=qk("number"),Wk=e=>null!==e&&"object"===typeof e,Yk=e=>{if("object"!==Vk(e))return!1;const t=Fk(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xk=Bk("Date"),Jk=Bk("File"),Zk=Bk("Blob"),e_=Bk("FileList"),t_=Bk("URLSearchParams"),[n_,r_,i_,o_]=["ReadableStream","Request","Response","Headers"].map(Bk);function a_(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),zk(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function s_(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const u_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,l_=e=>!Hk(e)&&e!==u_;const c_=(h_="undefined"!==typeof Uint8Array&&Fk(Uint8Array),e=>h_&&e instanceof h_);var h_;const d_=Bk("HTMLFormElement"),f_=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),p_=Bk("RegExp"),m_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};a_(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},g_="abcdefghijklmnopqrstuvwxyz",y_="0123456789",v_={DIGIT:y_,ALPHA:g_,ALPHA_DIGIT:g_+g_.toUpperCase()+y_};const b_=Bk("AsyncFunction"),w_=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],u_.addEventListener("message",(e=>{let{source:t,data:i}=e;t===u_&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),u_.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,$k(u_.postMessage)),E_="undefined"!==typeof queueMicrotask?queueMicrotask.bind(u_):"undefined"!==typeof process&&process.nextTick||w_,S_={isArray:zk,isArrayBuffer:Kk,isBuffer:function(e){return null!==e&&!Hk(e)&&null!==e.constructor&&!Hk(e.constructor)&&$k(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||$k(e.append)&&("formdata"===(t=Vk(e))||"object"===t&&$k(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Kk(e.buffer),t},isString:Gk,isNumber:Qk,isBoolean:e=>!0===e||!1===e,isObject:Wk,isPlainObject:Yk,isReadableStream:n_,isRequest:r_,isResponse:i_,isHeaders:o_,isUndefined:Hk,isDate:Xk,isFile:Jk,isBlob:Zk,isRegExp:p_,isFunction:$k,isStream:e=>Wk(e)&&$k(e.pipe),isURLSearchParams:t_,isTypedArray:c_,isFileList:e_,forEach:a_,merge:function e(){const{caseless:t}=l_(this)&&this||{},n={},r=(r,i)=>{const o=t&&s_(n,i)||i;Yk(n[o])&&Yk(r)?n[o]=e(n[o],r):Yk(r)?n[o]=e({},r):zk(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&a_(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a_(t,((t,r)=>{n&&$k(t)?e[r]=Lk(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Fk(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Vk,kindOfTest:Bk,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(zk(e))return e;let t=e.length;if(!Qk(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:d_,hasOwnProperty:f_,hasOwnProp:f_,reduceDescriptors:m_,freezeMethods:e=>{m_(e,((t,n)=>{if($k(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];$k(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return zk(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:s_,global:u_,isContextDefined:l_,ALPHABET:v_,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v_.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&$k(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Wk(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=zk(e)?[]:{};return a_(e,((e,t)=>{const o=n(e,r+1);!Hk(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:b_,isThenable:e=>e&&(Wk(e)||$k(e))&&$k(e.then)&&$k(e.catch),setImmediate:w_,asap:E_};function T_(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}S_.inherits(T_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S_.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const I_=T_.prototype,x_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{x_[e]={value:e}})),Object.defineProperties(T_,x_),Object.defineProperty(I_,"isAxiosError",{value:!0}),T_.from=(e,t,n,r,i,o)=>{const a=Object.create(I_);return S_.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),T_.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const k_=T_;function __(e){return S_.isPlainObject(e)||S_.isArray(e)}function C_(e){return S_.endsWith(e,"[]")?e.slice(0,-2):e}function A_(e,t,n){return e?e.concat(t).map((function(e,t){return e=C_(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const N_=S_.toFlatObject(S_,{},null,(function(e){return/^is[A-Z]/.test(e)}));const D_=function(e,t,n){if(!S_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=S_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!S_.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&S_.isSpecCompliantForm(t);if(!S_.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(S_.isDate(e))return e.toISOString();if(!s&&S_.isBlob(e))throw new k_("Blob is not supported. Use a Buffer instead.");return S_.isArrayBuffer(e)||S_.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(S_.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(S_.isArray(e)&&function(e){return S_.isArray(e)&&!e.some(__)}(e)||(S_.isFileList(e)||S_.endsWith(n,"[]"))&&(s=S_.toArray(e)))return n=C_(n),s.forEach((function(e,r){!S_.isUndefined(e)&&null!==e&&t.append(!0===a?A_([n],r,o):null===a?n:n+"[]",u(e))})),!1;return!!__(e)||(t.append(A_(i,n,o),u(e)),!1)}const c=[],h=Object.assign(N_,{defaultVisitor:l,convertValue:u,isVisitable:__});if(!S_.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!S_.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),S_.forEach(n,(function(n,o){!0===(!(S_.isUndefined(n)||null===n)&&i.call(t,n,S_.isString(o)?o.trim():o,r,h))&&e(n,r?r.concat(o):[o])})),c.pop()}}(e),t};function O_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function R_(e,t){this._pairs=[],e&&D_(e,this,t)}const P_=R_.prototype;P_.append=function(e,t){this._pairs.push([e,t])},P_.toString=function(e){const t=e?function(t){return e.call(this,t,O_)}:O_;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const j_=R_;function L_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function M_(e,t,n){if(!t)return e;const r=n&&n.encode||L_,i=n&&n.serialize;let o;if(o=i?i(t,n):S_.isURLSearchParams(t)?t.toString():new j_(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const F_=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){S_.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},V_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U_={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:j_,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},B_="undefined"!==typeof window&&"undefined"!==typeof document,q_=(z_="undefined"!==typeof navigator&&navigator.product,B_&&["ReactNative","NativeScript","NS"].indexOf(z_)<0);var z_;const H_="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,K_=B_&&window.location.href||"http://localhost",G_={...e,...U_};const $_=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&S_.isArray(r)?r.length:o,s)return S_.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&S_.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&S_.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(S_.isFormData(e)&&S_.isFunction(e.entries)){const n={};return S_.forEachEntry(e,((e,r)=>{t(function(e){return S_.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Q_={transitional:V_,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=S_.isObject(e);i&&S_.isHTMLForm(e)&&(e=new FormData(e));if(S_.isFormData(e))return r?JSON.stringify($_(e)):e;if(S_.isArrayBuffer(e)||S_.isBuffer(e)||S_.isStream(e)||S_.isFile(e)||S_.isBlob(e)||S_.isReadableStream(e))return e;if(S_.isArrayBufferView(e))return e.buffer;if(S_.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return D_(e,new G_.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return G_.isNode&&S_.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=S_.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return D_(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(S_.isString(e))try{return(t||JSON.parse)(e),S_.trim(e)}catch(Fx){if("SyntaxError"!==Fx.name)throw Fx}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Q_.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(S_.isResponse(e)||S_.isReadableStream(e))return e;if(e&&S_.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Fx){if(n){if("SyntaxError"===Fx.name)throw k_.from(Fx,k_.ERR_BAD_RESPONSE,this,null,this.response);throw Fx}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:G_.classes.FormData,Blob:G_.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S_.forEach(["delete","get","head","post","put","patch"],(e=>{Q_.headers[e]={}}));const W_=Q_,Y_=S_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X_=Symbol("internals");function J_(e){return e&&String(e).trim().toLowerCase()}function Z_(e){return!1===e||null==e?e:S_.isArray(e)?e.map(Z_):String(e)}function eC(e,t,n,r,i){return S_.isFunction(r)?r.call(this,t,n):(i&&(t=n),S_.isString(t)?S_.isString(r)?-1!==t.indexOf(r):S_.isRegExp(r)?r.test(t):void 0:void 0)}class tC{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=J_(t);if(!i)throw new Error("header name must be a non-empty string");const o=S_.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Z_(e))}const o=(e,t)=>S_.forEach(e,((e,n)=>i(e,n,t)));if(S_.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(S_.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Y_[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(S_.isHeaders(e))for(const[a,s]of e.entries())i(s,a,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=J_(e)){const n=S_.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(S_.isFunction(t))return t.call(this,e,n);if(S_.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=J_(e)){const n=S_.findKey(this,e);return!(!n||void 0===this[n]||t&&!eC(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=J_(e)){const i=S_.findKey(n,e);!i||t&&!eC(0,n[i],i,t)||(delete n[i],r=!0)}}return S_.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!eC(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return S_.forEach(this,((r,i)=>{const o=S_.findKey(n,i);if(o)return t[o]=Z_(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Z_(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return S_.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&S_.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[X_]=this[X_]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=J_(e);t[r]||(!function(e,t){const n=S_.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return S_.isArray(e)?e.forEach(r):r(e),this}}tC.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),S_.reduceDescriptors(tC.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),S_.freezeMethods(tC);const nC=tC;function rC(e,t){const n=this||W_,r=t||n,i=nC.from(r.headers);let o=r.data;return S_.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function iC(e){return!(!e||!e.__CANCEL__)}function oC(e,t,n){k_.call(this,null==e?"canceled":e,k_.ERR_CANCELED,t,n),this.name="CanceledError"}S_.inherits(oC,k_,{__CANCEL__:!0});const aC=oC;function sC(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new k_("Request failed with status code "+n.status,[k_.ERR_BAD_REQUEST,k_.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const uC=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const u=Date.now(),l=r[a];i||(i=u),n[o]=s,r[o]=u;let c=a,h=0;for(;c!==o;)h+=n[c++],c%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),u-i<t)return;const d=l&&u-l;return d?Math.round(1e3*h/d):void 0}};const lC=function(e,t){let n,r,i=0,o=1e3/t;const a=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];t>=o?a(u,e):(n=u,r||(r=setTimeout((()=>{r=null,a(n)}),o-t)))},()=>n&&a(n)]},cC=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=uC(50,250);return lC((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,u=i(s);r=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},hC=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},dC=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S_.asap((()=>e(...n)))},fC=G_.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=S_.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},pC=G_.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];S_.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),S_.isString(r)&&a.push("path="+r),S_.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function mC(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const gC=e=>e instanceof nC?{...e}:e;function yC(e,t){t=t||{};const n={};function r(e,t,n){return S_.isPlainObject(e)&&S_.isPlainObject(t)?S_.merge.call({caseless:n},e,t):S_.isPlainObject(t)?S_.merge({},t):S_.isArray(t)?t.slice():t}function i(e,t,n){return S_.isUndefined(t)?S_.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!S_.isUndefined(t))return r(void 0,t)}function a(e,t){return S_.isUndefined(t)?S_.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(gC(e),gC(t),!0)};return S_.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=u[r]||i,a=o(e[r],t[r],r);S_.isUndefined(a)&&o!==s||(n[r]=a)})),n}const vC=e=>{const t=yC({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:u}=t;if(t.headers=s=nC.from(s),t.url=M_(mC(t.baseURL,t.url),e.params,e.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),S_.isFormData(r))if(G_.hasStandardBrowserEnv||G_.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(G_.hasStandardBrowserEnv&&(i&&S_.isFunction(i)&&(i=i(t)),i||!1!==i&&fC(t.url))){const e=o&&a&&pC.read(a);e&&s.set(o,e)}return t},bC="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=vC(e);let i=r.data;const o=nC.from(r.headers).normalize();let a,s,u,l,c,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=r;function p(){l&&l(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=nC.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());sC((function(e){t(e),p()}),(function(e){n(e),p()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new k_("Request aborted",k_.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new k_("Network Error",k_.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||V_;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new k_(t,i.clarifyTimeoutError?k_.ETIMEDOUT:k_.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&S_.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),S_.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&"json"!==h&&(m.responseType=r.responseType),f&&([u,c]=cC(f,!0),m.addEventListener("progress",u)),d&&m.upload&&([s,l]=cC(d),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new aC(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===G_.protocols.indexOf(y)?n(new k_("Unsupported protocol "+y+":",k_.ERR_BAD_REQUEST,e)):m.send(i||null)}))},wC=(e,t)=>{let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof k_?t:new aC(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new k_(`timeout ${t} of ms exceeded`,k_.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=a,[s,()=>{o&&clearTimeout(o),o=null}]},EC=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},SC=(e,t,n,r,i)=>{const o=async function*(e,t,n){for await(const r of e)yield*EC(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,i);let a,s=0,u=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return u(),void e.close();let i=r.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw u(t),t}},cancel:e=>(u(e),o.return())},{highWaterMark:2})},TC="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,IC=TC&&"function"===typeof ReadableStream,xC=TC&&("function"===typeof TextEncoder?(kC=new TextEncoder,e=>kC.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var kC;const _C=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Fx){return!1}},CC=IC&&_C((()=>{let e=!1;const t=new Request(G_.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),AC=IC&&_C((()=>S_.isReadableStream(new Response("").body))),NC={stream:AC&&(e=>e.body)};var DC;TC&&(DC=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!NC[e]&&(NC[e]=S_.isFunction(DC[e])?t=>t[e]():(t,n)=>{throw new k_(`Response type '${e}' is not supported`,k_.ERR_NOT_SUPPORT,n)})})));const OC=async(e,t)=>{const n=S_.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:S_.isBlob(e)?e.size:S_.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:S_.isArrayBufferView(e)||S_.isArrayBuffer(e)?e.byteLength:(S_.isURLSearchParams(e)&&(e+=""),S_.isString(e)?(await xC(e)).byteLength:void 0))(t):n},RC=TC&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:u,responseType:l,headers:c,withCredentials:h="same-origin",fetchOptions:d}=vC(e);l=l?(l+"").toLowerCase():"text";let f,p,[m,g]=i||o||a?wC([i,o],a):[];const y=()=>{!f&&setTimeout((()=>{m&&m.unsubscribe()})),f=!0};let v;try{if(u&&CC&&"get"!==n&&"head"!==n&&0!==(v=await OC(c,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(S_.isFormData(r)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body){const[e,t]=hC(v,cC(dC(u)));r=SC(n.body,65536,e,t,xC)}}S_.isString(h)||(h=h?"include":"omit"),p=new Request(t,{...d,signal:m,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:h});let i=await fetch(p);const o=AC&&("stream"===l||"response"===l);if(AC&&(s||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=S_.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&hC(t,cC(dC(s),!0))||[];i=new Response(SC(i.body,65536,n,(()=>{r&&r(),o&&y()}),xC),e)}l=l||"text";let a=await NC[S_.findKey(NC,l)||"text"](i,e);return!o&&y(),g&&g(),await new Promise(((t,n)=>{sC(t,n,{data:a,headers:nC.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(b){if(y(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new k_("Network Error",k_.ERR_NETWORK,e,p),{cause:b.cause||b});throw k_.from(b,b&&b.code,e,p)}}),PC={http:null,xhr:bC,fetch:RC};S_.forEach(PC,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Fx){}Object.defineProperty(e,"adapterName",{value:t})}}));const jC=e=>`- ${e}`,LC=e=>S_.isFunction(e)||null===e||!1===e,MC=e=>{e=S_.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!LC(n)&&(r=PC[(t=String(n)).toLowerCase()],void 0===r))throw new k_(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(jC).join("\n"):" "+jC(e[0]):"as no adapter specified";throw new k_("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function FC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new aC(null,e)}function VC(e){FC(e),e.headers=nC.from(e.headers),e.data=rC.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return MC(e.adapter||W_.adapter)(e).then((function(t){return FC(e),t.data=rC.call(e,e.transformResponse,t),t.headers=nC.from(t.headers),t}),(function(t){return iC(t)||(FC(e),t&&t.response&&(t.response.data=rC.call(e,e.transformResponse,t.response),t.response.headers=nC.from(t.response.headers))),Promise.reject(t)}))}const UC="1.7.4",BC={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{BC[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const qC={};BC.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new k_(r(i," has been removed"+(t?" in "+t:"")),k_.ERR_DEPRECATED);return t&&!qC[i]&&(qC[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const zC={assertOptions:function(e,t,n){if("object"!==typeof e)throw new k_("options must be an object",k_.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new k_("option "+o+" must be "+n,k_.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new k_("Unknown option "+o,k_.ERR_BAD_OPTION)}},validators:BC},HC=zC.validators;class KC{constructor(e){this.defaults=e,this.interceptors={request:new F_,response:new F_}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Fx){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=yC(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&zC.assertOptions(n,{silentJSONParsing:HC.transitional(HC.boolean),forcedJSONParsing:HC.transitional(HC.boolean),clarifyTimeoutError:HC.transitional(HC.boolean)},!1),null!=r&&(S_.isFunction(r)?t.paramsSerializer={serialize:r}:zC.assertOptions(r,{encode:HC.function,serialize:HC.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&S_.merge(i.common,i[t.method]);i&&S_.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=nC.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const u=[];let l;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let c,h=0;if(!s){const e=[VC.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,u),c=e.length,l=Promise.resolve(t);h<c;)l=l.then(e[h++],e[h++]);return l}c=a.length;let d=t;for(h=0;h<c;){const e=a[h++],t=a[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{l=VC.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,c=u.length;h<c;)l=l.then(u[h++],u[h++]);return l}getUri(e){return M_(mC((e=yC(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}S_.forEach(["delete","get","head","options"],(function(e){KC.prototype[e]=function(t,n){return this.request(yC(n||{},{method:e,url:t,data:(n||{}).data}))}})),S_.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(yC(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}KC.prototype[e]=t(),KC.prototype[e+"Form"]=t(!0)}));const GC=KC;class $C{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new aC(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new $C((function(t){e=t})),cancel:e}}}const QC=$C;const WC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(WC).forEach((e=>{let[t,n]=e;WC[n]=t}));const YC=WC;const XC=function e(t){const n=new GC(t),r=Lk(GC.prototype.request,n);return S_.extend(r,GC.prototype,n,{allOwnKeys:!0}),S_.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(yC(t,n))},r}(W_);XC.Axios=GC,XC.CanceledError=aC,XC.CancelToken=QC,XC.isCancel=iC,XC.VERSION=UC,XC.toFormData=D_,XC.AxiosError=k_,XC.Cancel=XC.CanceledError,XC.all=function(e){return Promise.all(e)},XC.spread=function(e){return function(t){return e.apply(null,t)}},XC.isAxiosError=function(e){return S_.isObject(e)&&!0===e.isAxiosError},XC.mergeConfig=yC,XC.AxiosHeaders=nC,XC.formToJSON=e=>$_(S_.isHTMLForm(e)?new FormData(e):e),XC.getAdapter=MC,XC.HttpStatusCode=YC,XC.default=XC;const JC=XC;function ZC(){const[e,t]=(0,r.useState)(!1),n=(()=>{const e=new Date;let t=e.getMonth()+1;return t<10&&(t="0"+t),e.getFullYear().toString()+t+"01"})(),i=(e,t)=>{const r=`https://www.twse.com.tw/rwd/zh/afterTrading/STOCK_DAY?date=${n}&stockNo=${t}&response=json`;JC.get(r).then((t=>{const r=t.data.data.length,i=t.data.data[r-1][6];console.log(n),Bx.collection("stockStat").doc(e).update({price:i})}))};return(0,rl.jsx)("div",{children:(0,rl.jsx)(Al,{loading:e,onClick:()=>{t(!0),Bx.collection("stockStat").get().then((e=>{e.docs.map((e=>{i(e.id,e.data().stockId)})),t(!1)}))},children:"\u66f4\u65b0\u80a1\u50f9"})})}function eA(){const[e,t]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{const e=(await Bx.collection("stockStat").get()).docs.map((e=>({...e.data(),id:e.id})));e.sort(((e,t)=>e.stockId>t.stockId?1:-1)),t(e)})()}),[]),(0,rl.jsx)("div",{children:(0,rl.jsxs)(rk,{sortable:!0,striped:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.HeaderCell,{width:4,children:"\u540d\u7a31"}),(0,rl.jsx)(rk.HeaderCell,{width:4,children:"\u6210\u672c\u91d1\u984d"}),(0,rl.jsx)(rk.HeaderCell,{width:4,children:"\u80a1\u6578"}),(0,rl.jsx)(rk.HeaderCell,{width:4,children:"\u5e73\u5747\u50f9\u683c"})]})}),(0,rl.jsx)(rk.Body,{children:null===e||void 0===e?void 0:e.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.Cell,{children:e.name}),(0,rl.jsx)(rk.Cell,{children:e.amt}),(0,rl.jsx)(rk.Cell,{children:e.qtys}),(0,rl.jsx)(rk.Cell,{children:Math.round(e.amt/e.qtys*100)/100})]},e.id)))})]})})}function tA(e){let{statRows:t,setStatRows:n,handleRowClick:i,transactionRows:o}=e;(0,r.useEffect)((()=>{let e=s();n(e)}),[o]);const a="stockStat",s=()=>{let e=t.slice(),n=0,r=0,i=0;return t.map(((t,a)=>{let s=0,u=0,l=0,c=o.filter((e=>e.name==t.name));if(0==c.length)return void(e[a]={...t,totalCost:"",bouns:"",avgCost:"",qtys:""});c.map((e=>{s+=Number(e.cost)*Number(e.qty),u+=Number(e.qty),l+=Number(e.qty)*Number(t.price)}));const h=s/u,d=(t.price-h)*u;n+=s,r+=d,i+=l,e[a]={...t,totalCost:s,totalPrice:l,qtys:u,avgCost:h,bonus:d,bonusColor:d>0?"red":"green",bonusPercent:d/s}})),v({cost:n,bonus:r,price:i,bonusPercent:r/n}),e},u={name:"",price:"",qtys:"",totalCost:"",avgCost:"",bouns:""},[l,c]=(0,r.useState)([]),[h,d]=(0,r.useState)(u),[f,p]=(0,r.useState)(u),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)({totalCost:0,totalBouns:0});return(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsx)(ZC,{}),(0,rl.jsx)(eA,{rows:t}),(0,rl.jsx)(Pk,{rows:t,setStatRows:n,handleEdit:(e,t)=>{d(e),p(t),g(!0)},handleAdd:()=>{g(!0),p(-1),d(u)},allStockAmt:y,handleRowClick:i}),(0,rl.jsx)(jk,{open:m,setOpen:g,row:h,handleSave:()=>{-1==f?Bx.collection(a).add(h).then((e=>{n([...t,{...h,id:e.id}])})):Bx.collection(a).doc(h.id).update(h).then((()=>{const e=t.slice();var r;Object.assign(e[f],h),n(e),p(-1),(r=h.name,o.filter((e=>e.name==r))).length>0&&n(s())})),g(!1),d(u)},handleDelete:()=>{Bx.collection(a).doc(h.id).delete().then((()=>{n(t.filter((e=>e.id!=h.id))),g(!1)}))},handleChange:e=>{d({...h,[e.target.name]:e.target.value})}})]})}function nA(e){let{rows:t,handleAdd:n,handleEdit:r,handleShowAll:i,open:o,setOpen:a}=e;return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u65e5\u671f"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u80a1\u7968\u540d\u7a31"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u80a1\u6578"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u8cfc\u5165\u55ae\u50f9"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u5c0f\u8a08"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:(0,rl.jsx)(Al,{primary:!0,onClick:n,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:t.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.Cell,{children:e.date}),(0,rl.jsx)(rk.Cell,{children:e.name}),(0,rl.jsxs)(rk.Cell,{children:[e.qty,"\u80a1"]}),(0,rl.jsx)(rk.Cell,{children:e.cost}),(0,rl.jsx)(rk.Cell,{children:Math.round(e.qty*e.cost)}),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>r(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}function rA(e){let{isSold:t,handleItemClick:n}=e;return(0,rl.jsx)("div",{children:(0,rl.jsxs)(Ji,{fluid:!0,widths:2,pointing:!0,secondary:!0,children:[(0,rl.jsx)(Ji.Item,{color:"teal",name:"income",active:!t,onClick:n,children:"\u8cb7\u9032"}),(0,rl.jsx)(Ji.Item,{color:"orange",name:"expense",active:t,onClick:n,children:"\u8ce3\u51fa"})]})})}function iA(e){let{open:t,setOpen:n,handleChange:r,handleStockNameChange:i,row:o,handleSave:a,handleDelete:s,statRows:u,rowIndex:l,isSold:c,setIsSold:h,handleSold:d}=e;const f=u.map((e=>({key:e.name,text:e.name,value:e.name})));return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(Ek,{onClose:()=>n(!1),onOpen:()=>n(!0),open:t,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u4ea4\u6613\u8a18\u9304"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsxs)(oc,{children:[(0,rl.jsx)(oc.Field,{children:(0,rl.jsx)(rA,{handleItemClick:()=>{h(!c)},isSold:c,setIsSold:h})}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u65e5\u671f"}),(0,rl.jsx)("input",{type:"date",name:"date",value:o.date,onChange:r})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u7968\u540d\u7a31"}),(0,rl.jsx)(oc.Select,{selection:!0,placeholder:"\u540d\u7a31",fluid:!0,options:f,value:o.name,onChange:i})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u6578"}),(0,rl.jsx)("input",{type:"number",name:"qty",value:o.qty,onChange:r})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u55ae\u50f9"}),(0,rl.jsx)("input",{type:"number",name:"cost",value:o.cost,onChange:r})]})]})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{floated:"left",primary:!0,onClick:a,children:"\u5132\u5b58"}),-1!==l&&(0,rl.jsx)(Al,{color:"red",onClick:s,children:"\u522a\u9664"})]})]})})}function oA(e){let{transactionRows:t,transactionRowsCopy:n,setTransactionRows:i,setTransactionRowsCopy:o,statRows:a,handleShowAll:s,tableOpen:u,setTableOpen:l}=e;const c={date:(new Date).toISOString().substring(0,10),name:"",cost:"",qty:""},[h,d]=(0,r.useState)(c),[f,p]=(0,r.useState)(c),[m,g]=(0,r.useState)(!1),y="stockTransaction",[v,b]=(0,r.useState)(!1);return(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsx)(nA,{handleShowAll:s,rows:t,handleEdit:(e,t)=>{d(e),p(t),g(!0)},handleAdd:()=>{g(!0),p(-1),d(c)},open:u,setOpen:l}),(0,rl.jsx)(iA,{isSold:v,setIsSold:b,statRows:a,open:m,setOpen:g,row:h,handleSold:e=>{d({...h,qty:-1*e}),console.log("sold")},rowIndex:f,handleSave:()=>{if(-1==f){console.log(v);const e=h;v&&(e.qty=-1*e.qty),Bx.collection(y).add(e).then((r=>{Bx.collection("stockStat").where("name","==",e.name).get().then((e=>{console.log(e.docs[0].id)})),i([{...e,id:r.id},...t]),o([{...e,id:r.id},...n])}))}else Bx.collection(y).doc(h.id).update(h).then((()=>{const e=t.slice();Object.assign(e[f],h),i(e),p(-1)}));g(!1),d(c)},handleDelete:()=>{Bx.collection(y).doc(h.id).delete().then((()=>{i(t.filter((e=>e.id!=h.id))),o(n.filter((e=>e.id!=h.id))),g(!1)}))},handleChange:e=>{const t=e.target.name;let n=e.target.value;d({...h,[t]:n})},handleStockNameChange:(e,t)=>{let{value:n}=t;console.log(n),d({...h,name:n})}})]})}function aA(e){let{rows:t}=e;const[n,i]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(()=>{var e=[];t.reduce((function(t,n){return t[n.date]||(t[n.date]={date:n.date,amt:0},e.push(t[n.date])),t[n.date].amt+=Math.round(n.cost*n.qty),t}),{}),i(e)})()}),[]),(0,rl.jsx)("div",{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u65e5\u671f"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u5c0f\u8a08"})]})}),(0,rl.jsx)(rk.Body,{children:n.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.Cell,{children:e.date}),(0,rl.jsx)(rk.Cell,{children:e.amt})]},e.date)))})]})})}function sA(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)([]),[o,a]=(0,r.useState)([]),[s,u]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1);(0,r.useEffect)((()=>{h(),d()}),[]);const h=async()=>{const e=(await Bx.collection("stockStat").get()).docs.map((e=>({...e.data(),id:e.id})));e.sort(((e,t)=>e.stockId>t.stockId?1:-1)),i(e),console.log("Lv1")},d=async()=>{t(!1);let e=(await Bx.collection("stockTransaction").get()).docs.map((e=>({...e.data(),id:e.id})));e.sort(((e,t)=>e.date<t.date?1:-1)),a(e),u(e),t(!0)},f=e=>{a(s.filter((t=>t.name==e.name))),c(!0)},p=()=>{a(s)},m=[{menuItem:"\u7d71\u8a08",render:()=>(0,rl.jsxs)(Dk,{children:[(0,rl.jsx)(tA,{statRows:n,setStatRows:i,transactionRows:o,handleRowClick:f}),(0,rl.jsxs)(Ek,{onClose:()=>{c(!1),p()},onOpen:()=>c(!0),open:l,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u4ea4\u6613\u660e\u7d30"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(oA,{handleShowAll:p,statRows:n,transactionRows:o,setTransactionRows:a,setTransactionRowsCopy:u,loading:e,setLoading:t,tableOpen:l,setTableOpen:c})})]})]})},{menuItem:"\u660e\u7d30",render:()=>(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsx)(Dk,{children:(0,rl.jsx)(oA,{handleShowAll:p,statRows:n,transactionRows:o,setTransactionRows:a,transactionRowsCopy:s,setTransactionRowsCopy:u,loading:e,setLoading:t,tableOpen:l,setTableOpen:c})})})},{menuItem:"\u91d1\u984d\u4f9d\u65e5\u671f\u7d71\u8a08",render:()=>(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsx)(Dk,{children:(0,rl.jsx)(aA,{rows:o})})})}];return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsx)(Rk,{panes:m,onTabChange:(e,t)=>{}})})}const uA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},lA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,u=s?e[i+2]:0,l=t>>2,c=(3&t)<<4|a>>4;let h=(15&a)<<2|u>>6,d=63&u;s||(d=64,o||(h=64)),r.push(n[l],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(uA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new cA;const u=t<<2|o>>4;if(r.push(u),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(e){return function(e){const t=uA(e);return lA.encodeByteArray(t,!0)}(e).replace(/\./g,"")},dA=function(e){try{return lA.decodeString(e,!0)}catch(Fx){console.error("base64Decode failed: ",Fx)}return null};function fA(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const pA=()=>{try{return fA().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/react-firebase/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Fx){return}const t=e&&dA(e[1]);return t&&JSON.parse(t)})()}catch(Fx){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Fx}`)}},mA=e=>{const t=(e=>{var t,n;return null===(n=null===(t=pA())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},gA=()=>{var e;return null===(e=pA())||void 0===e?void 0:e.config};class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function vA(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bA(){return!function(){var e;const t=null===(e=pA())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Fx){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wA(){try{return"object"===typeof indexedDB}catch(Fx){return!1}}class EA extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,EA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,SA.prototype.create)}}class SA{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(TA,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new EA(n,o,t)}}const TA=/\{\$([^}]+)}/g;function IA(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(xA(n)&&xA(o)){if(!IA(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xA(e){return null!==e&&"object"===typeof e}function kA(e){return e&&e._delegate?e._delegate:e}class _A{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const CA="[DEFAULT]";class AA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new yA;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Fx){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Fx){if(r)return null;throw Fx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:CA})}catch(Fx){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Fx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CA;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CA;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CA;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(Rc){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===CA?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(Rc){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CA;return this.component?this.component.multipleInstances?e:CA:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class NA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const DA=[];var OA;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(OA||(OA={}));const RA={debug:OA.DEBUG,verbose:OA.VERBOSE,info:OA.INFO,warn:OA.WARN,error:OA.ERROR,silent:OA.SILENT},PA=OA.INFO,jA={[OA.DEBUG]:"log",[OA.VERBOSE]:"log",[OA.INFO]:"info",[OA.WARN]:"warn",[OA.ERROR]:"error"},LA=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=jA[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class MA{constructor(e){this.name=e,this._logLevel=PA,this._logHandler=LA,this._userLogHandler=null,DA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in OA))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?RA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,OA.DEBUG,...t),this._logHandler(this,OA.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,OA.VERBOSE,...t),this._logHandler(this,OA.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,OA.INFO,...t),this._logHandler(this,OA.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,OA.WARN,...t),this._logHandler(this,OA.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,OA.ERROR,...t),this._logHandler(this,OA.ERROR,...t)}}const FA=(e,t)=>t.some((t=>e instanceof t));let VA,UA;const BA=new WeakMap,qA=new WeakMap,zA=new WeakMap,HA=new WeakMap,KA=new WeakMap;let GA={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qA.get(e);if("objectStoreNames"===t)return e.objectStoreNames||zA.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return WA(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function $A(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(UA||(UA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(YA(this),n),WA(BA.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return WA(e.apply(YA(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(YA(this),t,...r);return zA.set(o,t.sort?t.sort():[t]),WA(o)}}function QA(e){return"function"===typeof e?$A(e):(e instanceof IDBTransaction&&function(e){if(qA.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));qA.set(e,t)}(e),FA(e,VA||(VA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,GA):e)}function WA(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(WA(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&BA.set(t,e)})).catch((()=>{})),KA.set(t,e),t}(e);if(HA.has(e))return HA.get(e);const t=QA(e);return t!==e&&(HA.set(e,t),KA.set(t,e)),t}const YA=e=>KA.get(e);const XA=["get","getKey","getAll","getAllKeys","count"],JA=["put","add","delete","clear"],ZA=new Map;function eN(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ZA.get(t))return ZA.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=JA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!XA.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return ZA.set(t,o),o}GA=(e=>({...e,get:(t,n,r)=>eN(t,n)||e.get(t,n,r),has:(t,n)=>!!eN(t,n)||e.has(t,n)}))(GA);class tN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const nN="@firebase/app",rN="0.11.5",iN=new MA("@firebase/app"),oN="@firebase/app-compat",aN="@firebase/analytics-compat",sN="@firebase/analytics",uN="@firebase/app-check-compat",lN="@firebase/app-check",cN="@firebase/auth",hN="@firebase/auth-compat",dN="@firebase/database",fN="@firebase/data-connect",pN="@firebase/database-compat",mN="@firebase/functions",gN="@firebase/functions-compat",yN="@firebase/installations",vN="@firebase/installations-compat",bN="@firebase/messaging",wN="@firebase/messaging-compat",EN="@firebase/performance",SN="@firebase/performance-compat",TN="@firebase/remote-config",IN="@firebase/remote-config-compat",xN="@firebase/storage",kN="@firebase/storage-compat",_N="@firebase/firestore",CN="@firebase/vertexai",AN="@firebase/firestore-compat",NN="firebase",DN="[DEFAULT]",ON={[nN]:"fire-core",[oN]:"fire-core-compat",[sN]:"fire-analytics",[aN]:"fire-analytics-compat",[lN]:"fire-app-check",[uN]:"fire-app-check-compat",[cN]:"fire-auth",[hN]:"fire-auth-compat",[dN]:"fire-rtdb",[fN]:"fire-data-connect",[pN]:"fire-rtdb-compat",[mN]:"fire-fn",[gN]:"fire-fn-compat",[yN]:"fire-iid",[vN]:"fire-iid-compat",[bN]:"fire-fcm",[wN]:"fire-fcm-compat",[EN]:"fire-perf",[SN]:"fire-perf-compat",[TN]:"fire-rc",[IN]:"fire-rc-compat",[xN]:"fire-gcs",[kN]:"fire-gcs-compat",[_N]:"fire-fst",[AN]:"fire-fst-compat",[CN]:"fire-vertex","fire-js":"fire-js",[NN]:"fire-js-all"},RN=new Map,PN=new Map,jN=new Map;function LN(e,t){try{e.container.addComponent(t)}catch(Fx){iN.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Fx)}}function MN(e){const t=e.name;if(jN.has(t))return iN.debug(`There were multiple attempts to register component ${t}.`),!1;jN.set(t,e);for(const n of RN.values())LN(n,e);for(const n of PN.values())LN(n,e);return!0}function FN(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function VN(e){return null!==e&&void 0!==e&&void 0!==e.settings}const UN=new SA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class BN{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _A("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw UN.create("app-deleted",{appName:this._name})}}const qN="11.6.1";function zN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:DN,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw UN.create("bad-app-name",{appName:String(i)});if(n||(n=gA()),!n)throw UN.create("no-options");const o=RN.get(i);if(o){if(IA(n,o.options)&&IA(r,o.config))return o;throw UN.create("duplicate-app",{appName:i})}const a=new NA(i);for(const u of jN.values())a.addComponent(u);const s=new BN(n,r,a);return RN.set(i,s),s}function HN(e,t,n){var r;let i=null!==(r=ON[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void iN.warn(e.join(" "))}MN(new _A(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const KN="firebase-heartbeat-database",GN=1,$N="firebase-heartbeat-store";let QN=null;function WN(){return QN||(QN=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=WA(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(WA(a.result),e.oldVersion,e.newVersion,WA(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(KN,GN,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore($N)}catch(Fx){console.warn(Fx)}}}).catch((e=>{throw UN.create("idb-open",{originalErrorMessage:e.message})}))),QN}async function YN(e,t){try{const n=(await WN()).transaction($N,"readwrite"),r=n.objectStore($N);await r.put(t,XN(e)),await n.done}catch(Fx){if(Fx instanceof EA)iN.warn(Fx.message);else{const t=UN.create("idb-set",{originalErrorMessage:null===Fx||void 0===Fx?void 0:Fx.message});iN.warn(t.message)}}}function XN(e){return`${e.name}!${e.options.appId}`}class JN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eD(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ZN();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Fx){iN.warn(Fx)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ZN(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),tD(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tD(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=hA(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Fx){return iN.warn(Fx),""}}}function ZN(){return(new Date).toISOString().substring(0,10)}class eD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!wA()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await WN()).transaction($N),n=await t.objectStore($N).get(XN(e));return await t.done,n}catch(Fx){if(Fx instanceof EA)iN.warn(Fx.message);else{const t=UN.create("idb-get",{originalErrorMessage:null===Fx||void 0===Fx?void 0:Fx.message});iN.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return YN(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return YN(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function tD(e){return hA(JSON.stringify({version:2,heartbeats:e})).length}var nD;nD="",MN(new _A("platform-logger",(e=>new tN(e)),"PRIVATE")),MN(new _A("heartbeat",(e=>new JN(e)),"PRIVATE")),HN(nN,rN,nD),HN(nN,rN,"esm2017"),HN("fire-js","");var rD,iD="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},oD={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),u=o(1),l=o(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(u)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(s,s);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var l=o.add(r);0>=l.l(e)&&(i=i.add(n),o=l),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(o=a(n)).j(t);h(l)||0<l.l(e);)l=(o=a(n-=r)).j(t);c(o)&&(o=u),i=i.add(o),e=f(e,l)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(l)&&0>e.l(l))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var u=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=u*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=u*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,oD.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var u=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+u),n);8>u?(u=a(Math.pow(n,u)),i=i.j(u).add(a(l))):i=(i=i.j(r)).add(a(l))}return i},rD=oD.Integer=r}).apply("undefined"!==typeof iD?iD:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var aD,sD,uD,lD,cD,hD,dD,fD,pD="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},mD={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof pD&&pD];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function u(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function l(e,t,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:u).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T(e){i.setTimeout((()=>{throw e}),0)}function I(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var x=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,C=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=x.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);_=()=>{e.then(D)}};var D=()=>{for(var e;e=I();){try{e.h.call(e.g)}catch(n){T(n)}var t=x;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function O(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function j(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j.aa.h.call(this)}}h(j,R);var L={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=z(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new V(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),K={};function G(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):$(e,t,n,!1,r,i)}function $(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,u=Z(e);if(u||(e[H]=u=new B(e)),(n=u.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):$(e,t,n,!0,r,i)}function W(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)W(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(o=e.g[t],n,r,i))&&(U(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(q(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function X(e){return e in K?K[e]:K[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new j(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;E(t=new R(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,u=a.ha||a.src;a.fa&&q(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,O),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(e){O.call(this),this.h=e,this.g={}}h(ue,O);var le=[];function ce(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}ue.prototype.N=function(){ue.aa.N.call(this),ce(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}h(ve,R),h(be,R);var we={},Ee=null;function Se(){return Ee=Ee||new ne}function Te(e){R.call(this,we.La,e)}function Ie(e){const t=Se();re(t,new Te(t))}function xe(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function ke(e){const t=Se();re(t,new xe(t,e))}function _e(e,t){R.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(HL){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Te,R),we.STAT_EVENT="statevent",h(xe,R),we.Ma="timingevent",h(_e,R),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var De,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(Pe,pe),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},De=new Pe;var Me={},Fe={};function Ve(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),ze(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(l(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(le[0]=i.toString()),i=le);for(var o=0;o<i.length;o++){var a=G(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ie(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(l(e.ba,e),t)}function Ke(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||sn(e.j,e)}function $e(e){Ke(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(vh){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Wt(n)}nn(n),ke(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(l(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(vh){}n.ca=void 0}}else ln(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.K=l[1],n.ia=l[2];const t=l[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=l[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=l[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,u=r.L;u&&(s.I=u),s.B&&(Ke(s),ze(s)),r.g=a}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=l[0]&&"close"!=l[0]||ln(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ln(n,7):Qt(n):"noop"!=l[0]&&n.l&&n.l.ta(l),n.v=0)}Ie()}catch(vh){}}je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const d=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ie(),Ke(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Kt(this.g);e="";var o=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$e(this),Ge(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(u)){var c=u;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,ke(12),$e(this),Ge(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=qe(this,s),e==Fe){4==d&&(this.s=4,ke(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,ke(15),Ne(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Qe(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(h),h.M=!0,ke(11))}}else Ne(this.i,this.l,s,"[Invalid Chunked Response]"),$e(this),Ge(this)}else Ne(this.i,this.l,s,null),Qe(this,s);4==d&&$e(this),this.o&&!this.J&&(4==d?sn(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),$e(this),Ge(this)}}}catch(Fh){}},je.prototype.cancel=function(){this.J=!0,$e(this)},je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ie(),ke(17)),$e(this),this.s=2,Ge(this)):He(this,this.S-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,ut(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),lt(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),ut(this,t[4]),this.l=dt(t[5]||"",!0),lt(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ut(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function lt(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),It(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){Et(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Tt(e,t){return Et(e),t=xt(e,t),e.g.has(t)}function It(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(xt(e,t),d(n)),e.h+=n.length)}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function _t(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Fx){throw t.push(r+"type="+encodeURIComponent("_badmap")),Fx}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){Et(this),this.i=null,e=xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)Tt(this,e)&&(t=t.concat(this.g.get(xt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,Tt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(At,pe),At.prototype.g=function(){return new Nt(this.l,this.j)},At.prototype.i=function(e){return function(){return e}}({}),h(Nt,ne),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Rt(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Lt,ne);var Mt=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),qt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Mt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Ht(e)?e.g.statusText:""}catch(HL){s=""}e.l=s+" ["+e.Z()+"]",Ut(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){zt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Fx){}}}function zt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(hM){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $t(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),Zt(e,n),(t=new je(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}cn(e)}function Wt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Wt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||N(),C||(_(),C=!0),A.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),Zt(e,r),e.m&&e.o&&jt(r,e.m,e.o),n=new je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?l(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Ct(s,e,"req"+n+"_")}catch(Fh){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||N(),C||(_(),C=!0),A.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(l(e.Fa,e),un(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&jt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new _e(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(l(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ln(e,5);break;case 4:ln(e,10);break;case 3:ln(e,6);break;default:ln(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function ln(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),ht(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=c(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(kt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),kt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)})).catch((()=>{clearTimeout(r),kt(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),cn(e),Yt(e)}function cn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ut(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&ut(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),Zt(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new At({eb:n})):new Lt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new $t(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?me(this.o):me(De),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(pp){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pp){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=$t.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new je(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),E(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ct(n=at(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),Zt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Pt(o)))+"&"+t:this.m&&jt(n,this.m,o)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Wt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Wt(this),nn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},h(gn,ve),h(yn,be),h(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,fD=mD.createWebChannelTransport=function(){return new pn},dD=mD.getStatEventTarget=function(){return Se()},hD=mD.Event=we,cD=mD.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,lD=mD.ErrorCode=Oe,Re.COMPLETE="complete",uD=mD.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,sD=mD.WebChannel=ge,mD.FetchXmlHttpFactory=At,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,aD=mD.XhrIo=Lt}).apply("undefined"!==typeof pD?pD:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const gD="@firebase/firestore",yD="4.7.11";class vD{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vD.UNAUTHENTICATED=new vD(null),vD.GOOGLE_CREDENTIALS=new vD("google-credentials-uid"),vD.FIRST_PARTY=new vD("first-party-uid"),vD.MOCK_USER=new vD("mock-user");let bD="11.6.1";const wD=new MA("@firebase/firestore");function ED(){return wD.logLevel}function SD(e){if(wD.logLevel<=OA.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(xD);wD.debug(`Firestore (${bD}): ${e}`,...i)}}function TD(e){if(wD.logLevel<=OA.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(xD);wD.error(`Firestore (${bD}): ${e}`,...i)}}function ID(e){if(wD.logLevel<=OA.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(xD);wD.warn(`Firestore (${bD}): ${e}`,...i)}}function xD(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Ch){return e}}function kD(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,_D(e,r,n)}function _D(e,t,n){let r=`FIRESTORE (${bD}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw TD(r),new Error(r)}function CD(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||_D(t,i,r)}function AD(e,t){return e}const ND={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class DD extends EA{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class OD{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class RD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vD.UNAUTHENTICATED)))}shutdown(){}}class jD{constructor(e){this.t=e,this.currentUser=vD.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){CD(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new OD;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new OD,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{SD("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(SD("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new OD)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(SD("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(CD("string"==typeof t.accessToken,31837,{l:t}),new RD(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return CD(null===e||"string"==typeof e,2055,{h:e}),new vD(e)}}class LD{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=vD.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MD{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new LD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(vD.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class FD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,VN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){CD(void 0===this.o,3512);const n=e=>{null!=e.error&&SD("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,SD("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{SD("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):SD("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new FD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(CD("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new FD(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UD(){return new TextEncoder}function BD(e,t){return e<t?-1:e>t?1:0}function qD(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return BD(r,i);{const o=UD(),a=HD(o.encode(zD(e,n)),o.encode(zD(t,n)));return 0!==a?a:BD(r,i)}}n+=r>65535?2:1}return BD(e.length,t.length)}function zD(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function HD(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return BD(e[n],t[n]);return BD(e.length,t.length)}function KD(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const GD=-62135596800,$D=1e6;class QD{static now(){return QD.fromMillis(Date.now())}static fromDate(e){return QD.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*$D);return new QD(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new DD(ND.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new DD(ND.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GD)throw new DD(ND.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new DD(ND.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$D}_compareTo(e){return this.seconds===e.seconds?BD(this.nanoseconds,e.nanoseconds):BD(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-GD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class WD{static fromTimestamp(e){return new WD(e)}static min(){return new WD(new QD(0,0))}static max(){return new WD(new QD(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const YD="__name__";class XD{constructor(e,t,n){void 0===t?t=0:t>e.length&&kD(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&kD(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===XD.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof XD?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=XD.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return BD(e.length,t.length)}static compareSegments(e,t){const n=XD.isNumericId(e),r=XD.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?XD.extractNumericId(e).compare(XD.extractNumericId(t)):qD(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rD.fromString(e.substring(4,e.length-2))}}class JD extends XD{construct(e,t,n){return new JD(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new DD(ND.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new JD(e)}static emptyPath(){return new JD([])}}const ZD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eO extends XD{construct(e,t,n){return new eO(e,t,n)}static isValidIdentifier(e){return ZD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),eO.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===YD}static keyField(){return new eO([YD])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new DD(ND.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new DD(ND.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new DD(ND.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new DD(ND.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new eO(t)}static emptyPath(){return new eO([])}}class tO{constructor(e){this.path=e}static fromPath(e){return new tO(JD.fromString(e))}static fromName(e){return new tO(JD.fromString(e).popFirst(5))}static empty(){return new tO(JD.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===JD.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return JD.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tO(new JD(e.slice()))}}const nO=-1;class rO{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}rO.UNKNOWN_ID=-1;function iO(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=WD.fromTimestamp(1e9===r?new QD(n+1,0):new QD(n,r));return new aO(i,tO.empty(),t)}function oO(e){return new aO(e.readTime,e.key,nO)}class aO{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new aO(WD.min(),tO.empty(),nO)}static max(){return new aO(WD.max(),tO.empty(),nO)}}function sO(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=tO.comparator(e.documentKey,t.documentKey),0!==n?n:BD(e.largestBatchId,t.largestBatchId))}class uO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class lO{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&kD(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new lO(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof lO?t:lO.resolve(t)}catch(e){return lO.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):lO.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):lO.reject(t)}static resolve(e){return new lO(((t,n)=>{t(e)}))}static reject(e){return new lO(((t,n)=>{n(e)}))}static waitFor(e){return new lO(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=lO.resolve(!1);for(const n of e)t=t.next((e=>e?lO.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new lO(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const u=s;t(e[u]).next((e=>{o[u]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new lO(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function cO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hO(e){return"IndexedDbTransactionError"===e.name}class dO{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}dO.le=-1;const fO=-1;function pO(e){return null==e}function mO(e){return 0===e&&1/e==-1/0}const gO="remoteDocuments",yO="owner",vO="mutationQueues",bO="mutations";const wO="documentMutations",EO="remoteDocumentsV14",SO="remoteDocumentGlobal",TO="targets",IO="targetDocuments",xO="targetGlobal",kO="collectionParents",_O="clientMetadata",CO="bundles",AO="namedQueries",NO="indexConfiguration",DO="indexState",OO="indexEntries",RO="documentOverlays",PO="globals",jO=[vO,bO,wO,gO,TO,yO,xO,IO,_O,SO,kO,CO,AO],LO=[vO,bO,wO,EO,TO,yO,xO,IO,_O,SO,kO,CO,AO,RO],MO=LO,FO=[...MO,NO,DO,OO];function VO(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function UO(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function BO(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class qO{constructor(e,t){this.comparator=e,this.root=t||HO.EMPTY}insert(e,t){return new qO(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,HO.BLACK,null,null))}remove(e){return new qO(this.comparator,this.root.remove(e,this.comparator).copy(null,null,HO.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zO(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zO(this.root,e,this.comparator,!1)}getReverseIterator(){return new zO(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zO(this.root,e,this.comparator,!0)}}class zO{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class HO{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:HO.RED,this.left=null!=r?r:HO.EMPTY,this.right=null!=i?i:HO.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new HO(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return HO.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return HO.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,HO.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,HO.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kD(43730,{key:this.key,value:this.value});if(this.right.isRed())throw kD(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw kD(27949);return e+(this.isRed()?0:1)}}HO.EMPTY=null,HO.RED=!0,HO.BLACK=!1,HO.EMPTY=new class{constructor(){this.size=0}get key(){throw kD(57766)}get value(){throw kD(16141)}get color(){throw kD(16727)}get left(){throw kD(29726)}get right(){throw kD(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new HO(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class KO{constructor(e){this.comparator=e,this.data=new qO(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GO(this.data.getIterator())}getIteratorFrom(e){return new GO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof KO))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new KO(this.comparator);return t.data=e,t}}class GO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $O{constructor(e){this.fields=e,e.sort(eO.comparator)}static empty(){return new $O([])}unionWith(e){let t=new KO(eO.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $O(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return KD(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class QO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class WO{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new QO("Invalid base64 string: "+e):e}}(e);return new WO(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new WO(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return BD(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}WO.EMPTY_BYTE_STRING=new WO("");const YO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function XO(e){if(CD(!!e,39018),"string"==typeof e){let t=0;const n=YO.exec(e);if(CD(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:JO(e.seconds),nanos:JO(e.nanos)}}function JO(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ZO(e){return"string"==typeof e?WO.fromBase64String(e):WO.fromUint8Array(e)}const eR="server_timestamp",tR="__type__",nR="__previous_value__",rR="__local_write_time__";function iR(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[tR])||void 0===n?void 0:n.stringValue)===eR}function oR(e){const t=e.mapValue.fields[nR];return iR(t)?oR(t):t}function aR(e){const t=XO(e.mapValue.fields[rR].timestampValue);return new QD(t.seconds,t.nanos)}const sR="(default)";class uR{constructor(e,t){this.projectId=e,this.database=t||sR}static empty(){return new uR("","")}get isDefaultDatabase(){return this.database===sR}isEqual(e){return e instanceof uR&&e.projectId===this.projectId&&e.database===this.database}}const lR="__type__",cR="__max__",hR={mapValue:{fields:{__type__:{stringValue:cR}}}},dR="__vector__",fR="value";function pR(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iR(e)?4:_R(e)?9007199254740991:xR(e)?10:11:kD(28295,{value:e})}function mR(e,t){if(e===t)return!0;const n=pR(e);if(n!==pR(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return aR(e).isEqual(aR(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=XO(e.timestampValue),r=XO(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ZO(e.bytesValue).isEqual(ZO(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return JO(e.geoPointValue.latitude)===JO(t.geoPointValue.latitude)&&JO(e.geoPointValue.longitude)===JO(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return JO(e.integerValue)===JO(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=JO(e.doubleValue),r=JO(t.doubleValue);return n===r?mO(n)===mO(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return KD(e.arrayValue.values||[],t.arrayValue.values||[],mR);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(VO(n)!==VO(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mR(n[i],r[i])))return!1;return!0}(e,t);default:return kD(52216,{left:e})}}function gR(e,t){return void 0!==(e.values||[]).find((e=>mR(e,t)))}function yR(e,t){if(e===t)return 0;const n=pR(e),r=pR(t);if(n!==r)return BD(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return BD(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=JO(e.integerValue||e.doubleValue),r=JO(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vR(e.timestampValue,t.timestampValue);case 4:return vR(aR(e),aR(t));case 5:return qD(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ZO(e),r=ZO(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=BD(n[i],r[i]);if(0!==e)return e}return BD(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=BD(JO(e.latitude),JO(t.latitude));return 0!==n?n:BD(JO(e.longitude),JO(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return bR(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},u=null===(n=a[fR])||void 0===n?void 0:n.arrayValue,l=null===(r=s[fR])||void 0===r?void 0:r.arrayValue,c=BD((null===(i=null==u?void 0:u.values)||void 0===i?void 0:i.length)||0,(null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:bR(u,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===hR.mapValue&&t===hR.mapValue)return 0;if(e===hR.mapValue)return 1;if(t===hR.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=qD(r[a],o[a]);if(0!==e)return e;const t=yR(n[r[a]],i[o[a]]);if(0!==t)return t}return BD(r.length,o.length)}(e.mapValue,t.mapValue);default:throw kD(23264,{Pe:n})}}function vR(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return BD(e,t);const n=XO(e),r=XO(t),i=BD(n.seconds,r.seconds);return 0!==i?i:BD(n.nanos,r.nanos)}function bR(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=yR(n[i],r[i]);if(e)return e}return BD(n.length,r.length)}function wR(e){return ER(e)}function ER(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=XO(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ZO(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return tO.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ER(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ER(e.fields[i])}`;return n+"}"}(e.mapValue):kD(61005,{value:e})}function SR(e){return!!e&&"integerValue"in e}function TR(e){return!!e&&"arrayValue"in e}function IR(e){return!!e&&"mapValue"in e}function xR(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[lR])||void 0===n?void 0:n.stringValue)===dR}function kR(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return UO(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=kR(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kR(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _R(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}class CR{constructor(e){this.value=e}static empty(){return new CR({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!IR(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kR(t)}setAll(e){let t=eO.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=kR(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());IR(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mR(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];IR(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){UO(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new CR(kR(this.value))}}class AR{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new AR(e,0,WD.min(),WD.min(),WD.min(),CR.empty(),0)}static newFoundDocument(e,t,n,r){return new AR(e,1,t,WD.min(),n,r,0)}static newNoDocument(e,t){return new AR(e,2,t,WD.min(),WD.min(),CR.empty(),0)}static newUnknownDocument(e,t){return new AR(e,3,t,WD.min(),WD.min(),CR.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(WD.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=CR.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=CR.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=WD.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof AR&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new AR(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class NR{constructor(e,t){this.position=e,this.inclusive=t}}function DR(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?tO.comparator(tO.fromName(a.referenceValue),n.key):yR(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function OR(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mR(e.position[n],t.position[n]))return!1;return!0}class RR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function PR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class jR{}class LR extends jR{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new HR(e,t,n):"array-contains"===t?new QR(e,n):"in"===t?new WR(e,n):"not-in"===t?new YR(e,n):"array-contains-any"===t?new XR(e,n):new LR(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new KR(e,n):new GR(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(yR(t,this.value)):null!==t&&pR(this.value)===pR(t)&&this.matchesComparison(yR(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return kD(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class MR extends jR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new MR(e,t)}matches(e){return FR(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function FR(e){return"and"===e.op}function VR(e){return UR(e)&&FR(e)}function UR(e){for(const t of e.filters)if(t instanceof MR)return!1;return!0}function BR(e){if(e instanceof LR)return e.field.canonicalString()+e.op.toString()+wR(e.value);if(VR(e))return e.filters.map((e=>BR(e))).join(",");{const t=e.filters.map((e=>BR(e))).join(",");return`${e.op}(${t})`}}function qR(e,t){return e instanceof LR?function(e,t){return t instanceof LR&&e.op===t.op&&e.field.isEqual(t.field)&&mR(e.value,t.value)}(e,t):e instanceof MR?function(e,t){return t instanceof MR&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&qR(n,t.filters[r])),!0)}(e,t):void kD(19439)}function zR(e){return e instanceof LR?function(e){return`${e.field.canonicalString()} ${e.op} ${wR(e.value)}`}(e):e instanceof MR?function(e){return e.op.toString()+" {"+e.getFilters().map(zR).join(" ,")+"}"}(e):"Filter"}class HR extends LR{constructor(e,t,n){super(e,t,n),this.key=tO.fromName(n.referenceValue)}matches(e){const t=tO.comparator(e.key,this.key);return this.matchesComparison(t)}}class KR extends LR{constructor(e,t){super(e,"in",t),this.keys=$R("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class GR extends LR{constructor(e,t){super(e,"not-in",t),this.keys=$R("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $R(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>tO.fromName(e.referenceValue)))}class QR extends LR{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return TR(t)&&gR(t.arrayValue,this.value)}}class WR extends LR{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gR(this.value.arrayValue,t)}}class YR extends LR{constructor(e,t){super(e,"not-in",t)}matches(e){if(gR(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!gR(this.value.arrayValue,t)}}class XR extends LR{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!TR(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>gR(this.value.arrayValue,e)))}}class JR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function ZR(e){return new JR(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function eP(e){const t=AD(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>BR(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),pO(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>wR(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>wR(e))).join(",")),t.Ie=e}return t.Ie}function tP(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!PR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!qR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!OR(e.startAt,t.startAt)&&OR(e.endAt,t.endAt)}class nP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rP(e,t,n,r,i,o,a,s){return new nP(e,t,n,r,i,o,a,s)}function iP(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function oP(e){return null!==e.collectionGroup}function aP(e){const t=AD(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new KO(eO.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new RR(r,n))})),e.has(eO.keyField().canonicalString())||t.Ee.push(new RR(eO.keyField(),n))}return t.Ee}function sP(e){const t=AD(e);return t.de||(t.de=uP(t,aP(e))),t.de}function uP(e,t){if("F"===e.limitType)return ZR(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new RR(e.field,t)}));const n=e.endAt?new NR(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new NR(e.startAt.position,e.startAt.inclusive):null;return ZR(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function lP(e,t,n){return new nP(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cP(e,t){return tP(sP(e),sP(t))&&e.limitType===t.limitType}function hP(e){return`${eP(sP(e))}|lt:${e.limitType}`}function dP(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>zR(e))).join(", ")}]`),pO(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>wR(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>wR(e))).join(",")),`Target(${t})`}(sP(e))}; limitType=${e.limitType})`}function fP(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tO.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of aP(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=DR(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,aP(e),t))&&!(e.endAt&&!function(e,t,n){const r=DR(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,aP(e),t))}(e,t)}function pP(e){return(t,n)=>{let r=!1;for(const i of aP(e)){const e=mP(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function mP(e,t,n){const r=e.field.isKeyField()?tO.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yR(r,i):kD(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return kD(19790,{direction:e.dir})}}class gP{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){UO(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return BO(this.inner)}size(){return this.innerSize}}const yP=new qO(tO.comparator);function vP(){return yP}const bP=new qO(tO.comparator);function wP(){let e=bP;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function EP(e){let t=bP;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function SP(){return IP()}function TP(){return IP()}function IP(){return new gP((e=>e.toString()),((e,t)=>e.isEqual(t)))}new qO(tO.comparator);const xP=new KO(tO.comparator);function kP(){let e=xP;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const _P=new KO(BD);function CP(){return _P}function AP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mO(t)?"-0":t}}function NP(e){return{integerValue:""+e}}class DP{constructor(){this._=void 0}}function OP(e,t,n){return e instanceof jP?function(e,t){const n={fields:{[tR]:{stringValue:eR},[rR]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&iR(t)&&(t=oR(t)),t&&(n.fields[nR]=t),{mapValue:n}}(n,t):e instanceof LP?MP(e,t):e instanceof FP?VP(e,t):function(e,t){const n=PP(e,t),r=BP(n)+BP(e.Re);return SR(n)&&SR(e.Re)?NP(r):AP(e.serializer,r)}(e,t)}function RP(e,t,n){return e instanceof LP?MP(e,t):e instanceof FP?VP(e,t):n}function PP(e,t){return e instanceof UP?function(e){return SR(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class jP extends DP{}class LP extends DP{constructor(e){super(),this.elements=e}}function MP(e,t){const n=qP(t);for(const r of e.elements)n.some((e=>mR(e,r)))||n.push(r);return{arrayValue:{values:n}}}class FP extends DP{constructor(e){super(),this.elements=e}}function VP(e,t){let n=qP(t);for(const r of e.elements)n=n.filter((e=>!mR(e,r)));return{arrayValue:{values:n}}}class UP extends DP{constructor(e,t){super(),this.serializer=e,this.Re=t}}function BP(e){return JO(e.integerValue||e.doubleValue)}function qP(e){return TR(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class zP{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zP}static exists(e){return new zP(void 0,e)}static updateTime(e){return new zP(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function HP(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class KP{}function GP(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new tj(e.key,zP.none()):new YP(e.key,e.data,zP.none());{const n=e.data,r=CR.empty();let i=new KO(eO.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new XP(e.key,r,new $O(i.toArray()),zP.none())}}function $P(e,t,n){e instanceof YP?function(e,t,n){const r=e.value.clone(),i=ZP(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof XP?function(e,t,n){if(!HP(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ZP(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(JP(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function QP(e,t,n,r){return e instanceof YP?function(e,t,n,r){if(!HP(e.precondition,t))return n;const i=e.value.clone(),o=ej(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof XP?function(e,t,n,r){if(!HP(e.precondition,t))return n;const i=ej(e.fieldTransforms,r,t),o=t.data;return o.setAll(JP(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return HP(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function WP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&KD(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof LP&&t instanceof LP||e instanceof FP&&t instanceof FP?KD(e.elements,t.elements,mR):e instanceof UP&&t instanceof UP?mR(e.Re,t.Re):e instanceof jP&&t instanceof jP}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class YP extends KP{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class XP extends KP{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JP(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ZP(e,t,n){const r=new Map;CD(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,RP(a,s,n[i]))}return r}function ej(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,OP(e,o,t))}return r}class tj extends KP{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nj{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&$P(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=QP(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=QP(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=TP();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=GP(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(WD.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),kP())}isEqual(e){return this.batchId===e.batchId&&KD(this.mutations,e.mutations,((e,t)=>WP(e,t)))&&KD(this.baseMutations,e.baseMutations,((e,t)=>WP(e,t)))}}class rj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var ij,oj;function aj(e){if(void 0===e)return TD("GRPC error has no .code"),ND.UNKNOWN;switch(e){case ij.OK:return ND.OK;case ij.CANCELLED:return ND.CANCELLED;case ij.UNKNOWN:return ND.UNKNOWN;case ij.DEADLINE_EXCEEDED:return ND.DEADLINE_EXCEEDED;case ij.RESOURCE_EXHAUSTED:return ND.RESOURCE_EXHAUSTED;case ij.INTERNAL:return ND.INTERNAL;case ij.UNAVAILABLE:return ND.UNAVAILABLE;case ij.UNAUTHENTICATED:return ND.UNAUTHENTICATED;case ij.INVALID_ARGUMENT:return ND.INVALID_ARGUMENT;case ij.NOT_FOUND:return ND.NOT_FOUND;case ij.ALREADY_EXISTS:return ND.ALREADY_EXISTS;case ij.PERMISSION_DENIED:return ND.PERMISSION_DENIED;case ij.FAILED_PRECONDITION:return ND.FAILED_PRECONDITION;case ij.ABORTED:return ND.ABORTED;case ij.OUT_OF_RANGE:return ND.OUT_OF_RANGE;case ij.UNIMPLEMENTED:return ND.UNIMPLEMENTED;case ij.DATA_LOSS:return ND.DATA_LOSS;default:return kD(39323,{code:e})}}(oj=ij||(ij={}))[oj.OK=0]="OK",oj[oj.CANCELLED=1]="CANCELLED",oj[oj.UNKNOWN=2]="UNKNOWN",oj[oj.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oj[oj.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oj[oj.NOT_FOUND=5]="NOT_FOUND",oj[oj.ALREADY_EXISTS=6]="ALREADY_EXISTS",oj[oj.PERMISSION_DENIED=7]="PERMISSION_DENIED",oj[oj.UNAUTHENTICATED=16]="UNAUTHENTICATED",oj[oj.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oj[oj.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oj[oj.ABORTED=10]="ABORTED",oj[oj.OUT_OF_RANGE=11]="OUT_OF_RANGE",oj[oj.UNIMPLEMENTED=12]="UNIMPLEMENTED",oj[oj.INTERNAL=13]="INTERNAL",oj[oj.UNAVAILABLE=14]="UNAVAILABLE",oj[oj.DATA_LOSS=15]="DATA_LOSS";new rD([4294967295,4294967295],0);Error;class sj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uj(e){return CD(!!e,49232),WD.fromTimestamp(function(e){const t=XO(e);return new QD(t.seconds,t.nanos)}(e))}function lj(e,t){const n=function(e){return new JD(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function cj(e){const t=JD.fromString(e);return CD(gj(t),10190,{key:t.toString()}),t}function hj(e){const t=cj(e);return 4===t.length?JD.emptyPath():dj(t)}function dj(e){return CD(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function fj(e){let t=hj(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){CD(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=pj(e);return t instanceof MR&&VR(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new RR(mj(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,pO(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new NR(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new NR(n,t)}(n.endAt)),rP(t,i,a,o,s,"F",u,l)}function pj(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=mj(e.unaryFilter.field);return LR.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=mj(e.unaryFilter.field);return LR.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mj(e.unaryFilter.field);return LR.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mj(e.unaryFilter.field);return LR.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return kD(61313);default:return kD(60726)}}(e):void 0!==e.fieldFilter?function(e){return LR.create(mj(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return kD(58110);default:return kD(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return MR.create(e.compositeFilter.filters.map((e=>pj(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return kD(1026)}}(e.compositeFilter.op))}(e):kD(30097,{filter:e})}function mj(e){return eO.fromServerFormat(e.fieldPath)}function gj(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class yj{constructor(e){this.wt=e}}function vj(e){const t=fj({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lP(t,t.limit,"L"):t}class bj{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(JO(e.integerValue));else if("doubleValue"in e){const n=JO(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),mO(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=XO(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(ZO(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?_R(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):xR(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):kD(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const o=fR,a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(JO(a)),this.Nt(o,t),this.Ct(i[o],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),tO.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}bj.Wt=new bj;class wj{constructor(){this.yn=new Ej}addToCollectionParentIndex(e,t){return this.yn.add(t),lO.resolve()}getCollectionParents(e,t){return lO.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return lO.resolve()}deleteFieldIndex(e,t){return lO.resolve()}deleteAllFieldIndexes(e){return lO.resolve()}createTargetIndexes(e,t){return lO.resolve()}getDocumentsMatchingTarget(e,t){return lO.resolve(null)}getIndexType(e,t){return lO.resolve(0)}getFieldIndexes(e,t){return lO.resolve([])}getNextCollectionGroupToUpdate(e){return lO.resolve(null)}getMinOffset(e,t){return lO.resolve(aO.min())}getMinOffsetFromCollectionGroup(e,t){return lO.resolve(aO.min())}updateCollectionGroup(e,t,n){return lO.resolve()}updateIndexEntries(e,t){return lO.resolve()}}class Ej{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new KO(JD.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new KO(JD.comparator)).toArray()}}new Uint8Array(0);const Sj=41943040;class Tj{static withCacheSize(e){return new Tj(e,Tj.DEFAULT_COLLECTION_PERCENTILE,Tj.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Tj.DEFAULT_COLLECTION_PERCENTILE=10,Tj.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tj.DEFAULT=new Tj(Sj,Tj.DEFAULT_COLLECTION_PERCENTILE,Tj.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tj.DISABLED=new Tj(-1,0,0);class Ij{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ij(0)}static ir(){return new Ij(-1)}}const xj=1048576;class kj{constructor(){this.changes=new gP((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,AR.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?lO.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _j{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Cj{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&QP(n.mutation,e,$O.empty(),QD.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,kP()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kP();const r=SP();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=wP();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=SP();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,kP())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=vP();const o=IP(),a=IP();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof XP)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),QP(a.mutation,t,a.mutation.getFieldMask(),QD.now())):o.set(t.key,$O.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new _j(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=IP();let r=new qO(((e,t)=>e-t)),i=kP();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||$O.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||kP()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,u=r.value,l=TP();u.forEach((e=>{if(!i.has(e)){const r=GP(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,l))}return lO.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return tO.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):lO.resolve(SP());let a=nO,s=i;return o.next((t=>lO.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?lO.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,kP()))).next((e=>({batchId:a,changes:EP(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tO(t)).next((e=>{let t=wP();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=wP();return this.indexManager.getCollectionParents(e,i).next((a=>lO.forEach(a,(a=>{const s=function(e,t){return new nP(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,AR.newInvalidDocument(r)))}));let n=wP();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&QP(o.mutation,r,$O.empty(),QD.now()),fP(t,r)&&(n=n.insert(e,r))})),n}))}}class Aj{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return lO.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:uj(e.createTime)}}(t)),lO.resolve()}getNamedQuery(e,t){return lO.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:vj(e.bundledQuery),readTime:uj(e.readTime)}}(t)),lO.resolve()}}class Nj{constructor(){this.overlays=new qO(tO.comparator),this.Or=new Map}getOverlay(e,t){return lO.resolve(this.overlays.get(t))}getOverlays(e,t){const n=SP();return lO.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),lO.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),lO.resolve()}getOverlaysForCollection(e,t,n){const r=SP(),i=t.length+1,o=new tO(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return lO.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new qO(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=SP(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=SP(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return lO.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new rj(t,n));let i=this.Or.get(t);void 0===i&&(i=kP(),this.Or.set(t,i)),this.Or.set(t,i.add(n.key))}}class Dj{constructor(){this.sessionToken=WO.EMPTY_BYTE_STRING}getSessionToken(e){return lO.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,lO.resolve()}}class Oj{constructor(){this.Nr=new KO(Rj.Br),this.Lr=new KO(Rj.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new Rj(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new Rj(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new tO(new JD([])),n=new Rj(t,e),r=new Rj(t,e+1),i=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),i.push(e.key)})),i}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new tO(new JD([])),n=new Rj(t,e),r=new Rj(t,e+1);let i=kP();return this.Lr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Rj(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Rj{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return tO.comparator(e.key,t.key)||BD(e.Gr,t.Gr)}static kr(e,t){return BD(e.Gr,t.Gr)||tO.comparator(e.key,t.key)}}class Pj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new KO(Rj.Br)}checkEmpty(e){return lO.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nj(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.zr=this.zr.add(new Rj(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return lO.resolve(o)}lookupMutationBatch(e,t){return lO.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),i=r<0?0:r;return lO.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return lO.resolve(0===this.mutationQueue.length?fO:this.Jn-1)}getAllMutationBatches(e){return lO.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rj(t,0),r=new Rj(t,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);i.push(t)})),lO.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new KO(BD);return t.forEach((e=>{const t=new Rj(e,0),r=new Rj(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),lO.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;tO.isDocumentKey(i)||(i=i.child(""));const o=new Rj(new tO(i),0);let a=new KO(BD);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Gr)),!0)}),o),lO.resolve(this.Jr(a))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){CD(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return lO.forEach(t.mutations,(r=>{const i=new Rj(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new Rj(t,0),r=this.zr.firstAfterOrEqual(n);return lO.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,lO.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jj{constructor(e){this.Zr=e,this.docs=new qO(tO.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return lO.resolve(n?n.document.mutableCopy():AR.newInvalidDocument(t))}getEntries(e,t){let n=vP();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():AR.newInvalidDocument(e))})),lO.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=vP();const o=t.path,a=new tO(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||sO(oO(a),n)<=0||(r.has(a.key)||fP(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return lO.resolve(i)}getAllFromCollectionGroup(e,t,n,r){kD(9500)}Xr(e,t){return lO.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Lj(this)}getSize(e){return lO.resolve(this.size)}}class Lj extends kj{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),lO.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class Mj{constructor(e){this.persistence=e,this.ei=new gP((e=>eP(e)),tP),this.lastRemoteSnapshotVersion=WD.min(),this.highestTargetId=0,this.ti=0,this.ni=new Oj,this.targetCount=0,this.ri=Ij.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),lO.resolve()}getLastRemoteSnapshotVersion(e){return lO.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lO.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),lO.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),lO.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Ij(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,lO.resolve()}updateTargetData(e,t){return this.ar(t),lO.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,lO.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ei.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),lO.waitFor(i).next((()=>r))}getTargetCount(e){return lO.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return lO.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),lO.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),lO.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),lO.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return lO.resolve(n)}containsKey(e,t){return lO.resolve(this.ni.containsKey(t))}}class Fj{constructor(e,t){this.ii={},this.overlays={},this.si=new dO(0),this.oi=!1,this.oi=!0,this._i=new Dj,this.referenceDelegate=e(this),this.ai=new Mj(this),this.indexManager=new wj,this.remoteDocumentCache=function(e){return new jj(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new yj(t),this.ci=new Aj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new Pj(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){SD("MemoryPersistence","Starting transaction:",e);const r=new Vj(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return lO.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class Vj extends uO{constructor(e){super(),this.currentSequenceNumber=e}}class Uj{constructor(e){this.persistence=e,this.Ti=new Oj,this.Ii=null}static Ei(e){return new Uj(e)}get di(){if(this.Ii)return this.Ii;throw kD(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),lO.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),lO.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),lO.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lO.forEach(this.di,(n=>{const r=tO.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,WD.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return lO.or([()=>lO.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Bj{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=kP(),r=kP();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Bj(e,t.fromCache,n,r)}}class qj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zj{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=bA()?8:cO(vA())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Vs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new qj;return this.fs(e,t,n).next((r=>{if(i.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>i.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?(ED()<=OA.DEBUG&&SD("QueryEngine","SDK will not create cache indexes for query:",dP(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),lO.resolve()):(ED()<=OA.DEBUG&&SD("QueryEngine","Query:",dP(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(ED()<=OA.DEBUG&&SD("QueryEngine","The SDK decides to create cache indexes for query:",dP(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sP(t))):lO.resolve())}Rs(e,t){if(iP(t))return lO.resolve(null);let n=sP(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=lP(t,null,"F"),n=sP(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=kP(...r);return this.As.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ps(t,r);return this.ys(t,o,i,n.readTime)?this.Rs(e,lP(t,null,"F")):this.ws(e,o,t,n)}))))})))))}Vs(e,t,n,r){return iP(t)||r.isEqual(WD.min())?lO.resolve(null):this.As.getDocuments(e,n).next((i=>{const o=this.ps(t,i);return this.ys(t,o,n,r)?lO.resolve(null):(ED()<=OA.DEBUG&&SD("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dP(t)),this.ws(e,o,t,iO(r,nO)).next((e=>e)))}))}ps(e,t){let n=new KO(pP(e));return t.forEach(((t,r)=>{fP(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,t,n){return ED()<=OA.DEBUG&&SD("QueryEngine","Using full collection scan to execute query:",dP(t)),this.As.getDocumentsMatchingQuery(e,t,aO.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Hj="LocalStore";class Kj{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new qO(BD),this.Ds=new gP((e=>eP(e)),tP),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cj(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}function Gj(e,t,n,r){return new Kj(e,t,n,r)}async function $j(e,t){const n=AD(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=kP();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ms:e,removedBatchIds:i,addedBatchIds:o})))}))}))}class Qj{constructor(){this.activeTargetIds=CP()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wj{constructor(){this.So=new Qj,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Qj,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yj{vo(e){}shutdown(){}}const Xj="ConnectivityMonitor";class Jj{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){SD(Xj,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){SD(Xj,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zj=null;function eL(){return null===Zj?Zj=268435456+Math.round(2147483648*Math.random()):Zj++,"0x"+Zj.toString(16)}const tL="RestConnection",nL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rL{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===sR?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,i){const o=eL(),a=this.$o(e,t.toUriEncodedString());SD(tL,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(s,r,i),this.Ko(e,a,s,n).then((t=>(SD(tL,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw ID(tL,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}Wo(e,t,n,r,i,o){return this.Qo(e,t,n,r,i)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bD,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=nL[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class iL{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const oL="WebChannelConnection";class aL extends rL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r){const i=eL();return new Promise(((o,a)=>{const s=new aD;s.setWithCredentials(!0),s.listenOnce(uD.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case lD.NO_ERROR:const t=s.getResponseJson();SD(oL,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case lD.TIMEOUT:SD(oL,`RPC '${e}' ${i} timed out`),a(new DD(ND.DEADLINE_EXCEEDED,"Request time out"));break;case lD.HTTP_ERROR:const n=s.getStatus();if(SD(oL,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ND).indexOf(t)>=0?t:ND.UNKNOWN}(t.status);a(new DD(e,t.message))}else a(new DD(ND.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new DD(ND.UNAVAILABLE,"Connection failed."));break;default:kD(9055,{s_:e,streamId:i,o_:s.getLastErrorCode(),__:s.getLastError()})}}finally{SD(oL,`RPC '${e}' ${i} completed.`)}}));const u=JSON.stringify(r);SD(oL,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",u,n,15)}))}a_(e,t,n){const r=eL(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fD(),a=dD(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Uo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const l=i.join("");SD(oL,`Creating RPC '${e}' stream ${r}: ${l}`,s);const c=o.createWebChannel(l,s);let h=!1,d=!1;const f=new iL({Go:t=>{d?SD(oL,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(SD(oL,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),SD(oL,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},zo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,sD.EventType.OPEN,(()=>{d||(SD(oL,`RPC '${e}' stream ${r} transport opened.`),f.t_())})),p(c,sD.EventType.CLOSE,(()=>{d||(d=!0,SD(oL,`RPC '${e}' stream ${r} transport closed`),f.r_())})),p(c,sD.EventType.ERROR,(t=>{d||(d=!0,ID(oL,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.r_(new DD(ND.UNAVAILABLE,"The operation could not be completed")))})),p(c,sD.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];CD(!!i,16349);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){SD(oL,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=ij[e];if(void 0!==t)return aj(t)}(t),i=a.message;void 0===n&&(n=ND.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.r_(new DD(n,i)),c.close()}else SD(oL,`RPC '${e}' stream ${r} received:`,i),f.i_(i)}})),p(a,hD.STAT_EVENT,(t=>{t.stat===cD.PROXY?SD(oL,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===cD.NOPROXY&&SD(oL,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.n_()}),0),f}}function sL(){return"undefined"!=typeof document?document:null}function uL(e){return new sj(e,!0)}class lL{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&SD("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}class cL{}class hL extends cL{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new DD(ND.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Qo(e,lj(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ND.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new DD(ND.UNKNOWN,e.toString())}))}Wo(e,t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Wo(e,lj(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ND.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new DD(ND.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class dL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(TD(t),this.ea=!1):SD("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const fL="RemoteStore";class pL{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo((e=>{n.enqueueAndForget((async()=>{yL(this)&&(SD(fL,"Restarting streams for network reachability change."),await async function(e){const t=AD(e);t.aa.add(4),await gL(t),t.la.set("Unknown"),t.aa.delete(4),await mL(t)}(this))}))})),this.la=new dL(n,r)}}async function mL(e){if(yL(e))for(const t of e.ua)await t(!0)}async function gL(e){for(const t of e.ua)await t(!1)}function yL(e){return 0===AD(e).aa.size}async function vL(e,t){const n=AD(e);t?(n.aa.delete(2),await mL(n)):t||(n.aa.add(2),await gL(n),n.la.set("Unknown"))}class bL{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new OD,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new bL(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new DD(ND.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class wL{constructor(){this.queries=EL(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=AD(e),r=n.queries;n.queries=EL(),r.forEach(((e,n)=>{for(const r of n.Ra)r.onError(t)}))}(this,new DD(ND.ABORTED,"Firestore shutting down"))}}function EL(){return new gP((e=>hP(e)),cP)}function SL(e){e.fa.forEach((e=>{e.next()}))}var TL,IL;(IL=TL||(TL={})).ya="default",IL.Cache="cache";const xL="SyncEngine";class kL{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new gP((e=>hP(e)),cP),this.iu=new Map,this.su=new Set,this.ou=new qO(tO.comparator),this._u=new Map,this.au=new Oj,this.uu={},this.cu=new Map,this.lu=Ij.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}function _L(e,t,n){const r=AD(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const i=r.view.ga(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=AD(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Ra)i.ga(t)&&(r=!0)})),r&&SL(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function CL(e,t,n){const r=AD(e),i=[],o=[],a=[];r.ru.isEmpty()||(r.ru.forEach(((e,s)=>{a.push(r.Pu(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Bj.Ps(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.nu.Q_(i),await async function(e,t){const n=AD(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>lO.forEach(t,(t=>lO.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>lO.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!hO(e))throw e;SD(Hj,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(e,i)}}}(r.localStore,o))}async function AL(e,t){const n=AD(e);if(!n.currentUser.isEqual(t)){SD(xL,"User change. New user:",t.toKey());const e=await $j(n.localStore,t);n.currentUser=t,function(e,t){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new DD(ND.CANCELLED,t))}))})),e.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await CL(n,e.Ms)}}class NL{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uL(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Gj(this.persistence,new zj,e.initialUser,this.serializer)}Ru(e){return new Fj(Uj.Ei,this.serializer)}Au(e){return new Wj}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}NL.provider={build:()=>new NL};class DL{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>_L(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=AL.bind(null,this.syncEngine),await vL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wL}createDatastore(e){const t=uL(e.databaseInfo.databaseId),n=function(e){return new aL(e)}(e.databaseInfo);return function(e,t,n,r){return new hL(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new pL(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>_L(this.syncEngine,e,0)),Jj.C()?new Jj:new Yj)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new kL(e,t,n,r,i,o);return a&&(s.hu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=AD(e);SD(fL,"RemoteStore shutting down."),t.aa.add(5),await gL(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}DL.provider={build:()=>new DL};function OL(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const RL=new Map;const PL="firestore.googleapis.com",jL=!0;class LL{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new DD(ND.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PL,this.ssl=jL}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:jL;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Sj;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<xj)throw new DD(ND.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new DD(ND.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OL(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new DD(ND.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new DD(ND.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new DD(ND.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ML{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new DD(ND.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new DD(ND.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LL(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new PD;switch(e.type){case"firstParty":return new MD(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new DD(ND.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RL.get(e);t&&(SD("ComponentProvider","Removing Datastore"),RL.delete(e),t.terminate())}(this),Promise.resolve()}}const FL="AsyncQueue";class VL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new lL(this,"async_queue_retry"),this.ju=()=>{const e=sL();e&&SD(FL,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=sL();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=sL();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new OD;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(Fx){if(!hO(Fx))throw Fx;SD(FL,"Operation failed with retryable error: "+Fx)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,TD("INTERNAL UNHANDLED ERROR: ",UL(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=bL.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&kD(47125,{ec:UL(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function UL(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class BL extends ML{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new VL,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VL(e),this._firestoreClient=void 0,await e}}}new RegExp("[~\\*/\\[\\]]");new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){bD=e}(qN),MN(new _A("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new BL(new jD(e.getProvider("auth-internal")),new VD(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new DD(ND.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uR(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),HN(gD,yD,e),HN(gD,yD,"esm2017")}();HN("firebase","11.6.1","app");const qL="4.7.11";class zL{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zL.UNAUTHENTICATED=new zL(null),zL.GOOGLE_CREDENTIALS=new zL("google-credentials-uid"),zL.FIRST_PARTY=new zL("first-party-uid"),zL.MOCK_USER=new zL("mock-user");let HL="11.6.1";const KL=new MA("@firebase/firestore");function GL(e){if(KL.logLevel<=OA.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(WL);KL.debug(`Firestore (${HL}): ${e}`,...i)}}function $L(e){if(KL.logLevel<=OA.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(WL);KL.error(`Firestore (${HL}): ${e}`,...i)}}function QL(e){if(KL.logLevel<=OA.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(WL);KL.warn(`Firestore (${HL}): ${e}`,...i)}}function WL(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Fx){return e}}function YL(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,XL(e,r,n)}function XL(e,t,n){let r=`FIRESTORE (${HL}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw $L(r),new Error(r)}function JL(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||XL(t,i,r)}function ZL(e,t){return e}const eM="ok",tM="cancelled",nM="unknown",rM="invalid-argument",iM="deadline-exceeded",oM="not-found",aM="permission-denied",sM="unauthenticated",uM="resource-exhausted",lM="failed-precondition",cM="aborted",hM="out-of-range",dM="unimplemented",fM="internal",pM="unavailable";class mM extends EA{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zL.UNAUTHENTICATED)))}shutdown(){}}class vM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bM{constructor(e){this.auth=null,e.onInit((e=>{this.auth=e}))}getToken(){return this.auth?this.auth.getToken().then((e=>e?(JL("string"==typeof e.accessToken,42297,{t:e}),new gM(e.accessToken,new zL(this.auth.getUid()))):null)):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class wM{constructor(e,t,n){this.i=e,this.o=t,this.u=n,this.type="FirstParty",this.user=zL.FIRST_PARTY,this.l=new Map}h(){return this.u?this.u():null}get headers(){this.l.set("X-Goog-AuthUser",this.i);const e=this.h();return e&&this.l.set("Authorization",e),this.o&&this.l.set("X-Goog-Iam-Authorization-Token",this.o),this.l}}class EM{constructor(e,t,n){this.i=e,this.o=t,this.u=n}getToken(){return Promise.resolve(new wM(this.i,this.o,this.u))}start(e,t){e.enqueueRetryable((()=>t(zL.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TM{constructor(e,t){this.m=t,this.appCheck=null,this.T=null,VN(e)&&e.settings.appCheckToken&&(this.T=e.settings.appCheckToken),t.onInit((e=>{this.appCheck=e}))}getToken(){return this.T?Promise.resolve(new SM(this.T)):this.appCheck?this.appCheck.getToken().then((e=>e?(JL("string"==typeof e.token,3470,{tokenResult:e}),new SM(e.token)):null)):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class IM{constructor(e,t,n,r,i,o,a,s,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=u}}const xM="(default)";class kM{constructor(e,t){this.projectId=e,this.database=t||xM}static empty(){return new kM("","")}get isDefaultDatabase(){return this.database===xM}isEqual(e){return e instanceof kM&&e.projectId===this.projectId&&e.database===this.database}}function _M(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class CM{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=_M(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function AM(e,t){return e<t?-1:e>t?1:0}function NM(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return AM(r,i);{const o=new TextEncoder,a=OM(o.encode(DM(e,n)),o.encode(DM(t,n)));return 0!==a?a:AM(r,i)}}n+=r>65535?2:1}return AM(e.length,t.length)}function DM(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function OM(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return AM(e[n],t[n]);return AM(e.length,t.length)}function RM(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const PM="__name__";class jM{constructor(e,t,n){void 0===t?t=0:t>e.length&&YL(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&YL(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===jM.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jM?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=jM.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return AM(e.length,t.length)}static compareSegments(e,t){const n=jM.isNumericId(e),r=jM.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?jM.extractNumericId(e).compare(jM.extractNumericId(t)):NM(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rD.fromString(e.substring(4,e.length-2))}}class LM extends jM{construct(e,t,n){return new LM(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new mM(rM,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new LM(e)}static emptyPath(){return new LM([])}}const MM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FM extends jM{construct(e,t,n){return new FM(e,t,n)}static isValidIdentifier(e){return MM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FM.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===PM}static keyField(){return new FM([PM])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new mM(rM,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new mM(rM,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new mM(rM,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new mM(rM,"Unterminated ` in path: "+e);return new FM(t)}static emptyPath(){return new FM([])}}class VM{constructor(e){this.path=e}static fromPath(e){return new VM(LM.fromString(e))}static fromName(e){return new VM(LM.fromString(e).popFirst(5))}static empty(){return new VM(LM.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===LM.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return LM.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new VM(new LM(e.slice()))}}function UM(e,t,n){if(!n)throw new mM(rM,`Function ${e}() cannot be called with an empty ${t}.`)}function BM(e){if(!VM.isDocumentKey(e))throw new mM(rM,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qM(e){if(VM.isDocumentKey(e))throw new mM(rM,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function zM(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":YL(12329,{type:typeof e})}function HM(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mM(rM,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zM(e);throw new mM(rM,`Expected type '${t.name}', but it was: ${n}`)}}return e}function KM(e,t){if(t<=0)throw new mM(rM,`Function ${e}() requires a positive number, but it was: ${t}.`)}function GM(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let $M=null;function QM(e){return null==e}function WM(e){return 0===e&&1/e==-1/0}const YM="RestConnection",XM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JM{get A(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.P=t+"://"+e.host,this.R=`projects/${n}/databases/${r}`,this.I=this.databaseId.database===xM?`project_id=${n}`:`project_id=${n}&database_id=${r}`}V(e,t,n,r,i){const o=(null===$M?$M=268435456+Math.round(2147483648*Math.random()):$M++,"0x"+$M.toString(16)),a=this.p(e,t.toUriEncodedString());GL(YM,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.R,"x-goog-request-params":this.I};return this.F(s,r,i),this.v(e,a,s,n).then((t=>(GL(YM,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw QL(YM,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}D(e,t,n,r,i,o){return this.V(e,t,n,r,i)}F(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+HL,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}p(e,t){const n=XM[e];return`${this.P}/v1/${t}:${n}`}terminate(){}}var ZM,eF;function tF(e){if(void 0===e)return $L("RPC_ERROR","HTTP error has no status"),nM;switch(e){case 200:return eM;case 400:return lM;case 401:return sM;case 403:return aM;case 404:return oM;case 409:return cM;case 416:return hM;case 429:return uM;case 499:return tM;case 500:return nM;case 501:return dM;case 503:return pM;case 504:return iM;default:return e>=200&&e<300?eM:e>=400&&e<500?lM:e>=500&&e<600?fM:nM}}(eF=ZM||(ZM={}))[eF.OK=0]="OK",eF[eF.CANCELLED=1]="CANCELLED",eF[eF.UNKNOWN=2]="UNKNOWN",eF[eF.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eF[eF.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eF[eF.NOT_FOUND=5]="NOT_FOUND",eF[eF.ALREADY_EXISTS=6]="ALREADY_EXISTS",eF[eF.PERMISSION_DENIED=7]="PERMISSION_DENIED",eF[eF.UNAUTHENTICATED=16]="UNAUTHENTICATED",eF[eF.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eF[eF.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eF[eF.ABORTED=10]="ABORTED",eF[eF.OUT_OF_RANGE=11]="OUT_OF_RANGE",eF[eF.UNIMPLEMENTED=12]="UNIMPLEMENTED",eF[eF.INTERNAL=13]="INTERNAL",eF[eF.UNAVAILABLE=14]="UNAVAILABLE",eF[eF.DATA_LOSS=15]="DATA_LOSS";class nF extends JM{C(e,t){throw new Error("Not supported by FetchConnection")}async v(e,t,n,r){var i;const o=JSON.stringify(r);let a;try{a=await fetch(t,{method:"POST",headers:n,body:o})}catch(e){const t=e;throw new mM(tF(t.status),"Request failed with error: "+t.statusText)}if(!a.ok){let e=await a.json();Array.isArray(e)&&(e=e[0]);const t=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.message;throw new mM(tF(a.status),`Request failed with error: ${null!=t?t:a.statusText}`)}return a.json()}}function rF(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function iF(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}class oF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class aF{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oF("Invalid base64 string: "+e):e}}(e);return new aF(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new aF(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return AM(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}aF.EMPTY_BYTE_STRING=new aF("");const sF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uF(e){if(JL(!!e,39018),"string"==typeof e){let t=0;const n=sF.exec(e);if(JL(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:lF(e.seconds),nanos:lF(e.nanos)}}function lF(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function cF(e){return"string"==typeof e?aF.fromBase64String(e):aF.fromUint8Array(e)}const hF=-62135596800,dF=1e6;class fF{static now(){return fF.fromMillis(Date.now())}static fromDate(e){return fF.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*dF);return new fF(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mM(rM,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mM(rM,"Timestamp nanoseconds out of range: "+t);if(e<hF)throw new mM(rM,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mM(rM,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dF}_compareTo(e){return this.seconds===e.seconds?AM(this.nanoseconds,e.nanoseconds):AM(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hF;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}function pF(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mF(e){const t=e.mapValue.fields.__previous_value__;return pF(t)?mF(t):t}function gF(e){const t=uF(e.mapValue.fields.__local_write_time__.timestampValue);return new fF(t.seconds,t.nanos)}const yF="__type__",vF="__max__",bF={fields:{__type__:{stringValue:vF}}},wF="__vector__",EF="value";function SF(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pF(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===vF}(e)?9007199254740991:function(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[yF])||void 0===n?void 0:n.stringValue)===wF}(e)?10:11:YL(28295,{value:e})}function TF(e,t){if(e===t)return!0;const n=SF(e);if(n!==SF(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gF(e).isEqual(gF(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=uF(e.timestampValue),r=uF(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return cF(e.bytesValue).isEqual(cF(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return lF(e.geoPointValue.latitude)===lF(t.geoPointValue.latitude)&&lF(e.geoPointValue.longitude)===lF(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lF(e.integerValue)===lF(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=lF(e.doubleValue),r=lF(t.doubleValue);return n===r?WM(n)===WM(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return RM(e.arrayValue.values||[],t.arrayValue.values||[],TF);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rF(n)!==rF(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!TF(n[i],r[i])))return!1;return!0}(e,t);default:return YL(52216,{left:e})}}function IF(e,t){return void 0!==(e.values||[]).find((e=>TF(e,t)))}function xF(e,t){if(e===t)return 0;const n=SF(e),r=SF(t);if(n!==r)return AM(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return AM(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=lF(e.integerValue||e.doubleValue),r=lF(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kF(e.timestampValue,t.timestampValue);case 4:return kF(gF(e),gF(t));case 5:return NM(e.stringValue,t.stringValue);case 6:return function(e,t){const n=cF(e),r=cF(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=AM(n[i],r[i]);if(0!==e)return e}return AM(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=AM(lF(e.latitude),lF(t.latitude));return 0!==n?n:AM(lF(e.longitude),lF(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return _F(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},u=null===(n=a[EF])||void 0===n?void 0:n.arrayValue,l=null===(r=s[EF])||void 0===r?void 0:r.arrayValue,c=AM((null===(i=null==u?void 0:u.values)||void 0===i?void 0:i.length)||0,(null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:_F(u,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===bF&&t===bF)return 0;if(e===bF)return 1;if(t===bF)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=NM(r[a],o[a]);if(0!==e)return e;const t=xF(n[r[a]],i[o[a]]);if(0!==t)return t}return AM(r.length,o.length)}(e.mapValue,t.mapValue);default:throw YL(23264,{S:n})}}function kF(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return AM(e,t);const n=uF(e),r=uF(t),i=AM(n.seconds,r.seconds);return 0!==i?i:AM(n.nanos,r.nanos)}function _F(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=xF(n[i],r[i]);if(e)return e}return AM(n.length,r.length)}function CF(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function AF(e){return!!e&&"arrayValue"in e}function NF(e){return!!e&&"nullValue"in e}function DF(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function OF(e){return!!e&&"mapValue"in e}function RF(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return iF(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=RF(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=RF(e.arrayValue.values[n]);return t}return Object.assign({},e)}class PF{constructor(e,t){this.position=e,this.inclusive=t}}class jF{}class LF extends jF{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new FF(e,t,n):"array-contains"===t?new qF(e,n):"in"===t?new zF(e,n):"not-in"===t?new HF(e,n):"array-contains-any"===t?new KF(e,n):new LF(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new VF(e,n):new UF(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(xF(t,this.value)):null!==t&&SF(this.value)===SF(t)&&this.matchesComparison(xF(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return YL(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class MF extends jF{constructor(e,t){super(),this.filters=e,this.op=t,this.N=null}static create(e,t){return new MF(e,t)}matches(e){return function(e){return"and"===e.op}(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.N||(this.N=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.N}getFilters(){return Object.assign([],this.filters)}}class FF extends LF{constructor(e,t,n){super(e,t,n),this.key=VM.fromName(n.referenceValue)}matches(e){const t=VM.comparator(e.key,this.key);return this.matchesComparison(t)}}class VF extends LF{constructor(e,t){super(e,"in",t),this.keys=BF("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UF extends LF{constructor(e,t){super(e,"not-in",t),this.keys=BF("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function BF(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>VM.fromName(e.referenceValue)))}class qF extends LF{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return AF(t)&&IF(t.arrayValue,this.value)}}class zF extends LF{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&IF(this.value.arrayValue,t)}}class HF extends LF{constructor(e,t){super(e,"not-in",t)}matches(e){if(IF(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!IF(this.value.arrayValue,t)}}class KF extends LF{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!AF(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>IF(this.value.arrayValue,e)))}}class GF{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}class $F{static fromTimestamp(e){return new $F(e)}static min(){return new $F(new fF(0,0))}static max(){return new $F(new fF(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class QF{constructor(e,t){this.comparator=e,this.root=t||YF.EMPTY}insert(e,t){return new QF(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,YF.BLACK,null,null))}remove(e){return new QF(this.comparator,this.root.remove(e,this.comparator).copy(null,null,YF.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new WF(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new WF(this.root,e,this.comparator,!1)}getReverseIterator(){return new WF(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new WF(this.root,e,this.comparator,!0)}}class WF{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class YF{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:YF.RED,this.left=null!=r?r:YF.EMPTY,this.right=null!=i?i:YF.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new YF(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return YF.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return YF.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,YF.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,YF.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw YL(43730,{key:this.key,value:this.value});if(this.right.isRed())throw YL(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw YL(27949);return e+(this.isRed()?0:1)}}YF.EMPTY=null,YF.RED=!0,YF.BLACK=!1,YF.EMPTY=new class{constructor(){this.size=0}get key(){throw YL(57766)}get value(){throw YL(16141)}get color(){throw YL(16727)}get left(){throw YL(29726)}get right(){throw YL(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new YF(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class XF{constructor(e){this.comparator=e,this.data=new QF(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new JF(this.data.getIterator())}getIteratorFrom(e){return new JF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof XF))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new XF(this.comparator);return t.data=e,t}}class JF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ZF{constructor(e){this.fields=e,e.sort(FM.comparator)}static empty(){return new ZF([])}unionWith(e){let t=new XF(FM.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ZF(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return RM(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class eV{constructor(e){this.value=e}static empty(){return new eV({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!OF(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=RF(t)}setAll(e){let t=FM.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=RF(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());OF(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return TF(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];OF(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){iF(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new eV(RF(this.value))}}class tV{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tV(e,0,$F.min(),$F.min(),$F.min(),eV.empty(),0)}static newFoundDocument(e,t,n,r){return new tV(e,1,t,$F.min(),n,r,0)}static newNoDocument(e,t){return new tV(e,2,t,$F.min(),$F.min(),eV.empty(),0)}static newUnknownDocument(e,t){return new tV(e,3,t,$F.min(),$F.min(),eV.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eV.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eV.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tV&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tV(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.O=null}}function rV(e){return new nV(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}class iV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.q=null,this.B=null,this.$=null,this.startAt,this.endAt}}function oV(e){return null!==e.collectionGroup}function aV(e){const t=ZL(e);if(null===t.q){t.q=[];const e=new Set;for(const i of t.explicitOrderBy)t.q.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new XF(FM.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.q.push(new GF(r,n))})),e.has(FM.keyField().canonicalString())||t.q.push(new GF(FM.keyField(),n))}return t.q}function sV(e){const t=ZL(e);return t.B||(t.B=uV(t,aV(e))),t.B}function uV(e,t){if("F"===e.limitType)return rV(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new GF(e.field,t)}));const n=e.endAt?new PF(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new PF(e.startAt.position,e.startAt.inclusive):null;return rV(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function lV(e,t){const n=e.filters.concat([t]);return new iV(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cV(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:WM(t)?"-0":t}}function hV(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!WM(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?function(e){return{integerValue:""+e}}(t):cV(e,t)}class dV{constructor(){this._=void 0}}class fV extends dV{}class pV extends dV{constructor(e){super(),this.elements=e}}class mV extends dV{constructor(e){super(),this.elements=e}}class gV extends dV{constructor(e,t){super(),this.serializer=e,this.L=t}}class yV{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yV}static exists(e){return new yV(void 0,e)}static updateTime(e){return new yV(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class vV{}class bV extends vV{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wV extends vV{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}class EV extends vV{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SV extends vV{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}const TV={asc:"ASCENDING",desc:"DESCENDING"},IV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xV={and:"AND",or:"OR"};class kV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _V(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CV(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function AV(e,t){return _V(e,t.toTimestamp())}function NV(e){return JL(!!e,49232),$F.fromTimestamp(function(e){const t=uF(e);return new fF(t.seconds,t.nanos)}(e))}function DV(e,t){return OV(e,t).canonicalString()}function OV(e,t){const n=function(e){return new LM(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function RV(e,t){return DV(e.databaseId,t.path)}function PV(e,t){const n=function(e){const t=LM.fromString(e);return JL(zV(t),10190,{key:t.toString()}),t}(t);if(n.get(1)!==e.databaseId.projectId)throw new mM(rM,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mM(rM,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new VM(function(e){return JL(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}(n))}function jV(e,t,n){return{name:RV(e,t),fields:n.value.mapValue.fields}}function LV(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=function(e,t){return DV(e.databaseId,t)}(e,i);const o=function(e){if(0!==e.length)return BV(MF.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:UV(e.field),direction:MV(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=function(e,t){return e.useProto3Json||QM(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{M:n,parent:i}}function MV(e){return TV[e]}function FV(e){return IV[e]}function VV(e){return xV[e]}function UV(e){return{fieldPath:e.canonicalString()}}function BV(e){return e instanceof LF?function(e){if("=="===e.op){if(DF(e.value))return{unaryFilter:{field:UV(e.field),op:"IS_NAN"}};if(NF(e.value))return{unaryFilter:{field:UV(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(DF(e.value))return{unaryFilter:{field:UV(e.field),op:"IS_NOT_NAN"}};if(NF(e.value))return{unaryFilter:{field:UV(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:UV(e.field),op:FV(e.op),value:e.value}}}(e):e instanceof MF?function(e){const t=e.getFilters().map((e=>BV(e)));return 1===t.length?t[0]:{compositeFilter:{op:VV(e.op),filters:t}}}(e):YL(54877,{filter:e})}function qV(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function zV(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function HV(e){return new kV(e,!0)}class KV{}class GV extends KV{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.et=!1}rt(){if(this.et)throw new mM(lM,"The client has already been terminated.")}V(e,t,n,r){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.V(e,OV(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===sM&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mM(nM,e.toString())}))}D(e,t,n,r,i){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.D(e,OV(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===sM&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mM(nM,e.toString())}))}terminate(){this.et=!0,this.connection.terminate()}}async function $V(e,t){const n=ZL(e),r={writes:t.map((e=>function(e,t){let n;if(t instanceof bV)n={update:jV(e,t.key,t.value)};else if(t instanceof EV)n={delete:RV(e,t.key)};else if(t instanceof wV)n={update:jV(e,t.key,t.data),updateMask:qV(t.fieldMask)};else{if(!(t instanceof SV))return YL(16599,{k:t.type});n={verify:RV(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof fV)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pV)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mV)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gV)return{fieldPath:t.field.canonicalString(),increment:n.L};throw YL(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:AV(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:YL(27497)}(e,t.precondition)),n}(n.serializer,e)))};await n.V("Commit",n.serializer.databaseId,LM.emptyPath(),r)}const QV="ComponentProvider",WV=new Map;function YV(e){if(e._terminated)throw new mM(lM,"The client has already been terminated.");if(!WV.has(e)){GL(QV,"Initializing Datastore");const t=function(e){return new nF(e)}(function(e,t,n,r){return new IM(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,GM(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,e.app.options.appId||"",e._persistenceKey,e._freezeSettings())),n=HV(e._databaseId),r=function(e,t,n,r){return new GV(e,t,n,r)}(e._authCredentials,e._appCheckCredentials,t,n);WV.set(e,r)}return WV.get(e)}const XV="firestore.googleapis.com",JV=!0;class ZV{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new mM(rM,"Can't provide ssl option if host option is not set");this.host=XV,this.ssl=JV}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:JV;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mM(rM,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}!function(e,t,n,r){if(!0===t&&!0===r)throw new mM(rM,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GM(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new mM(rM,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new mM(rM,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new mM(rM,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eU{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZV({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mM(lM,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mM(lM,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZV(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yM;switch(e.type){case"firstParty":return new EM(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new mM(rM,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=WV.get(e);t&&(GL(QV,"Removing Datastore"),WV.delete(e),t.terminate())}(this),Promise.resolve()}}class tU{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new tU(this.firestore,e,this._query)}}class nU{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rU(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nU(this.firestore,e,this._key)}}class rU extends tU{constructor(e,t,n){super(e,t,function(e){return new iV(e)}(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nU(this.firestore,null,new VM(e))}withConverter(e){return new rU(this.firestore,e,this._path)}}function iU(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kA(e),UM("collection","path",t),e instanceof eU){const n=LM.fromString(t,...r);return qM(n),new rU(e,null,n)}{if(!(e instanceof nU||e instanceof rU))throw new mM(rM,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(LM.fromString(t,...r));return qM(n),new rU(e.firestore,null,n)}}function oU(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kA(e),1===arguments.length&&(t=CM.newId()),UM("doc","path",t),e instanceof eU){const n=LM.fromString(t,...r);return BM(n),new nU(e,null,new VM(n))}{if(!(e instanceof nU||e instanceof rU))throw new mM(rM,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(LM.fromString(t,...r));return BM(n),new nU(e.firestore,e instanceof rU?e.converter:null,new VM(n))}}class aU{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aU(aF.fromBase64String(e))}catch(e){throw new mM(rM,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new aU(aF.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sU{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new mM(rM,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FM(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uU{constructor(e){this._methodName=e}}class lU{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new mM(rM,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mM(rM,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return AM(this._lat,e._lat)||AM(this._long,e._long)}}class cU{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const hU=/^__.*__$/;class dU{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new wV(e,this.data,this.fieldMask,t,this.fieldTransforms):new bV(e,this.data,t,this.fieldTransforms)}}class fU{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wV(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw YL(40011,{it:e})}}class mU{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.st(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get it(){return this.settings.it}ot(e){return new mU(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ut(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ot({path:n,_t:!1});return r.ct(e),r}lt(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ot({path:n,_t:!1});return r.st(),r}ht(e){return this.ot({path:void 0,_t:!0})}ft(e){return NU(e,this.settings.methodName,this.settings.dt||!1,this.path,this.settings.Et)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}st(){if(this.path)for(let e=0;e<this.path.length;e++)this.ct(this.path.get(e))}ct(e){if(0===e.length)throw this.ft("Document fields must not be empty");if(pU(this.it)&&hU.test(e))throw this.ft('Document fields cannot begin and end with "__"')}}class gU{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||HV(e)}Tt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mU({it:e,methodName:t,Et:n,path:FM.emptyPath(),_t:!1,dt:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yU(e){const t=e._freezeSettings(),n=HV(e._databaseId);return new gU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vU(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Tt(o.merge||o.mergeFields?2:0,t,n,i);kU("Data must be an object, but it was:",a,r);const s=IU(r,a);let u,l;if(o.merge)u=new ZF(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=_U(t,r,n);if(!a.contains(i))throw new mM(rM,`Field '${i}' is specified in your field mask but missing from your input data.`);DU(e,i)||e.push(i)}u=new ZF(e),l=a.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,l=a.fieldTransforms;return new dU(new eV(s),u,l)}class bU extends uU{_toFieldTransform(e){if(2!==e.it)throw 1===e.it?e.ft(`${this._methodName}() can only appear at the top level of your update data`):e.ft(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bU}}function wU(e,t,n,r){const i=e.Tt(1,t,n);kU("Data must be an object, but it was:",i,r);const o=[],a=eV.empty();iF(r,((e,r)=>{const s=AU(t,e,n);r=kA(r);const u=i.lt(s);if(r instanceof bU)o.push(s);else{const e=TU(r,u);null!=e&&(o.push(s),a.set(s,e))}}));const s=new ZF(o);return new fU(a,s,i.fieldTransforms)}function EU(e,t,n,r,i,o){const a=e.Tt(1,t,n),s=[_U(t,r,n)],u=[i];if(o.length%2!=0)throw new mM(rM,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(_U(t,o[d])),u.push(o[d+1]);const l=[],c=eV.empty();for(let d=s.length-1;d>=0;--d)if(!DU(l,s[d])){const e=s[d];let t=u[d];t=kA(t);const n=a.lt(e);if(t instanceof bU)l.push(e);else{const r=TU(t,n);null!=r&&(l.push(e),c.set(e,r))}}const h=new ZF(l);return new fU(c,h,a.fieldTransforms)}function SU(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TU(n,e.Tt(r?4:3,t))}function TU(e,t){if(xU(e=kA(e)))return kU("Unsupported field value:",t,e),IU(e,t);if(e instanceof uU)return function(e,t){if(!pU(t.it))throw t.ft(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ft(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings._t&&4!==t.it)throw t.ft("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=TU(i,t.ht(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=kA(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hV(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=fF.fromDate(e);return{timestampValue:_V(t.serializer,n)}}if(e instanceof fF){const n=new fF(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_V(t.serializer,n)}}if(e instanceof lU)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof aU)return{bytesValue:CV(t.serializer,e._byteString)};if(e instanceof nU){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ft(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:DV(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof cU)return function(e,t){return{mapValue:{fields:{[yF]:{stringValue:wF},[EF]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.ft("VectorValues must only contain numeric values.");return cV(t.serializer,e)}))}}}}}}(e,t);throw t.ft(`Unsupported field value: ${zM(e)}`)}(e,t)}function IU(e,t){const n={};return function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):iF(e,((e,r)=>{const i=TU(r,t.ut(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xU(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fF||e instanceof lU||e instanceof aU||e instanceof nU||e instanceof uU||e instanceof cU)}function kU(e,t,n){if(!xU(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=zM(n);throw"an object"===r?t.ft(e+" a custom object"):t.ft(e+" "+r)}}function _U(e,t,n){if((t=kA(t))instanceof sU)return t._internalPath;if("string"==typeof t)return AU(e,t);throw NU("Field path arguments must be of type string or ",e,!1,void 0,n)}const CU=new RegExp("[~\\*/\\[\\]]");function AU(e,t,n){if(t.search(CU)>=0)throw NU(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new sU(...t.split("."))._internalPath}catch(r){throw NU(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function NU(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new mM(rM,s+e+u)}function DU(e,t){return e.some((e=>e.isEqual(t)))}class OU{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nU(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jU("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RU extends OU{data(){return super.data()}}class PU{constructor(e,t){this._docs=t,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return 0===this.docs.length}forEach(e,t){this._docs.forEach(e,t)}}function jU(e,t){return"string"==typeof t?AU(e,t):t instanceof sU?t._internalPath:t._delegate._internalPath}class LU{}class MU extends LU{}function FU(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof LU&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof UU)).length,n=e.filter((e=>e instanceof VU)).length;if(t>1||t>0&&n>0)throw new mM(rM,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class VU extends MU{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new VU(e,t,n)}_apply(e){const t=this._parse(e);return WU(e._query,t),new tU(e.firestore,e.converter,lV(e._query,t))}_parse(e){const t=yU(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new mM(rM,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){QU(a,o);const t=[];for(const n of a)t.push($U(r,e,n));s={arrayValue:{values:t}}}else s=$U(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||QU(a,o),s=SU(n,t,a,"in"===o||"not-in"===o);return LF.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class UU extends LU{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new UU(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:MF.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)WU(n,i),n=lV(n,i)}(e._query,t),new tU(e.firestore,e.converter,lV(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class BU extends MU{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new BU(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new mM(rM,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mM(rM,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new GF(t,n)}(e._query,this._field,this._direction);return new tU(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new iV(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function qU(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jU("orderBy",e);return BU._create(n,t)}class zU extends MU{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new zU(e,t,n)}_apply(e){return new tU(e.firestore,e.converter,function(e,t,n){return new iV(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(e._query,this._limit,this._limitType))}}function HU(e){return KM("limit",e),zU._create("limit",e,"F")}class KU extends MU{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new KU(e,t,n)}_apply(e){const t=GU(e,this.type,this._docOrFields,this._inclusive);return new tU(e.firestore,e.converter,function(e,t){return new iV(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function GU(e,t,n,r){if(n[0]=kA(n[0]),n[0]instanceof OU)return function(e,t,n,r,i){if(!r)throw new mM(oM,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const a of aV(e))if(a.field.isKeyField())o.push(CF(t,r.key));else{const e=r.data.field(a.field);if(pF(e))throw new mM(rM,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new mM(rM,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new PF(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=yU(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new mM(rM,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const s=[];for(let u=0;u<i.length;u++){const o=i[u];if(a[u].field.isKeyField()){if("string"!=typeof o)throw new mM(rM,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!oV(e)&&-1!==o.indexOf("/"))throw new mM(rM,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(LM.fromString(o));if(!VM.isDocumentKey(n))throw new mM(rM,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new VM(n);s.push(CF(t,i))}else{const e=SU(n,r,o);s.push(e)}}return new PF(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function $U(e,t,n){if("string"==typeof(n=kA(n))){if(""===n)throw new mM(rM,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oV(t)&&-1!==n.indexOf("/"))throw new mM(rM,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(LM.fromString(n));if(!VM.isDocumentKey(r))throw new mM(rM,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CF(e,new VM(r))}if(n instanceof nU)return CF(e,n._key);throw new mM(rM,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zM(n)}.`)}function QU(e,t){if(!Array.isArray(e)||0===e.length)throw new mM(rM,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function WU(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new mM(rM,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mM(rM,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class YU{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(SF(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lF(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cF(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw YL(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return iF(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[EF].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>lF(e.doubleValue)));return new cU(i)}convertGeoPoint(e){return new lU(lF(e.latitude),lF(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mF(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gF(e));default:return null}}convertTimestamp(e){const t=uF(e);return new fF(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=LM.fromString(e);JL(zV(n),9688,{name:e});const r=new kM(n.get(1),n.get(3)),i=new VM(n.popFirst(5));return r.isEqual(t)||$L(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function XU(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class JU extends YU{constructor(e){super(),this.firestore=e}convertBytes(e){return new aU(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nU(this.firestore,null,t)}}function ZU(e){!function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new mM(dM,"limitToLast() queries require specifying at least one orderBy() clause")}((e=HM(e,tU))._query);const t=YV(e.firestore),n=new JU(e.firestore);return async function(e,t){const n=ZL(e),{M:r,parent:i}=LV(n.serializer,sV(t));return(await n.D("RunQuery",n.serializer.databaseId,i,{structuredQuery:r.structuredQuery})).filter((e=>!!e.document)).map((e=>function(e,t,n){const r=PV(e,t.name),i=NV(t.updateTime),o=t.createTime?NV(t.createTime):$F.min(),a=new eV({mapValue:{fields:t.fields}}),s=tV.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(n.serializer,e.document,void 0)))}(t,e._query).then((t=>{const r=t.map((t=>new RU(e.firestore,n,t.key,t,e.converter)));return"L"===e._query.limitType&&r.reverse(),new PU(e,r)}))}(function(e){HL=e})(`${qN}_lite`),MN(new _A("firestore/lite",((e,t)=>{let{instanceIdentifier:n,options:r}=t;const i=e.getProvider("app").getImmediate(),o=new eU(new bM(e.getProvider("auth-internal")),new TM(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mM(rM,'"projectId" not provided in firebase.initializeApp.');return new kM(e.options.projectId,t)}(i,n),i);return r&&o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),HN("firestore-lite",qL,""),HN("firestore-lite",qL,"esm2017");const eB=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DN;const t=RN.get(e);if(!t&&e===DN&&gA())return zN();if(!t)throw UN.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=FN(n,"firestore/lite").getImmediate({identifier:r});if(!i._initialized){const e=mA("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=HM(e,eU))._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),s=`${t}:${n}`;o.host!==XV&&o.host!==s&&QL("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:s,ssl:!1,emulatorOptions:r});if(!IA(u,a)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=zL.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[hA(JSON.stringify({alg:"none",type:"JWT"})),hA(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new mM(rM,"mockUserToken must contain 'sub' or 'user_id' field!");n=new zL(o)}e._authCredentials=new vM(new gM(t,n))}}(i,...e)}return i}(zN({apiKey:"AIzaSyClLeHQJMt3BzbrK_AHpWeq0nlqzY2r5ik",authDomain:"money-39797.firebaseapp.com",projectId:"money-39797",storageBucket:"money-39797.appspot.com",messagingSenderId:"142963352306",appId:"1:142963352306:web:ac3c09e593009a5175666b",measurementId:"G-012VKYDZ07"})),tB=async(e,t)=>{var n;const r="stock2025",i=null===(n=t.payload)||void 0===n?void 0:n.row,o=e=>e.map((e=>e.inQty?{...e,amt:Math.floor(e.inQty*e.price*-1)}:e.outQty?{...e,amt:Math.floor(e.outQty*e.price)}:void 0)),a=e=>{let t=0;return e.map((e=>{t+=e.amt})),t},s=e=>{const t=Object.groupBy(e,(e=>{let{date:t}=e;return t})),n=[];return Object.keys(t).forEach((function(e){let r=0;t[e].map((e=>r+=e.amt)),n.push({date:e,sum:r,rows:t[e]})})),n},u=e=>{const t=Object.groupBy(e,(e=>{let{stockName:t}=e;return t})),n=[];return Object.keys(t).forEach((function(e){let r=0,i=0,o=0;t[e].map((e=>{r+=e.amt,o=e.inQty?e.inQty:-1*e.outQty,i+=Number(o)})),n.push({stockName:e,sum:r,qtys:i,rows:t[e]})})),n},l=async e=>{const t=FU(c,qU("date","desc"),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KU._create("startAfter",t,!1)}(e),HU(3)),n=await ZU(t),r=n.docs.map((e=>({...e.data(),id:e.id})));return{list:r,lastDoc:n.docs[n.docs.length-1]}},c=iU(eB,r);switch(t.type){case"FILTER":let n=e.dataCopy.filter((e=>e[t.payload.column]==t.payload[t.payload.column]));return{...e,data:n,total:a(n)};case"SET_SEARCH":return{...e,search:{...e.search,...t.payload}};case"SEARCH":let h=e.dataCopy;return""!=e.search.stockNo&&(console.log("stock no"),h=h.filter((t=>t.stockNo==e.search.stockNo))),""!=e.search.date&&(console.log("date"),h=h.filter((t=>t.date==e.search.date))),console.log(e.search),{...e,data:h};case"CLEAR_SEARCH":return{...e,data:e.dataCopy,total:0};case"LOAD":const d=FU(c,qU("date","desc"),HU(30)),f=await ZU(d),p=f.docs[f.docs.length-1],m=f.docs.map((e=>({...e.data(),id:e.id}))),g=o(m);return{...e,data:g,dataCopy:g,dataByDate:s(g),dataByStock:u(g),total:a(g),loading:!1,lastVisible:p};case"NEXT_PAGE":let y=await l(e.lastVisible);return console.log(y),{...e,lastVisible:y.lastDoc,data:e.data.concat(o(y.list))};case"EDIT":return{...e,editedRowIndex:t.payload.editedRowIndex,isEditFormOpen:!0};case"CLOSE_EDITFORM":return{...e,isEditFormOpen:!1};case"ADD":return{...e,editedRowIndex:-1,isEditFormOpen:!0};case"CREATE":const v=await function(e,t){const n=oU(e=HM(e,rU)),r=XU(e.converter,t),i=vU(yU(e.firestore),"addDoc",n._key,r,null!==n.converter,{});return $V(YV(e.firestore),[i.toMutation(n._key,yV.exists(!1))]).then((()=>n))}(iU(eB,r),{...i});return console.log(i),e.data.unshift({...i,id:v.id}),{...e,data:o(e.data),dataCopy:o(e.data),dataByDate:s(o(e.data)),dataByStock:u(o(e.data)),isEditFormOpen:!1,editedRowIndex:-1};case"UPDATE":const b=oU(eB,r,i.id);return await function(e,t,n){const r=yU((e=HM(e,nU)).firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=kA(t))||t instanceof sU?EU(r,"updateDoc",e._key,t,n,a):wU(r,"updateDoc",e._key,t),$V(YV(e.firestore),[i.toMutation(e._key,yV.exists(!0))])}(b,{...i}),Object.assign(e.data[e.editedRowIndex],i),{...e,isEditFormOpen:!1,editedRowIndex:-1,data:o(e.data),dataCopy:o(e.data)};case"DELETE":const w=t.payload.id;await function(e){return $V(YV((e=HM(e,nU)).firestore),[new EV(e._key,yV.none())])}(oU(eB,r,w));const E=e.data.filter((e=>e.id!=w));return{...e,data:E,dataCopy:e.dataCopy.filter((e=>e.id!=w)),dataByDate:s(o(E)),dataByStock:u(o(E)),isEditFormOpen:!1,editedRowIndex:-1}}},nB=JSON.parse('{"Y":[{"dataKey":"date","title":"\u65e5\u671f","type":"date","viewable":"true","editable":"true","width":"2"},{"dataKey":"stockNo","title":"\u4ee3\u865f","type":"text"},{"dataKey":"stockName","title":"\u80a1\u7968\u540d\u7a31","type":"text","editable":"true","viewable":"true"},{"dataKey":"inQty","title":"\u8cb7\u9032\u80a1\u6578","type":"number","viewable":"true","editable":"true","width":"2"},{"dataKey":"outQty","title":"\u8ce3\u51fa\u80a1\u6578","type":"number","viewable":"true","editable":"true","width":"2"},{"dataKey":"price","title":"$ \u55ae\u50f9","type":"number","viewable":"true","editable":"true","width":"2"},{"dataKey":"amt","title":"\u5c0f\u8a08","type":"number","viewable":"true","width":"2"},{"dataKey":"isClosed","title":"\u5c01\u5b58","type":"checkbox","viewable":"true","editable":"true","width":"2"}]}'),rB=e=>new Intl.NumberFormat("en-US",{currency:"USD"}).format(e);function iB(e){let{state:t,dispatch:n,columns:r,handleAdd:i,handleEdit:o,isEditable:a}=e;const{sortedColumn:s,direction:u,data:l,loading:c}=t,h=(e,t)=>{switch(e){case"date":return t.slice(5,10);case"amt":return rB(t);case"isClosed":return(0,rl.jsx)(Dl,{toggle:!0,checked:t});default:return t}};return(0,rl.jsxs)(rk,{celled:!0,sortable:!0,striped:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[r.map(((e,r)=>(0,rl.jsx)(rk.HeaderCell,{width:e.width,sorted:s==e.dataKey?u:null,onClick:()=>n({type:"SORT",payload:{sortedColumn:e.dataKey,type:e.type}}),children:"amt"==e.dataKey?rB(t.total):e.title},r))),a&&(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsxs)(Al,{primary:!0,loading:c,onClick:i,children:[(0,rl.jsx)($i,{name:"plus"}),"\u65b0\u589e"]})})]})}),(0,rl.jsx)(rk.Body,{children:l.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[r.map(((t,n)=>(0,rl.jsx)(rk.Cell,{children:h(t.dataKey,e[t.dataKey])},n))),a&&(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>o(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})}function oB(e){let{onChange:t,name:n,value:i}=e;const[o,a]=(0,r.useState)([]);return(async()=>{const e=(await Bx.collection("stockBasic").orderBy("stockNo").get()).docs.map((e=>{const{stockName:t,stockNo:n}=e.data();return{key:n,text:n+" "+t,value:n}}));a(e)})(),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u7968\u540d\u7a31"}),(0,rl.jsx)(oc.Select,{selection:!0,search:!0,clearable:!0,placeholder:"\u540d\u7a31",fluid:!0,options:o,name:n,value:i,onChange:t})]})}function aB(e){let{columns:t,state:n,dispatch:i,row:o,setRow:a}=e;t=t.filter((e=>e.editable));const{isEditFormOpen:s,editedRowIndex:u}=n,[l,c]=(0,r.useState)(!0);t=l?t.filter((e=>"inQty"!=e.dataKey)):t.filter((e=>"outQty"!=e.dataKey));const h=(e,n)=>{let r=[];return t.slice(e,e+n).map(((e,t)=>{switch(e.dataKey){case"stockName":r.push((0,rl.jsx)(oB,{value:o.stockNo,onChange:f},t));break;case"isClosed":r.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.title}),(0,rl.jsx)(Dl,{toggle:!0,onChange:p,checked:!!o.isClosed&&o.isClosed})]},t));break;default:r.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.title}),(0,rl.jsx)(oc.Input,{type:e.type,name:e.dataKey,value:o[e.dataKey],onChange:d})]},t))}})),r},d=e=>{a({...o,[e.target.name]:e.target.value})},f=(e,t)=>{const n=e.target.innerText.split(" ");a({...o,stockNo:t.value,stockName:n[1]})},p=(e,t)=>{console.log(t.checked),a({...o,isClosed:t.checked})};return(0,rl.jsx)("div",{children:(0,rl.jsxs)(Ek,{open:s,children:[(0,rl.jsxs)(Ek.Header,{children:["\u7de8\u8f2f",(0,rl.jsx)(Al,{floated:"right",onClick:()=>i({type:"CLOSE_EDITFORM"}),children:"X"})]}),(0,rl.jsxs)(Ek.Content,{children:[(0,rl.jsxs)(Ji,{secondary:!0,pointing:!0,widths:2,children:[(0,rl.jsx)(Ji.Item,{onClick:()=>c(!1),active:!l,color:"red",children:"\u8cb7\u9032"}),(0,rl.jsx)(Ji.Item,{onClick:()=>c(!0),active:l,color:"teal",children:"\u8ce3\u51fa"})]}),(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:h(r,e)},r));return n})(5)})]}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>{i(-1==u?{type:"CREATE",payload:{row:o}}:{type:"UPDATE",payload:{row:o}})},children:"\u5132\u5b58"}),u>-1&&(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:()=>{confirm("\u78ba\u5b9a\u522a\u9664\u55ce?")&&i({type:"DELETE",payload:{id:o.id}})},children:"\u522a\u9664"})]})]})})}const sB={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let uB;const lB=new Uint8Array(16);function cB(){if(!uB){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");uB=crypto.getRandomValues.bind(crypto)}return uB(lB)}const hB=[];for(let n=0;n<256;++n)hB.push((n+256).toString(16).slice(1));function dB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(hB[e[t+0]]+hB[e[t+1]]+hB[e[t+2]]+hB[e[t+3]]+"-"+hB[e[t+4]]+hB[e[t+5]]+"-"+hB[e[t+6]]+hB[e[t+7]]+"-"+hB[e[t+8]]+hB[e[t+9]]+"-"+hB[e[t+10]]+hB[e[t+11]]+hB[e[t+12]]+hB[e[t+13]]+hB[e[t+14]]+hB[e[t+15]]).toLowerCase()}const fB=function(e,t,n){if(sB.randomUUID&&!t&&!e)return sB.randomUUID();const r=(e=e||{}).random||(e.rng||cB)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return dB(r)};function pB(e){let{data:t}=e;return(0,rl.jsx)("div",{children:(0,rl.jsx)(cl,{stackable:!0,doubling:!0,columns:3,celled:!0,children:(0,rl.jsx)(ul,{children:t.map((e=>(0,rl.jsx)(al,{children:(0,rl.jsxs)(rk,{unstackable:!0,children:[(0,rl.jsx)(Wx,{children:(0,rl.jsxs)(tk,{children:[(0,rl.jsx)(Zx,{children:e.date.slice(5,10)}),(0,rl.jsx)(Zx,{children:"\u80a1\u6578"}),(0,rl.jsx)(Zx,{children:"\u55ae\u50f9"}),(0,rl.jsxs)(Zx,{children:[" ",rB(e.sum)]})]})}),(0,rl.jsx)(Kx,{children:e.rows.map((e=>(0,rl.jsxs)(tk,{children:[(0,rl.jsx)($x,{children:e.stockName}),(0,rl.jsx)($x,{children:e.inQty?(0,rl.jsx)(ns,{size:"large",basic:!0,color:"red",children:e.inQty}):(0,rl.jsx)(ns,{size:"large",basic:!0,color:"green",children:e.outQty})}),(0,rl.jsx)($x,{children:e.price}),(0,rl.jsx)($x,{children:rB(e.amt)})]},fB())))})]})},fB())))})})})}function mB(e){let{data:t}=e;return(0,rl.jsx)("div",{children:(0,rl.jsx)(cl,{stackable:!0,doubling:!0,columns:3,celled:!0,children:(0,rl.jsx)(ul,{children:t.map((e=>(0,rl.jsx)(al,{children:(0,rl.jsxs)(rk,{unstackable:!0,children:[(0,rl.jsx)(Wx,{children:(0,rl.jsxs)(tk,{children:[(0,rl.jsx)(Zx,{children:e.stockName}),(0,rl.jsxs)(Zx,{children:[e.qtys," \u80a1"]}),(0,rl.jsx)(Zx,{children:"\u55ae\u50f9"}),(0,rl.jsxs)(Zx,{children:[" ",rB(e.sum)]})]})}),(0,rl.jsx)(Kx,{children:e.rows.map((e=>(0,rl.jsxs)(tk,{children:[(0,rl.jsx)($x,{children:e.date}),(0,rl.jsx)($x,{children:e.inQty?(0,rl.jsx)(ns,{size:"large",basic:!0,color:"red",children:e.inQty}):(0,rl.jsx)(ns,{size:"large",basic:!0,color:"green",children:e.outQty})}),(0,rl.jsx)($x,{children:e.price}),(0,rl.jsx)($x,{children:rB(e.amt)})]},fB())))})]})},fB())))})})})}function gB(){const e={data:[],dataByDate:[],loading:!0,total:0,search:{date:(new Date).toISOString().substring(0,10),stockNo:""}},[t,n]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(tB,e),{Y:i}=nB,o={};i.filter((e=>e.editable)).map((e=>{o[e.dataKey]=""})),o.date=(new Date).toISOString().substring(0,10);const[a,s]=(0,r.useState)(o);(0,r.useEffect)((()=>{n({type:"LOAD"})}),[]);const u=()=>{s(o),n({type:"ADD"})},l=(e,t)=>{s(e),n({type:"EDIT",payload:{editedRowIndex:t}})},c=[{menuItem:"\u65e5\u671f\u5225",render:()=>(0,rl.jsx)(Dk,{children:(0,rl.jsx)(pB,{data:t.dataByDate})})},{menuItem:"\u80a1\u7968\u5225",render:()=>(0,rl.jsx)(Dk,{children:(0,rl.jsx)(mB,{data:t.dataByStock})})},{menuItem:"\u8868\u683c",render:()=>(0,rl.jsx)(Dk,{children:(0,rl.jsx)(iB,{state:t,dispatch:n,columns:i,isEditable:!0,handleAdd:u,handleEdit:l})})}],[h,d]=(0,r.useState)(!1);return(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsx)(Rk,{panes:c,menu:{color:"blue",secondary:!0,pointing:!0}}),(0,rl.jsx)(aB,{state:t,columns:i,dispatch:n,row:a,setRow:s})]})}function yB(e){let{rows:t,handleEdit:n,handleAdd:r,loading:i}=e;return(0,rl.jsx)("div",{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u59d3\u540d"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u53c3\u52a0\u4eba\u6578"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:"\u91d1\u984d"}),(0,rl.jsx)(rk.HeaderCell,{width:5,children:"\u5099\u8a3b"}),(0,rl.jsx)(rk.HeaderCell,{width:2,children:(0,rl.jsx)(Al,{primary:!0,onClick:r,loading:i,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:t.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.Cell,{children:e.name}),(0,rl.jsx)(rk.Cell,{children:e.people_qty}),(0,rl.jsx)(rk.Cell,{children:e.amount}),(0,rl.jsx)(rk.Cell,{children:e.note}),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>n(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}function vB(e){let{open:t,setOpen:n,row:r,handleChange:i,handleSave:o,handleDelete:a}=e;return(0,rl.jsx)("div",{children:(0,rl.jsxs)(Ek,{onClose:()=>n(!1),onOpen:()=>n(!0),open:t,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u7de8\u8f2f"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsxs)(oc,{children:[(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u59d3\u540d"}),(0,rl.jsx)("input",{type:"text",name:"name",value:r.name,onChange:i})]}),(0,rl.jsxs)(oc.Group,{children:[(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u53c3\u52a0\u4eba\u6578"}),(0,rl.jsx)("input",{type:"number",name:"people_qty",value:r.people_qty,onChange:i})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u91d1\u984d"}),(0,rl.jsx)("input",{type:"number",name:"amount",value:r.amount,onChange:i})]})]}),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u5099\u8a3b"}),(0,rl.jsx)("input",{type:"text",name:"note",value:r.note,onChange:i})]})]})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:o,children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:a,children:"\u522a\u9664"})]})]})})}function bB(e){let{loading:t,search:n,setSearch:r,handleQuery:i,handleQueryAll:o,rowsCount:a}=e;return(0,rl.jsx)("div",{children:(0,rl.jsx)(oc,{children:(0,rl.jsxs)(oc.Group,{children:[(0,rl.jsx)(oc.Input,{value:n.name,onChange:e=>{r({...n,name:e.target.value})}}),(0,rl.jsx)(oc.Button,{loading:t,color:"teal",onClick:i,children:"\u67e5\u8a62"}),(0,rl.jsxs)(oc.Button,{loading:t,color:"pink",onClick:o,children:["\u67e5\u8a62\u5168\u90e8 ",a]})]})})})}function wB(){const[e,t]=(0,r.useState)(!1);window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?t(!0):t(!1)};return e&&(0,rl.jsx)(Al,{size:"small",color:"pink",style:{position:"fixed",bottom:"10px",right:"10px",zIndex:"99"},onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},icon:"arrow up"})}function EB(e){var t=e.children,n=e.className,i=e.clearing,a=e.content,u=e.fitted,l=e.hidden,h=e.horizontal,d=e.inverted,f=e.section,p=e.vertical,m=s("ui",c(i,"clearing"),c(u,"fitted"),c(l,"hidden"),c(h,"horizontal"),c(d,"inverted"),c(f,"section"),c(p,"vertical"),"divider",n),g=y(EB,e),b=v(EB,e);return r.createElement(b,o({},g,{className:m}),Hn(t)?a:t)}EB.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],EB.propTypes={};const SB=EB;function TB(e){var t=e.children,n=e.className,i=e.content,a=s("sub header",n),u=y(TB,e),l=v(TB,e);return r.createElement(l,o({},u,{className:a}),Hn(t)?i:t)}TB.handledProps=["as","children","className","content"],TB.propTypes={},TB.create=Mr(TB,(function(e){return{content:e}}));const IB=TB;function xB(e){var t=e.children,n=e.className,i=e.content,a=s("content",n),u=y(xB,e),l=v(xB,e);return r.createElement(l,o({},u,{className:a}),Hn(t)?i:t)}xB.handledProps=["as","children","className","content"],xB.propTypes={};const kB=xB;function _B(e){var t=e.attached,n=e.block,i=e.children,a=e.className,u=e.color,l=e.content,f=e.disabled,m=e.dividing,g=e.floated,b=e.icon,w=e.image,E=e.inverted,S=e.size,T=e.sub,I=e.subheader,x=e.textAlign,k=s("ui",u,S,c(n,"block"),c(f,"disabled"),c(m,"dividing"),h(g,"floated"),c(!0===b,"icon"),c(!0===w,"image"),c(E,"inverted"),c(T,"sub"),d(t,"attached"),p(x),"header",a),_=y(_B,e),C=v(_B,e);if(!Hn(i))return r.createElement(C,o({},_,{className:k}),i);var A=$i.create(b,{autoGenerateKey:!1}),N=Xa.create(w,{autoGenerateKey:!1}),D=IB.create(I,{autoGenerateKey:!1});return A||N?r.createElement(C,o({},_,{className:k}),A||N,(l||D)&&r.createElement(kB,null,l,D)):r.createElement(C,o({},_,{className:k}),l,D)}_B.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],_B.propTypes={},_B.Content=kB,_B.Subheader=IB;const CB=_B;function AB(e){let{handleMoreData:t}=e;return(0,rl.jsx)("div",{children:(0,rl.jsx)(SB,{horizontal:!0,children:(0,rl.jsx)(CB,{children:(0,rl.jsx)(Al,{primary:!0,onClick:t,children:"\u8f09\u5165\u66f4\u591a"})})})})}function NB(e){let{loading:t,handleQueryRange:n,setSearch:r,search:i}=e;const o=e=>{r({...i,[e.target.name]:e.target.value})};return(0,rl.jsx)("div",{children:(0,rl.jsx)(oc,{children:(0,rl.jsxs)(oc.Group,{inline:!0,children:[(0,rl.jsx)(oc.Input,{label:"\u53c3\u52a0\u4eba\u6578",name:"from",onChange:o}),(0,rl.jsx)(oc.Input,{label:"-",name:"to",onChange:o}),(0,rl.jsx)(oc.Button,{loading:t,color:"teal",onClick:n,children:"\u67e5\u8a62"})]})})})}function DB(){const e={empName:"",basicAmt:""},[t,n]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[a,s]=(0,r.useState)(e),[u,l]=(0,r.useState)(-1),[c,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)({name:"",from:"",to:""}),[g,y]=(0,r.useState)(0),[v,b]=(0,r.useState)("");(0,r.useEffect)((()=>{w()}),[]);const w=async()=>{f(!0);const e=await Bx.collection("wedding2022").orderBy("id").limit(15).get(),t=e.docs.map((e=>({...e.data(),id:e.id})));n(t),o(t),f(!1);const r=await Bx.collection("wedding2022").get();y(r.size);const i=e.docs[e.docs.length-1];b(i),console.log(i)};return(0,rl.jsxs)("div",{children:[(0,rl.jsx)(NB,{search:p,setSearch:m,handleQueryRange:async()=>{f(!0);const e=(await Bx.collection("wedding2022").where("people_qty",">=",p.from).where("people_qty","<=",p.to).limit(20).get()).docs.map((e=>({...e.data(),id:e.id})));n(e),f(!1)}}),(0,rl.jsx)(bB,{loading:d,handleQuery:()=>{""!=p.name?n(i.filter((e=>e.name.includes(p.name)))):n(i)},search:p,setSearch:m,rowsCount:g}),(0,rl.jsx)(vB,{open:c,setOpen:h,row:a,handleChange:e=>{s({...a,[e.target.name]:e.target.value})},handleSave:()=>{if(-1==u)n([...t,{...a,id:nanoid()}]);else{const e=t.slice();Object.assign(e[u],a),n(e),l(-1)}s(e),h(!1)},handleDelete:()=>{n(t.filter((e=>e.id!=a.id))),h(!1)}}),(0,rl.jsx)(yB,{rows:t,handleAdd:()=>{h(!0),l(-1),s(e)},handleEdit:(e,t)=>{h(!0),s(e),l(t)}}),(0,rl.jsx)(AB,{handleMoreData:async()=>{f(!0);const e=await Bx.collection("wedding2022").orderBy("id").startAfter(v).limit(5).get(),r=e.docs.map((e=>({...e.data(),id:e.id})));n([...t,...r]),o([...i,...r]),f(!1),b(e.docs[e.docs.length-1])}}),(0,rl.jsx)(wB,{})]})}function OB(e){let{rows:t,columns:n,loading:r,handleAdd:i,handleEdit:o}=e;return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[n.map(((e,t)=>(0,rl.jsx)(rk.HeaderCell,{children:e.label},t))),(0,rl.jsx)(rk.HeaderCell,{width:2,children:(0,rl.jsx)(Al,{primary:!0,onClick:i,loading:r,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:t.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[n.map(((t,n)=>(0,rl.jsx)(rk.Cell,{children:e[t.name]},n))),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>o(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}const RB=JSON.parse('{"u":[{"id":1,"table":"maya","columns":[{"name":"date","label":"\u65e5\u671f","type":"date"},{"name":"name","label":"\u59d3\u540d","type":"text"},{"name":"score","label":"\u5206\u6578","type":"number"},{"name":"temple","label":"\u795e\u5edf","type":"number"}]},{"id":2,"table":"test","columns":[{"name":"name","label":"\u985e\u5225","type":"text"},{"name":"prior","label":"\u9806\u5e8f","type":"number"}]},{"id":3,"table":"balances","columns":[{"name":"date","label":"\u65e5\u671f","type":"date"},{"name":"cate","label":"\u985e\u5225","type":"text"},{"name":"title","label":"\u9805\u76ee","type":"text"},{"name":"expense","label":"\u652f\u51fa","type":"number"}]},{"id":4,"table":"cates","columns":[{"name":"name","label":"\u985e\u5225","type":"text"},{"name":"prior","label":"\u9806\u5e8f","type":"number"}]},{"id":5,"table":"stockStat","columns":[{"name":"stockId","label":"\u4ee3\u865f","type":"text"},{"name":"name","label":"\u540d\u7a31","type":"text"},{"name":"totalCost","label":"\u7e3d\u6210\u672c","type":"number"},{"name":"qtys","label":"\u80a1\u6578","type":"number"},{"name":"price","label":"\u73fe\u50f9","type":"number"}]},{"id":6,"table":"stockTransaction","columns":[{"name":"date","label":"\u65e5\u671f","type":"date"},{"name":"name","label":"\u540d\u7a31","type":"text"},{"name":"qty","label":"\u80a1\u6578","type":"number"},{"name":"cost","label":"\u91d1\u984d","type":"number"}]}]}');function PB(e){let{columns:t,row:n,setRow:r}=e;const i=e=>{r({...n,[e.target.name]:e.target.value})},o=(e,r)=>{let o=[];return t.slice(e,e+r).map(((e,t)=>{o.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)("input",{type:e.type,name:e.name,value:n[e.name],onChange:i})]},t))})),o};return(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:o(r,e)},r));return n})(2)})}function jB(e){let{setTable:t,handleTableQuery:n}=e;const r=RB.u.map((e=>({key:e.id,text:e.table,value:e.table})));return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsx)(oc,{children:(0,rl.jsxs)(oc.Group,{children:[(0,rl.jsx)(oc.Field,{children:(0,rl.jsx)(oc.Select,{onChange:(e,n)=>{let{value:r}=n;t(r)},placeholder:"\u9078\u64c7\u8cc7\u6599",options:r})}),(0,rl.jsx)(oc.Field,{children:(0,rl.jsx)(Al,{onClick:n,children:"\u67e5\u8a62"})})]})})})}const LB=async(e,t)=>(await Bx.collection(e).add(t)).id,MB=(e,t,n)=>{Bx.collection(e).doc(t).update(n)},FB=(e,t)=>{Bx.collection(e).doc(t).delete()};function VB(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)("stockStat"),[o,a]=(0,r.useState)([]),[s,u]=(0,r.useState)(!1),l={},[c,h]=(0,r.useState)(l),[d,f]=(0,r.useState)(-1);(0,r.useEffect)((()=>{a(RB.u.find((e=>e.table==n)).columns),p()}),[]);const p=async()=>{const e=(await Bx.collection(n).limit(5).get()).docs.map((e=>({...e.data(),id:e.id})));console.log(e),t(e)},m=()=>{t(e.filter((e=>e.id!=c.id))),u(!1),FB(n,c.id)};return(0,rl.jsxs)(rl.Fragment,{children:["123demo\u4e2d\u6587user.name user.email",(0,rl.jsx)(jB,{table:n,setTable:i,handleTableQuery:()=>{a(RB.u.find((e=>e.table==n)).columns),p()}}),(0,rl.jsxs)(Ek,{onClose:()=>u(!1),onOpen:()=>u(!0),open:s,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u6a19\u984c"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(PB,{row:c,setRow:h,handleDelete:m,columns:o})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>{-1==d?(async()=>{const r=await LB(n,c);t([{...c,id:r},...e]),console.log(r),u(!1)})():(()=>{console.log("update"),MB(n,c.id,c);const r=e.slice();Object.assign(r[d],c),t(r),f(-1),u(!1)})()},children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:m,children:"\u522a\u9664"})]})]}),(0,rl.jsx)(OB,{rows:e,handleAdd:()=>{u(!0),h(l),f(-1)},handleEdit:(e,t)=>{u(!0),h(e),f(t)},columns:o})]})}const UB=JSON.parse('{"Y":[{"name":"stockNo","label":"\u4ee3\u865f","type":"text","viewable":"true","editable":"true"},{"name":"stockName","label":"\u80a1\u7968\u540d\u7a31","type":"text","viewable":"true","editable":"true"}]}');const BB=async e=>{const t=(await Bx.collection(e).limit(10).get()).docs.map((e=>({...e.data(),id:e.id})));return t},qB=async(e,t)=>{var n,r;const i="test",o=null===(n=t.payload)||void 0===n?void 0:n.row,a=null===(r=t.payload)||void 0===r?void 0:r.index;let s=e.data.slice();switch(t.type){case"LOAD":return{...e,data:await BB(i),loading:!1};case"ADD":return{...e,open:!0,rowIndex:-1};case"CREATE":const t=await(async(e,t)=>(await Bx.collection(e).add(t)).id)(i,o);return s.unshift({...o,id:t}),{...e,data:s,open:!1,rowIndex:-1};case"EDIT":return{...e,open:!0,rowIndex:a};case"UPDATE":return(async(e,t,n)=>{await Bx.collection(e).doc(t).update(n)})(i,o.id,o),Object.assign(s[e.rowIndex],o),{...e,open:!1,data:s,rowIndex:-1};case"DELETE":return(async(e,t)=>{await Bx.collection(e).doc(t.id).delete()})(i,o),{...e,data:e.data.filter((e=>e.id!=o.id)),open:!1,rowIndex:-1};case"CLOSE":return{...e,open:!1}}};function zB(e){let{state:t,columns:n,handleAdd:r,handleEdit:i}=e;const{data:o,loading:a}=t;return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[n.map(((e,t)=>(0,rl.jsx)(rk.HeaderCell,{children:e.label},t))),(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsx)(Al,{primary:!0,onClick:r,loading:a,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:o.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[n.map(((t,n)=>(0,rl.jsx)(rk.Cell,{children:e[t.name]},n))),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>i(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}function HB(e){let{columns:t,state:n,dispatch:r,row:i,setRow:o}=e;t=t.filter((e=>e.editable));const a=e=>{o({...i,[e.target.name]:e.target.value})},s=(e,n)=>{let r=[];return t.slice(e,e+n).map(((e,t)=>{r.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)("input",{type:e.type,name:e.name,value:i[e.name],onChange:a})]},t))})),r};return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(Ek,{onClose:()=>r({type:"CLOSE"}),open:n.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u7de8\u8f2f"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:s(r,e)},r));return n})(2)})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>r({type:-1==n.rowIndex?"CREATE":"UPDATE",payload:{row:i}}),children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:()=>r({type:"DELETE",payload:{row:i}}),children:"\u522a\u9664"})]})]})})}function KB(e){let{handleChange:t,name:n,value:i}=e;const[o,a]=(0,r.useState)([]);return(async()=>{const e=(await Bx.collection("test").get()).docs.map((e=>{const{stockName:t}=e.data();return{key:t,text:t,value:t}}));a(e)})(),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u7968\u540d\u7a31"}),(0,rl.jsx)(oc.Select,{selection:!0,placeholder:"\u540d\u7a31",fluid:!0,options:o,name:n,value:i,onChange:t})]})}function GB(){const[e,t]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(qB,{data:[],loading:!0,rowIndex:-1,open:!1});(0,r.useEffect)((()=>{t({type:"LOAD"})}),[]);const n={},{Y:i}=UB;i.map((e=>{n[e.name]=""}));const[o,a]=(0,r.useState)(n);return(0,rl.jsxs)("div",{children:[(0,rl.jsx)(KB,{}),(0,rl.jsx)(HB,{columns:i,row:o,setRow:a,state:e,dispatch:t}),(0,rl.jsx)(zB,{columns:i,state:e,handleAdd:()=>{t({type:"ADD"}),a({...n,fromDate:(new Date).toISOString().substring(0,10)})},handleEdit:(e,n)=>{t({type:"EDIT",payload:{index:n}}),a(e)}})]})}const $B=JSON.parse('{"Y":[{"name":"stockNo","label":"\u4ee3\u865f","type":"text","viewable":"true","editable":"true"},{"name":"stockName","label":"\u80a1\u7968\u540d\u7a31","type":"text","viewable":"true","editable":"true"}]}');const QB=async e=>{const t=(await Bx.collection(e).limit(10).get()).docs.map((e=>({...e.data(),id:e.id})));return t},WB=async(e,t)=>{var n,r;const i="stockBasic",o=null===(n=t.payload)||void 0===n?void 0:n.row,a=null===(r=t.payload)||void 0===r?void 0:r.index;let s=e.data.slice();switch(t.type){case"LOAD":return{...e,data:await QB(i),loading:!1};case"ADD":return{...e,open:!0,rowIndex:-1};case"CREATE":const t=await(async(e,t)=>(await Bx.collection(e).add(t)).id)(i,o);return s.unshift({...o,id:t}),{...e,data:s,open:!1,rowIndex:-1};case"EDIT":return{...e,open:!0,rowIndex:a};case"UPDATE":return(async(e,t,n)=>{await Bx.collection(e).doc(t).update(n)})(i,o.id,o),Object.assign(s[e.rowIndex],o),{...e,open:!1,data:s,rowIndex:-1};case"DELETE":return(async(e,t)=>{await Bx.collection(e).doc(t.id).delete()})(i,o),{...e,data:e.data.filter((e=>e.id!=o.id)),open:!1,rowIndex:-1};case"CLOSE":return{...e,open:!1}}};function YB(e){let{state:t,columns:n,handleAdd:r,handleEdit:i}=e;const{data:o,loading:a}=t;return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[n.map(((e,t)=>(0,rl.jsx)(rk.HeaderCell,{children:e.label},t))),(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsx)(Al,{primary:!0,onClick:r,loading:a,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:o.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[n.map(((t,n)=>(0,rl.jsx)(rk.Cell,{children:e[t.name]},n))),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>i(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}function XB(e){let{columns:t,state:n,dispatch:r,row:i,setRow:o}=e;t=t.filter((e=>e.editable));const a=e=>{o({...i,[e.target.name]:e.target.value})},s=(e,n)=>{let r=[];return t.slice(e,e+n).map(((e,t)=>{r.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)("input",{type:e.type,name:e.name,value:i[e.name],onChange:a})]},t))})),r};return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(Ek,{onClose:()=>r({type:"CLOSE"}),open:n.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u7de8\u8f2f"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:s(r,e)},r));return n})(2)})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>r({type:-1==n.rowIndex?"CREATE":"UPDATE",payload:{row:i}}),children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:()=>r({type:"DELETE",payload:{row:i}}),children:"\u522a\u9664"})]})]})})}function JB(){const[e,t]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(WB,{data:[],loading:!0,rowIndex:-1,open:!1});(0,r.useEffect)((()=>{t({type:"LOAD"})}),[]);const n={},{Y:i}=$B;i.map((e=>{n[e.name]=""}));const[o,a]=(0,r.useState)(n);return(0,rl.jsxs)("div",{children:[(0,rl.jsx)(XB,{columns:i,row:o,setRow:a,state:e,dispatch:t}),(0,rl.jsx)(YB,{columns:i,state:e,handleAdd:()=>{t({type:"ADD"}),a(n)},handleEdit:(e,n)=>{t({type:"EDIT",payload:{index:n}}),a(e)}})]})}const ZB=JSON.parse('{"Y":[{"name":"stockNo","label":"\u4ee3\u865f","type":"text"},{"name":"stockName","label":"\u80a1\u7968\u540d\u7a31","type":"text","editable":"true","viewable":"true"},{"name":"costs","label":"\u8cfc\u5165\u6210\u672c","type":"number","editable":"true","viewable":"true"},{"name":"minusCosts","label":"\u5df2\u6524\u6210\u672c","type":"number","editable":"true","viewable":"true"},{"name":"leftCosts","label":"\u672a\u6524\u6210\u672c","type":"number","viewable":"true"},{"name":"soldAmt","label":"\u5df2\u552e\u91d1\u984d","type":"number","editable":"true","viewable":"true"},{"name":"inQtys","label":"\u8cfc\u5165\u80a1\u6578","type":"number","editable":"true"},{"name":"outQtys","label":"\u552e\u51fa\u80a1\u6578","type":"number","editable":"true"},{"name":"qtys","label":"\u9918\u80a1","type":"number","editable":"true","viewable":"true"},{"name":"price","label":"\u73fe\u50f9","type":"number","editable":"true","viewable":"true"},{"name":"avgCost","label":"\u5e73\u5747\u6210\u672c","type":"number","viewable":"true"},{"name":"leftAmt","label":"\u5e02\u503c","type":"number","editable":"true","viewable":"true"},{"name":"bonus","label":"\u9810\u4f30\u640d\u76ca","type":"number","viewable":"true"},{"name":"roi","label":"\u5831\u916c\u7387","type":"number","viewable":"true"},{"name":"fromDate","label":"\u958b\u59cb\u65e5","type":"date","editable":"true"}]}');const eq=async(e,t)=>{var n,r;const i="stockMaster",o=null===(n=t.payload)||void 0===n?void 0:n.index,a=null===(r=t.payload)||void 0===r?void 0:r.row;let s=e.data.slice();const u=e=>{let t=e.map((e=>{const{qtys:t,price:n,costs:r,soldAmt:i,inQtys:o,outQtys:a,minusCosts:s}=e;let u=0;t>0&&(u=Math.round((r-s)/t*100)/100);let l=0;l=Math.round((n-u)*t);let c=0;c=Math.round(l/(r-s)*1e4)/100;let h=0;return h=r-s,{...e,qtys:o-a,avgCost:u,costs:Math.round(r),minusCosts:Math.round(s),bonus:l,roi:c,leftCosts:h,leftAmt:Math.round(t*n)}}));return t.sort(((e,t)=>e.bonus<t.bonus?1:-1)),console.log(t),t},l=e=>{let t=0,n=0,r=0;return e.map((e=>{t+=e.bonus,n+=e.leftCosts,r+=e.leftAmt})),{bonus:t,leftCosts:n,leftAmt:r}};switch(t.type){case"SORT":let n="ascending",r=e.data;const c=t.payload.column,h=t.payload.type;return e.column==c?(n="ascending"==e.direction?"descending":"ascending",r=e.data.slice().reverse()):(n="ascending",r=e.data.slice().sort(((e,t)=>"number"==h?1*e[c]>1*t[c]?1:-1:e[c]>t[c]?1:-1))),{...e,data:r,column:c,direction:n};case"LOAD":const d=await(async e=>{let t=(await Bx.collection(e).limit(100).get()).docs.map((e=>({...e.data(),id:e.id})));return t})(i),f=u(d);return{...e,data:f,loading:!1,total:l(f)};case"ADD":return{...e,open:!0,rowIndex:-1};case"EDIT":return{...e,open:!0,rowIndex:o};case"CLOSE":return{...e,open:!1};case"CREATE":const p=await(async(e,t)=>(console.log(t),(await Bx.collection(e).add(t)).id))(i,a);return s.unshift({...a,id:p}),{...e,data:u(s),open:!1,rowIndex:-1};case"UPDATE":return(async(e,t,n)=>{await Bx.collection(e).doc(t).update(n)})(i,a.id,a),Object.assign(s[e.rowIndex],a),{...e,open:!1,data:u(s),rowIndex:-1};case"DELETE":return(async(e,t)=>{await Bx.collection(e).doc(t.id).delete()})(i,a),{...e,data:e.data.filter((e=>e.id!=a.id)),open:!1,rowIndex:-1}}};function tq(e){let{state:t,columns:n,handleEdit:r,handleAdd:i,dispatch:o}=e;const{loading:a,data:s,column:u,direction:l,total:c}=t;n=n.filter((e=>e.viewable)),console.log(c);const h=(e,t)=>{let n="green";switch(e[t.name]>0&&(n="pink"),t.name){case"stockName":return(0,rl.jsx)(Zu,{to:"/stock-detail/"+e[t.name]+"/fromDate/"+e.fromDate+"/toDate/"+e.toDate,children:e[t.name]});case"bonus":return(0,rl.jsx)(ns,{size:"large",basic:!0,color:n,children:rB(e[t.name])});case"roi":return(0,rl.jsxs)(ns,{size:"large",color:n,children:[e[t.name]," %"]});case"qtys":return(0,rl.jsx)(ns,{size:"large",color:"blue",circular:!0,children:e[t.name]});case"stockNo":return e[t.name];default:return rB(e[t.name])}};return(0,rl.jsx)("div",{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,sortable:!0,striped:!0,children:[(0,rl.jsxs)(rk.Header,{children:[(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.HeaderCell,{}),c&&(e=>e.map(((e,t)=>c[e.name]?(0,rl.jsx)(rk.HeaderCell,{children:rB(c[e.name])},t):(0,rl.jsx)(rk.HeaderCell,{},t))))(n)]}),(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsx)(Al,{primary:!0,onClick:i,loading:a,children:"\u65b0\u589e"})}),n.map(((e,t)=>(0,rl.jsxs)(rk.HeaderCell,{sorted:u==e.name?l:null,onClick:()=>o({type:"SORT",payload:{column:e.name,type:e.type}}),children:[e.label,(0,rl.jsx)("br",{}),e.name]},t)))]})]}),(0,rl.jsx)(rk.Body,{children:s.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>r(e,t),children:"\u7de8\u8f2f"})}),n.map(((t,n)=>(0,rl.jsx)(rk.Cell,{children:h(e,t)},n)))]},e.id)))})]})})}function nq(e){let{onChange:t,name:n,value:i}=e;const[o,a]=(0,r.useState)([]);return(async()=>{const e=(await Bx.collection("stockBasic").orderBy("stockNo").get()).docs.map((e=>{const{stockName:t,stockNo:n}=e.data();return{key:n,text:n+" "+t,value:n}}));a(e)})(),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u7968\u540d\u7a31"}),(0,rl.jsx)(oc.Select,{selection:!0,search:!0,placeholder:"\u540d\u7a31",fluid:!0,options:o,name:n,value:i,onChange:t})]})}function rq(e){let{columns:t,state:n,dispatch:r,row:i,setRow:o}=e;t=t.filter((e=>e.editable));const a=e=>{o({...i,[e.target.name]:e.target.value})},s=(e,t)=>{const n=e.target.innerText.split(" ");o({...i,stockNo:t.value,stockName:n[1]})},u=(e,n)=>{let r=[];return t.slice(e,e+n).map(((e,t)=>{"stockName"==e.name?r.push((0,rl.jsx)(nq,{value:i.stockNo,onChange:s},t)):r.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)(oc.Input,{type:e.type,name:e.name,value:i[e.name],onChange:a})]},t))})),r};return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(Ek,{onClose:()=>r({type:"CLOSE"}),open:n.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u7de8\u8f2f"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:u(r,e)},r));return n})(3)})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>r({type:-1==n.rowIndex?"CREATE":"UPDATE",payload:{row:i}}),children:"\u5132\u5b58"}),(0,rl.jsxs)(Al,{floated:"left",color:"red",onClick:()=>(e=>{confirm("\u78ba\u5b9a\u522a\u9664\u55ce?")&&r({type:"DELETE",payload:{row:e}})})(i),children:["\u522a\u9664",i.rowCounts]})]})]})})}function iq(){const[e,t]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(eq,{data:[],loading:!0,rowIndex:-1,open:!1});(0,r.useEffect)((()=>{t({type:"LOAD"})}),[]);let{Y:n}=ZB;const i={};n.filter((e=>e.editable)).map((e=>{i[e.name]=""})),i.fromDate=(new Date).toISOString().substring(0,10);const[o,a]=(0,r.useState)(i);return(0,rl.jsxs)("div",{children:[(0,rl.jsx)(Ju,{to:"/stock-detail",children:"\u4ea4\u6613\u660e\u7d30"}),(0,rl.jsx)(tq,{columns:n,state:e,dispatch:t,handleEdit:(e,n)=>{t({type:"EDIT",payload:{index:n}}),a(e)},handleAdd:()=>{t({type:"ADD"}),a(i)}}),(0,rl.jsx)(rq,{columns:n,row:o,setRow:a,state:e,dispatch:t})]})}const oq=JSON.parse('{"Y":[{"name":"transDate","label":"\u4ea4\u6613\u65e5","type":"date","editable":"true","viewable":"true"},{"name":"stockName","label":"\u80a1\u7968\u540d","type":"text","editable":"true","editType":"dropdown","viewable":"true"},{"name":"inQty","label":"\u8cb7\u5165\u80a1\u6578","type":"number","editable":"true","viewable":"true","color":"#e03997"},{"name":"outQty","label":"\u8ce3\u51fa\u80a1\u6578","type":"number","editable":"true","viewable":"true","color":"#00b5ad"},{"name":"price","label":"\u55ae\u50f9","type":"number","editable":"true","viewable":"true"},{"name":"amt","label":"\u5c0f\u8a08","type":"number","viewable":"true"},{"name":"bonus","label":"\u640d\u76ca","type":"number","viewable":"true"},{"name":"minusCost","label":"\u6524\u63d0\u6210\u672c","type":"number","viewable":"true"}]}');const aq=async(e,t)=>{const{stockName:n,inQty:r,outQty:i,price:o,minusCost:a}=e,s=await Bx.collection("stockMaster").where("stockName","==",n).get(),u=s.docs[0].id,l=s.docs[0].data();let{inQtys:c,outQtys:h,qtys:d,minusCosts:f,costs:p,soldAmt:m}=l;switch(t){case"created":r?(d=Number(d)+Number(r),c=Number(c)+Number(r),p=Math.round(Number(p)+r*o)):(f=Number(f)+a,d=Number(d)-Number(i),h=Number(h)+Number(i),m=Number(m)+Math.round(i*o));break;case"deleted":r?(d=Number(l.qtys)-Number(r),p=Number(l.costs)-Math.round(r*o),c=Number(c)-Number(r)):(d=Number(l.qtys)+Number(i),m=Number(l.soldAmt)-i*o,h=Number(h)-Number(i),f=Number(f)-a)}return await Bx.collection("stockMaster").doc(u).update({costs:p,soldAmt:m,qtys:d,inQtys:c,outQtys:h,minusCosts:f}),u},sq=async(e,t)=>{var n,r;const i="stockDetail",o=null===(n=t.payload)||void 0===n?void 0:n.index,a=null===(r=t.payload)||void 0===r?void 0:r.row;let s=e.data.slice();const u=e=>e.map((e=>{const{inQty:t,outQty:n,price:r}=e;let i=0;return t?i=Math.round(t*r):(i=Math.round(n*r*-1),console.log(i)),{...e,amt:i}})),l=e=>{let t=0,n=0,r=0,i=0,o=0,a=0,s=0,u=0,l=0;return e.map((e=>{let{amt:a,inQty:s,outQty:c,price:h,minusCost:d,bonus:f}=e;t+=a,console.log(f),l+=Number(f),n+=Number(s),r+=Number(c),i+=Math.round(s*h),o+=Math.round(c*h),d||(d=0),u+=d})),n>0&&(a=Math.round(i/n*100)/100),r>0&&(s=Math.round(o/r*100)/100),{amt:t,inQty:n,outQty:r,inAmt:i,outAmt:o,avgCost:a,avgSold:s,minusCost:u,bonus:l}};switch(t.type){case"FILTER":const n=t.payload.date,r=e.data.filter((e=>e.transDate==n));return{...e,data:r,total:l(r)};case"LOAD":let c=[];const h=e.search.stockName;if(h){const t=e.search.fromDate,n=e.search.toDate?e.search.toDate:"";c=await(async(e,t,n,r)=>{let i=Bx.collection(e).where("stockName","==",t);i=i.where("transDate",">=",n),r&&(i=i.where("transDate","<=",r)),i=await i.orderBy("transDate","desc").get();const o=i.docs.map((e=>({...e.data(),id:e.id})));return o})(i,h,t,n)}else c=await(async e=>{let t=(await Bx.collection(e).orderBy("transDate","desc").limit(50).get()).docs.map((e=>({...e.data(),id:e.id})));return t})(i);const d=u(c);return{...e,data:d,loading:!1,total:l(d)};case"ADD":return{...e,open:!0,rowIndex:-1};case"EDIT":return{...e,open:!0,rowIndex:o};case"CLOSE":return{...e,open:!1};case"CREATE":const f=await(async e=>{let t=(await Bx.collection("stockMaster").where("stockName","==",e).limit(10).get()).docs.map((e=>({...e.data(),id:e.id})));return t})(a.stockName);a.masterObj=f[0];const{price:p,outQty:m}=a;if(m){const{costs:e,minusCosts:t,qtys:n}=a.masterObj;let r=(e-t)/n;a.bonus=Math.round((p-r)*m),a.minusCost=Math.round(r*m)}const g=await(async(e,t)=>(await Bx.collection(e).add(t)).id)(i,a);return console.log(g),s.unshift({...a,id:g}),await aq(a,"created"),{...e,data:u(s),open:!1,rowIndex:-1,masterObj:f};case"UPDATE":return(async(e,t,n)=>{await Bx.collection(e).doc(t).update(n)})(i,a.id,a),Object.assign(s[e.rowIndex],a),{...e,open:!1,data:u(s),rowIndex:-1};case"DELETE":return await(async(e,t)=>{await Bx.collection(e).doc(t.id).delete()})(i,a),await aq(a,"deleted"),{...e,data:e.data.filter((e=>e.id!=a.id)),open:!1,rowIndex:-1}}};function uq(e){let{dispatch:t,state:n,columns:i,handleEdit:o,handleAdd:a}=e,{loading:s,data:u,total:l}=n;const c=(e,n,r)=>{switch(n.name){case"price":return e.inQty>0?(0,rl.jsx)("span",{style:{color:"#e03997"},children:e.price}):(0,rl.jsx)("span",{style:{color:"green"},children:e.price});case"amt":return e.inQty>0?(0,rl.jsx)("span",{style:{color:"#e03997"},children:e.amt}):(0,rl.jsx)("span",{style:{color:"green"},children:e.amt});case"inQty":return(0,rl.jsx)("span",{style:{color:"#e03997"},children:e.inQty});case"outQty":return(0,rl.jsx)("span",{style:{color:"green"},children:e.outQty});case"transDate":const i=null===r||void 0===r?void 0:r.transDate;return e[n.name]==i?(0,rl.jsx)(ns,{size:"large",children:e[n.name]}):(0,rl.jsx)(ns,{color:"teal",onClick:()=>{return n=e.transDate,t({type:"FILTER",payload:{date:n}}),void console.log(n);var n},size:"large",children:e[n.name]});default:return e[n.name]}},[h,d]=(0,r.useState)(!1),f=e=>{const t=e.masterObj,{costs:n,minusCosts:r,qtys:i}=t,o=n-r,a=Math.round(o/i*100)/100;return(0,rl.jsxs)(rk.Row,{positive:!0,children:[(0,rl.jsxs)(rk.Cell,{children:["qtys",i]}),(0,rl.jsxs)(rk.Cell,{colSpan:"8",children:["avgCost",a]})]},fB())},[p,m]=(0,r.useState)("");return"inQty"==p&&(u=u.filter((e=>""!=e.inQty)),i=i.filter((e=>"outQty"!=e.name))),"outQty"==p&&(u=u.filter((e=>""!=e.outQty)),i=i.filter((e=>"inQty"!=e.name))),(0,rl.jsxs)("div",{children:[(0,rl.jsx)(Al,{toggle:!0,active:h,onClick:()=>d(!h),children:"\u4e3b\u8868\u8cc7\u6599"}),(0,rl.jsx)(Al,{onClick:()=>{m("inQty"==p?"outQty":"inQty")},children:"\u5207\u63db\u8cb7\u8ce3"}),(0,rl.jsxs)(Al,{onClick:()=>{t({type:"LOAD"}),m("")},children:[(0,rl.jsx)($i,{name:"refresh"}),"\u8f09\u5165\u5168\u90e8"]}),(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsxs)(rk.Header,{children:[(0,rl.jsxs)(rk.Row,{children:[i.map(((e,t)=>(0,rl.jsxs)(rk.HeaderCell,{children:[e.label,(0,rl.jsx)("br",{}),e.name]},t))),(0,rl.jsx)(rk.HeaderCell,{})]}),(0,rl.jsxs)(rk.Row,{children:[(e=>e.map(((e,t)=>"inQty"==e.name?(0,rl.jsx)(rk.HeaderCell,{children:l.inQty},t):"outQty"==e.name?(0,rl.jsx)(rk.HeaderCell,{children:l.outQty},t):"amt"==e.name?(0,rl.jsxs)(rk.HeaderCell,{children:["inQty"==p&&l.inAmt,"outQty"==p&&l.outAmt,""==p&&l.amt]},t):(0,rl.jsx)(rk.HeaderCell,{children:l[e.name]},t))))(i),(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsx)(Al,{primary:!0,onClick:a,loading:s,children:"\u65b0\u589e"})})]})]}),(0,rl.jsx)(rk.Body,{children:u.map(((e,t)=>(0,rl.jsxs)(r.Fragment,{children:[(0,rl.jsxs)(rk.Row,{children:[i.map(((n,r)=>(0,rl.jsx)(rk.Cell,{children:c(e,n,u[t-1])},r))),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>o(e,t),children:"\u7de8\u8f2f"})})]}),h&&e.masterObj&&e.outQty&&f(e)]},e.id)))})]})]})}function lq(e){let{onChange:t,name:n,value:i}=e;const[o,a]=(0,r.useState)([]);return(async()=>{const e=(await Bx.collection("stockBasic").orderBy("stockNo").get()).docs.map((e=>{const{stockName:t,stockNo:n}=e.data();return{key:n,text:n+" "+t,value:n}}));a(e)})(),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u7968\u540d\u7a31"}),(0,rl.jsx)(oc.Select,{selection:!0,search:!0,placeholder:"\u540d\u7a31",fluid:!0,options:o,name:n,value:i,onChange:t})]})}function cq(e){let{columns:t,state:n,dispatch:r,row:i,setRow:o,isSold:a,setIsSold:s}=e;t=t.filter((e=>e.editable)),t=a?t.filter((e=>"inQty"!=e.name)):t.filter((e=>"outQty"!=e.name));const u=e=>{o({...i,[e.target.name]:e.target.value})},l=(e,t)=>{const n=e.target.innerText.split(" ");o({...i,stockNo:t.value,stockName:n[1]})},c=(e,n)=>{let r=[];return t.slice(e,e+n).map(((e,t)=>{"stockName"==e.name?r.push((0,rl.jsx)(lq,{value:i.stockNo,onChange:l},t)):r.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)(oc.Input,{type:e.type,name:e.name,value:i[e.name],onChange:u})]},t))})),r};return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(Ek,{onClose:()=>r({type:"CLOSE"}),open:n.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u7de8\u8f2f"}),(0,rl.jsxs)(Ek.Content,{children:[(0,rl.jsxs)(Ji,{secondary:!0,pointing:!0,widths:2,children:[(0,rl.jsx)(Ji.Item,{active:!a,color:"teal",onClick:()=>s(!1),children:"\u8cb7\u9032"}),(0,rl.jsx)(Ji.Item,{active:a,color:"orange",onClick:()=>s(!0),children:"\u8ce3\u51fa"})]}),(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:c(r,e)},r));return n})(2)})]}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>r({type:-1==n.rowIndex?"CREATE":"UPDATE",payload:{row:i}}),children:"\u5132\u5b58"}),(0,rl.jsxs)(Al,{floated:"left",color:"red",onClick:()=>(e=>{r({type:"DELETE",payload:{row:e}})})(i),children:["\u522a\u9664",i.rowCounts]})]})]})})}function hq(){let{stockName:e,fromDate:t,toDate:n}=xu();const i={data:[],loading:!0,rowIndex:-1,open:!1,search:{stockName:e,fromDate:t,toDate:n},total:{}},[o,a]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(sq,i);(0,r.useEffect)((()=>{a({type:"LOAD"})}),[]);let{Y:s}=oq;const u={};s.map((e=>{u[e.name]=""})),u.transDate=(new Date).toISOString().substring(0,10);const[l,c]=(0,r.useState)(u),[h,d]=(0,r.useState)(!1);return(0,rl.jsxs)("div",{children:[(0,rl.jsx)(Ju,{to:"/stock-master",children:"StockMaster"}),(0,rl.jsx)(uq,{columns:s,state:o,dispatch:a,handleEdit:(e,t)=>{a({type:"EDIT",payload:{index:t}}),c(e),e.inQty?d(!1):d(!0)},handleAdd:()=>{a({type:"ADD"}),c(u)}}),(0,rl.jsx)(cq,{columns:s,row:l,setRow:c,state:o,dispatch:a,isSold:h,setIsSold:d})]})}const dq=JSON.parse('{"Y":[{"name":"date","label":"\u65e5\u671f","type":"date","viewable":"true","editable":"true"},{"name":"title","label":"\u9805\u76ee","type":"text","viewable":"true","editable":"true"},{"name":"income","label":"\u6536\u5165","type":"text","viewable":"true","editable":"true"},{"name":"expense","label":"\u652f\u51fa","type":"text","viewable":"true","editable":"true"}]}');const fq=async(e,t)=>{var n,r;const i="balances",o=null===(n=t.payload)||void 0===n?void 0:n.row,a=null===(r=t.payload)||void 0===r?void 0:r.index;let s=e.data.slice();const u=e=>{let t=0,n=0;return e.map((e=>{e.income&&(t+=Number(e.income)),e.expense&&(n+=Number(e.expense))})),{income:t,expense:n}};switch(t.type){case"QUERY":const n=t.payload.fromDate,r=t.payload.toDate,l=await(async(e,t,n)=>{const r=(await Bx.collection(e).where("cate","==","\u5b58\u80a1").where("date",">=",t).where("date","<=",n).orderBy("date","desc").limit(20).get()).docs.map((e=>({...e.data(),id:e.id})));return r})(i,n,r);return{...e,data:l,total:u(l)};case"LOAD":const c=await(async e=>{const t=(await Bx.collection(e).where("cate","==","\u5b58\u80a1").orderBy("date","desc").limit(50).get()).docs.map((e=>({...e.data(),id:e.id})));return t})(i);return{...e,data:c,loading:!1,total:u(c)};case"ADD":return{...e,open:!0,rowIndex:-1};case"CREATE":o.cate="\u5b58\u80a1";const h=await(async(e,t)=>(await Bx.collection(e).add(t)).id)(i,o);return s.unshift({...o,id:h}),{...e,data:s,open:!1,rowIndex:-1};case"EDIT":return{...e,open:!0,rowIndex:a};case"UPDATE":return(async(e,t,n)=>{await Bx.collection(e).doc(t).update(n)})(i,o.id,o),Object.assign(s[e.rowIndex],o),{...e,open:!1,data:s,rowIndex:-1};case"DELETE":return(async(e,t)=>{await Bx.collection(e).doc(t.id).delete()})(i,o),{...e,data:e.data.filter((e=>e.id!=o.id)),open:!1,rowIndex:-1};case"CLOSE":return{...e,open:!1}}};function pq(e){let{state:t,columns:n,handleAdd:r,handleEdit:i}=e;const{data:o,loading:a,total:s}=t;console.log(s);return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsxs)(rk.Header,{children:[(0,rl.jsxs)(rk.Row,{children:[s&&(e=>e.map(((e,t)=>s[e.name]?(0,rl.jsx)(rk.HeaderCell,{children:rB(s[e.name])},t):(0,rl.jsx)(rk.HeaderCell,{},t))))(n),(0,rl.jsx)(rk.HeaderCell,{})]}),(0,rl.jsxs)(rk.Row,{children:[n.map(((e,t)=>(0,rl.jsx)(rk.HeaderCell,{children:e.label},t))),(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsx)(Al,{primary:!0,onClick:r,loading:a,children:"\u65b0\u589e"})})]})]}),(0,rl.jsx)(rk.Body,{children:o.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[n.map(((t,n)=>(0,rl.jsx)(rk.Cell,{children:e[t.name]},n))),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>i(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}function mq(e){let{columns:t,state:n,dispatch:r,row:i,setRow:o,isExpense:a,setIsExpense:s}=e;t=t.filter((e=>e.editable)),t=a?t.filter((e=>"income"!=e.name)):t.filter((e=>"expense"!=e.name));const u=e=>{o({...i,[e.target.name]:e.target.value})},l=(e,n)=>{let r=[];return t.slice(e,e+n).map(((e,t)=>{r.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)("input",{type:e.type,name:e.name,value:i[e.name],onChange:u})]},t))})),r};return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(Ek,{onClose:()=>r({type:"CLOSE"}),open:n.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u7de8\u8f2f"}),(0,rl.jsxs)(Ek.Content,{children:[(0,rl.jsxs)(Ji,{secondary:!0,pointing:!0,widths:2,children:[(0,rl.jsx)(Ji.Item,{active:!a,color:"teal",onClick:()=>s(!1),children:"\u6536\u5165"}),(0,rl.jsx)(Ji.Item,{active:a,color:"orange",onClick:()=>s(!0),children:"\u652f\u51fa"})]}),(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:l(r,e)},r));return n})(2)})]}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>r({type:-1==n.rowIndex?"CREATE":"UPDATE",payload:{row:i}}),children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:()=>r({type:"DELETE",payload:{row:i}}),children:"\u522a\u9664"})]})]})})}function gq(e){let{dispatch:t}=e;const[n,i]=(0,r.useState)((new Date).getFullYear()),[o,a]=(0,r.useState)((new Date).getMonth()),[s,u]=(0,r.useState)((new Date).toISOString().substring(0,10)),[l,c]=(0,r.useState)((new Date).toISOString().substring(0,10));(0,r.useEffect)((()=>{let e=12*n+o,t=Math.floor(e/12),r=e%12+1;r<10&&(r="0"+r),u(t+"-"+r+"-01"),e=12*n+o+1,t=Math.floor(e/12),r=e%12+1,r<10&&(r="0"+r);const i=new Date(t+"-"+r+"-01").addDays(-1);c(i.toISOString().substring(0,10))}),[o]),Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};return(0,rl.jsxs)("div",{children:[(0,rl.jsx)(Al,{icon:"arrow alternate circle left",onClick:()=>{a(o-1)}}),(0,rl.jsx)(Al,{content:"Query",onClick:()=>{console.log(o),t({type:"QUERY",payload:{fromDate:s,toDate:l}})}}),(0,rl.jsx)(Al,{icon:"arrow alternate circle right",onClick:()=>{a(o+1)}}),(0,rl.jsx)(Kl,{onChange:e=>u(e.target.value),type:"date",value:s}),(0,rl.jsx)(Kl,{onChange:e=>c(e.target.value),type:"date",value:l})]})}function yq(){const[e,t]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(fq,{data:[],loading:!0,rowIndex:-1,open:!1});(0,r.useEffect)((()=>{t({type:"LOAD"})}),[]);const n={},{Y:i}=dq;i.map((e=>{n[e.name]=""})),n.date=(new Date).toISOString().substring(0,10);const[o,a]=(0,r.useState)(n),[s,u]=(0,r.useState)(!1);return(0,rl.jsxs)("div",{children:[(0,rl.jsx)(gq,{dispatch:t}),(0,rl.jsx)(mq,{columns:i,row:o,setRow:a,state:e,dispatch:t,isExpense:s,setIsExpense:u}),(0,rl.jsx)(pq,{columns:i,state:e,handleAdd:()=>{t({type:"ADD"}),a(n)},handleEdit:(e,n)=>{t({type:"EDIT",payload:{index:n}}),a(e)}})]})}const vq=JSON.parse('{"u":[{"id":1,"table":"master","columns":[{"name":"stockNo","label":"\u4ee3\u865f","type":"text","editable":"true"},{"name":"stockName","label":"\u80a1\u7968\u540d\u7a31","type":"text","editable":"true"},{"name":"costs","label":"\u7e3d\u6210\u672c","type":"number","editable":"true"}]},{"id":2,"table":"detail","columns":[{"name":"transDate","label":"\u4ea4\u6613\u65e5","type":"date","editable":"true"},{"name":"stockName","label":"\u80a1\u7968\u540d","type":"text","editable":"true","editType":"dropdown"},{"name":"qty","label":"\u80a1\u6578","type":"number","editable":"true"},{"name":"price","label":"\u55ae\u50f9","type":"number","editable":"true"},{"name":"amt","label":"\u5c0f\u8a08","type":"number"}]},{"id":3,"table":"master3","columns":[{"name":"stockNo","label":"\u4ee3\u865f","type":"text","editable":"true"}]}]}'),bq=async(e,t)=>(await Bx.collection(e).add(t)).id,wq=async e=>{const t=(await Bx.collection(e).limit(10).get()).docs.map((e=>({...e.data(),id:e.id})));return t},Eq=(e,t,n)=>{Bx.collection(e).doc(t).update(n)};function Sq(e){let{rows:t,columns:n,handleEdit:r,handleAdd:i,loading:o}=e;return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[n.map(((e,t)=>(0,rl.jsx)(rk.HeaderCell,{children:e.label},t))),(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsx)(Al,{primary:!0,onClick:i,loading:o,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:t.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[n.map(((t,n)=>(0,rl.jsx)(rk.Cell,{children:e[t.name]},n))),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>r(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}const Tq=e=>e.map((e=>{const{qty:t,price:n}=e;return{...e,amt:t*n}}));function Iq(e){let{columns:t,row:n,setRow:r,handleChange:i}=e;const o=(e,r)=>{let o=[];return t.slice(e,e+r).map(((e,t)=>{e.editable&&o.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)("input",{type:e.type,name:e.name,value:n[e.name],onChange:i})]},t))})),o};return(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:o(r,e)},r));return n})(2)})}const xq=async(e,t)=>{switch(t.type){case"LOAD":let n=await wq("master");return{...e,data:n};case"ADD":console.log("ADD");const r=(new Date).toISOString().substring(0,10);return{...e,open:!0,row:{...e.defaultRow,transDate:r}};case"EDIT":const{row:i,index:o}=t.payload;return{...e,open:!0,row:i,rowIndex:o};case"CHANGE":return console.log(t.payload),{...e,row:{...e.row,[t.payload.name]:t.payload.value}};case"CREATE":const a=await bq("master",e.row);let s=e.data.slice();return s.unshift({...e.row,id:a}),{...e,data:s,open:!1,rowIndex:-1};case"UPDATE":Eq("master",e.row.id,e.row);const u=e.data.slice();return Object.assign(u[e.rowIndex],e.row),{...e,open:!1,data:u,rowIndex:-1};case"DELETE":return((e,t)=>{Bx.collection(e).doc(t).delete()})("master",e.row.id),{...e,data:e.data.filter((t=>t.id!=e.row.id)),open:!1,rowIndex:-1};case"CLOSE":return{...e,open:!1}}},kq=(e,t)=>{switch(t.type){case"ADD":const n=(new Date).toISOString().substring(0,10);return{...e,open:!0,row:{...e.defaultRow,transDate:n}};case"EDIT":const{row:r,index:i}=t.payload;return{...e,open:!0,row:r,rowIndex:i};case"CHANGE":return{...e,row:{...e.row,[t.payload.name]:t.payload.value}};case"CREATE":case"UPDATE":case"DELETE":return{...e,open:!1,rowIndex:-1};case"CLOSE":return{...e,open:!1}}};function _q(e){let{columns:t,row:n,setRow:r,handleChange:i}=e;const o=(e,r)=>{let o=[];return t.slice(e,e+r).map(((e,t)=>{e.editable&&o.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)(oc.Input,{type:e.type,name:e.name,value:n[e.name],onChange:i})]},t))})),o};return(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:o(r,e)},r));return n})(2)})}function Cq(){const e="master",t="detail",n=e=>vq.u.find((t=>t.table==e)).columns,i=n(e),o=n(t),[a,s]=(0,r.useState)([]),[u,l]=(0,r.useState)([]),[c,h]=(0,r.useState)(!1);(0,r.useEffect)((()=>{v({type:"LOAD"}),(async()=>{h(!0);let e=await wq(t);l(Tq(e)),h(!1)})()}),[]);const d={};o.map((e=>{d[e.name]=""}));const f={};i.map((e=>{f[e.name]=""}));const[p,m]=(0,r.useState)(f),g={data:[],open:!1,row:f,defaultRow:f,rowIndex:-1},[y,v]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(xq,g);const[b,w]=(0,r.useReducer)(kq,{open:!1,row:d,defaultRow:d,rowIndex:-1});return(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsx)(Sq,{columns:i,rows:y.data,handleAdd:()=>v({type:"ADD"}),handleEdit:(e,t)=>v({type:"EDIT",payload:{row:e,index:t}})}),(0,rl.jsxs)(Ek,{onClose:()=>v({type:"CLOSE"}),open:y.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u4e3b\u8868\u7de8\u8f2f"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(_q,{row:p,handleChange:e=>{m({...p,[e.target.name]:e.target.value})},columns:i})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>v({type:-1==y.rowIndex?"CREATE":"UPDATE"}),loading:c,children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:()=>v({type:"DELETE"}),children:"\u522a\u9664"})]})]}),(0,rl.jsx)(Sq,{columns:o,rows:u,handleAdd:()=>w({type:"ADD"}),handleEdit:(e,t)=>w({type:"EDIT",payload:{row:e,index:t}}),loading:c}),(0,rl.jsxs)(Ek,{onClose:()=>w({type:"CLOSE"}),open:b.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u6a19\u984c"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(Iq,{row:b.row,handleChange:e=>{w({type:"CHANGE",payload:{name:e.target.name,value:e.target.value}})},columns:o})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>{-1==b.rowIndex?(async()=>{h(!0);const e=await bq(t,b.row),n=Tq([{...b.row,id:e},...u]);l(n),h(!1),w({type:"CREATE"})})():(()=>{h(!0),Eq(t,b.row.id,b.row);const e=u.slice();Object.assign(e[b.rowIndex],b.row);const n=Tq(e);l(n),h(!1),w({type:"UPDATE"})})()},loading:c,children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:()=>w({type:"DELETE"}),children:"\u522a\u9664"})]})]})]})}const Aq=async(e,t)=>{const n=e=>e.map((e=>{const{qtys:t,price:n,costs:r}=e;return{...e,amt:Math.round(t*n),avgCost:Math.round(r/t*100)/100,bonus:Math.round(t*n-r),roi:Math.round((t*n-r)/r*1e4)/100+" %"}}));switch(t.type){case"LOAD":let r=await(async e=>{const t=(await Bx.collection(e).limit(10).get()).docs.map((e=>({...e.data(),id:e.id})));return t})(e.table);return{...e,data:n(r)};case"ADD":console.log("ADD");const i=(new Date).toISOString().substring(0,10);return{...e,open:!0,row:{...e.defaultRow,transDate:i}};case"EDIT":const{index:o}=t.payload;return{...e,open:!0,rowIndex:o};case"CHANGE":return console.log(t.payload),{...e,row:{...e.row,[t.payload.name]:t.payload.value}};case"CREATE":const a=t.payload.row,s=await(async(e,t)=>(await Bx.collection(e).add(t)).id)("master",a);let u=e.data.slice();return u.unshift({...a,id:s}),{...e,data:n(u),open:!1,rowIndex:-1};case"UPDATE":const l=t.payload.row;((e,t,n)=>{Bx.collection(e).doc(t).update(n)})("master",l.id,l);const c=e.data.slice();return Object.assign(c[e.rowIndex],l),{...e,open:!1,data:n(c),rowIndex:-1};case"DELETE":const h=t.payload.row;return console.log(h),((e,t)=>{Bx.collection(e).doc(t).delete()})("master",h.id),{...e,data:e.data.filter((e=>e.id!=h.id)),open:!1,rowIndex:-1};case"CLOSE":return{...e,open:!1}}},Nq=JSON.parse('{"u":[{"id":1,"table":"master","columns":[{"name":"stockNo","label":"\u4ee3\u865f","type":"text","editable":"true"},{"name":"stockName","label":"\u80a1\u7968\u540d\u7a31","type":"text","editable":"true"},{"name":"amt","label":"\u7e3d\u5e02\u503c","type":"number"},{"name":"costs","label":"\u7e3d\u6210\u672c","type":"number","editable":"true"},{"name":"bonus","label":"\u640d\u76ca","type":"number"},{"name":"qtys","label":"\u7e3d\u80a1\u6578","type":"number","editable":"true"},{"name":"avgCost","label":"\u5e73\u5747\u6210\u672c","type":"number"},{"name":"price","label":"\u6628\u6536\u50f9","type":"number","editable":"true"},{"name":"roi","label":"\u5831\u916c\u7387","type":"number"}]},{"id":2,"table":"detail","columns":[{"name":"transDate","label":"\u4ea4\u6613\u65e5","type":"date","editable":"true"},{"name":"stockName","label":"\u80a1\u7968\u540d","type":"text","editable":"true","editType":"dropdown"},{"name":"qty","label":"\u80a1\u6578","type":"number","editable":"true"},{"name":"price","label":"\u55ae\u50f9","type":"number","editable":"true"},{"name":"amt","label":"\u5c0f\u8a08","type":"number"}]}]}');function Dq(e){let{rows:t,columns:n,handleEdit:r,handleAdd:i,loading:o}=e;return(0,rl.jsx)(rl.Fragment,{children:(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[n.map(((e,t)=>(0,rl.jsx)(rk.HeaderCell,{children:e.label},t))),(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsx)(Al,{primary:!0,onClick:i,loading:o,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:t.map(((e,t)=>(0,rl.jsxs)(rk.Row,{children:[n.map(((t,n)=>(0,rl.jsx)(rk.Cell,{children:e[t.name]},n))),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>r(e,t),children:"\u7de8\u8f2f"})})]},e.id)))})]})})}function Oq(e){let{columns:t,row:n,handleChange:r}=e;const i=(e,i)=>{let o=[];return t.slice(e,e+i).map(((e,t)=>{e.editable&&o.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)(oc.Input,{type:e.type,name:e.name,value:n[e.name],onChange:r})]},t))})),o};return(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:i(r,e)},r));return n})(2)})}function Rq(){const e="master",t=(n=e,Nq.u.find((e=>e.table==n)).columns);var n;const i={};t.map((e=>{i[e.name]=""}));const[o,a]=(0,r.useState)(i),s={table:e,data:[],open:!1,rowIndex:-1};const[u,l]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(Aq,s);return(0,r.useEffect)((()=>{l({type:"LOAD"})}),[]),(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsx)(Dq,{columns:t,rows:u.data,handleAdd:()=>{l({type:"ADD"}),a(i)},handleEdit:(e,t)=>{l({type:"EDIT",payload:{index:t}}),a(e)}}),(0,rl.jsxs)(Ek,{onClose:()=>l({type:"CLOSE"}),open:u.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u4e3b\u8868\u7de8\u8f2f"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(Oq,{row:o,columns:t,handleChange:e=>{a({...o,[e.target.name]:e.target.value})}})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>l({type:-1==u.rowIndex?"CREATE":"UPDATE",payload:{row:o}}),children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:()=>l({type:"DELETE",payload:{row:o}}),children:"\u522a\u9664"})]})]})]})}const Pq=JSON.parse('{"t":"master","Y":[{"name":"stockNo","label":"\u4ee3\u865f","type":"text","editable":"true","viewable":"true"},{"name":"stockName","label":"\u80a1\u7968\u540d\u7a31","type":"text","editable":"true","viewable":"true"},{"name":"costs","label":"\u6210\u672c","type":"number","editable":"true","viewable":"true"},{"name":"soldAmt","label":"\u5df2\u552e\u91d1\u984d","type":"number","editable":"true","viewable":"true"},{"name":"qtys","label":"\u9918\u80a1","type":"number","editable":"true","viewable":"true"},{"name":"avgCost","label":"\u640d\u76ca\u5e73\u8861\u50f9","type":"number","viewable":"true"},{"name":"price","label":"\u73fe\u50f9","type":"number","editable":"true","viewable":"true"},{"name":"bonus","label":"\u9810\u4f30\u640d\u76ca","type":"number","editable":"true","viewable":"true"},{"name":"roi","label":"\u5831\u916c\u7387","type":"number","viewable":"true"},{"name":"fromDate","label":"\u958b\u59cb\u65e5","type":"date","viewable":"true","editable":"true"},{"name":"toDate","label":"\u7d50\u675f\u65e5","type":"date","viewable":"true","editable":"true"}]}');function jq(e){let{columns:t,rows:n,handleEdit:r,handleAdd:i,state:o,dispatch:a}=e;const s=(e,t,n)=>{let r="green";switch(e[t.name]>0&&(r="pink"),t.name){case"stockName":return(0,rl.jsx)(Zu,{to:"/demo-detail/"+e[t.name]+"/fromDate/"+e.fromDate+"/toDate/"+e.toDate,children:e[t.name]});case"bonus":return(0,rl.jsxs)(ns,{size:"large",basic:!0,color:r,children:["$",rB(e[t.name])]});case"costs":case"soldAmt":return rB(e[t.name]);case"roi":return(0,rl.jsxs)(ns,{size:"large",color:r,children:[e[t.name]," %"]});default:return e[t.name]}},{direction:u,loading:l,column:c,total:h}=o;return(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,sortable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[t.map(((e,t)=>(0,rl.jsx)(rk.HeaderCell,{sorted:c==e.name?u:null,onClick:()=>a({type:"SORT",payload:{column:e.name,type:e.type}}),children:e.label},t))),(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsx)(Al,{primary:!0,onClick:i,loading:l,children:"\u65b0\u589e"})})]})}),(0,rl.jsx)(rk.Body,{children:n.map(((e,n)=>(0,rl.jsxs)(rk.Row,{children:[t.map(((t,n)=>(0,rl.jsx)(rk.Cell,{children:s(e,t)},n))),(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>r(e,n),children:"\u7de8\u8f2f"})})]},e.id)))})]})}function Lq(e){let{columns:t,row:n,handleInputChange:r}=e;t=t.filter((e=>e.editable));const i=(e,i)=>{let o=[];return t.slice(e,e+i).map(((e,t)=>{o.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)(oc.Input,{type:e.type,name:e.name,value:n[e.name],onChange:r})]},t))})),o};return(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:i(r,e)},r));return n})(3)})}const Mq=async e=>{const t=(await Bx.collection(e).where("toDate","!=","").limit(30).get()).docs.map((e=>({...e.data(),id:e.id})));return t},Fq=async e=>{const t=(await Bx.collection(e).where("toDate","==","").limit(30).get()).docs.map((e=>({...e.data(),id:e.id})));return t},Vq=async(e,t)=>{const n=e.table,r=e=>e.map((e=>{const{qtys:t,price:n,costs:r,outQtys:i,soldAmt:o}=e;e.costs=Math.round(e.costs);let a=0;t>0&&(a=Math.round((r-o)/t*100)/100);let s=0;return s=0==t?o-r:Math.round((n-a)*t),{...e,amt:Math.round(t*n),avgCost:a,bonus:s,roi:Math.round(s/r*1e4)/100,leftQtys:t-i}})),i=e=>{let t=0;return e.map((e=>t+=Number(e.bonus))),t};switch(t.type){case"SORT":let o="ascending",a=e.data;const s=t.payload.column,u=t.payload.type;return e.column==s?(o="ascending"==e.direction?"descending":"ascending",a=e.data.slice().reverse()):(o="ascending",a=e.data.slice().sort(((e,t)=>"number"==u?1*e[s]>1*t[s]?1:-1:e[s]>t[s]?1:-1))),{...e,data:a,column:t.payload.column,direction:o};case"LOAD":let l=await Fq(n);return{...e,data:r(l),loading:!1,total:{bonus:i(r(l))}};case"LOAD_END":return{...e,data:r(await Mq(n)),loading:!1};case"LOAD_NOT_END":return{...e,data:r(await Fq(n)),loading:!1};case"ADD":return{...e,open:!0,rowIndex:-1};case"CREATE":const c=t.payload.row;let h=e.data.slice();const d=await(async(e,t)=>(await Bx.collection(e).add(t)).id)(n,c);return h.unshift({...c,id:d}),{...e,data:h,open:!1,rowIndex:-1};case"EDIT":const{index:f}=t.payload;return console.log(e),{...e,open:!0,rowIndex:f};case"UPDATE":const p=t.payload.row;((e,t,n)=>{Bx.collection(e).doc(t).update(n)})(n,p.id,p);const m=e.data.slice();return Object.assign(m[e.rowIndex],p),{...e,open:!1,data:r(m),rowIndex:-1};case"DELETE":const g=t.payload.row;return console.log("de"),(async(e,t)=>{await Bx.collection(e).doc(t.id).delete()})(n,g),{...e,data:e.data.filter((e=>e.id!=g.id)),open:!1,rowIndex:-1};case"CLOSE":return{...e,open:!1}}};function Uq(e){var t=e.children,n=e.className,i=e.color,a=e.content,u=e.horizontal,l=e.inverted,h=e.items,d=e.size,f=e.widths,p=s("ui",i,d,c(u,"horizontal"),c(l,"inverted"),g(f),"statistics",n),m=y(Uq,e),b=v(Uq,e);return Hn(t)?Hn(a)?r.createElement(b,o({},m,{className:p}),Yn(h,(function(e){return $q.create(e)}))):r.createElement(b,o({},m,{className:p}),a):r.createElement(b,o({},m,{className:p}),t)}Uq.handledProps=["as","children","className","color","content","horizontal","inverted","items","size","widths"],Uq.propTypes={};const Bq=Uq;function qq(e){var t=e.children,n=e.className,i=e.content,a=s("label",n),u=y(qq,e),l=v(qq,e);return r.createElement(l,o({},u,{className:a}),Hn(t)?i:t)}qq.handledProps=["as","children","className","content"],qq.propTypes={},qq.create=Mr(qq,(function(e){return{content:e}}));const zq=qq;function Hq(e){var t=e.children,n=e.className,i=e.content,a=e.text,u=s(c(a,"text"),"value",n),l=y(Hq,e),h=v(Hq,e);return r.createElement(h,o({},l,{className:u}),Hn(t)?i:t)}Hq.handledProps=["as","children","className","content","text"],Hq.propTypes={},Hq.create=Mr(Hq,(function(e){return{content:e}}));const Kq=Hq;function Gq(e){var t=e.children,n=e.className,i=e.color,a=e.content,u=e.floated,l=e.horizontal,d=e.inverted,f=e.label,p=e.size,m=e.text,g=e.value,b=s("ui",i,p,h(u,"floated"),c(l,"horizontal"),c(d,"inverted"),"statistic",n),w=y(Gq,e),E=v(Gq,e);return Hn(t)?Hn(a)?r.createElement(E,o({},w,{className:b}),Kq.create(g,{defaultProps:{text:m},autoGenerateKey:!1}),zq.create(f,{autoGenerateKey:!1})):r.createElement(E,o({},w,{className:b}),a):r.createElement(E,o({},w,{className:b}),t)}Gq.handledProps=["as","children","className","color","content","floated","horizontal","inverted","label","size","text","value"],Gq.propTypes={},Gq.Group=Bq,Gq.Label=zq,Gq.Value=Kq,Gq.create=Mr(Gq,(function(e){return{content:e}}));const $q=Gq;function Qq(){const[e,t]=(0,r.useState)(!1),n=(e,t)=>{const n=`https://www.twse.com.tw/rwd/zh/afterTrading/STOCK_DAY?date=${(()=>{const e=new Date;let t=e.getMonth()+1;return t<10&&(t="0"+t),e.getFullYear().toString()+t+"01"})()}&stockNo=${t}&response=json`;JC.get(n).then((n=>{const r=n.data.data.length,i=n.data.data[r-1][6];console.log(t,i),Bx.collection("master").doc(e).update({price:i})}))};return(0,rl.jsx)("div",{children:(0,rl.jsx)(Al,{loading:e,onClick:()=>{t(!0),Bx.collection("master").get().then((e=>{e.docs.map((e=>{n(e.id,e.data().stockNo)})),t(!1)}))},children:"\u66f4\u65b0\u80a1\u50f9"})})}function Wq(){const e=(()=>{let e=Pq.Y;return e=e.filter((e=>e.viewable)),e})(),t={table:Pq.t,data:[],loading:!0,total:{bonus:0}};const[n,i]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(Vq,t);(0,r.useEffect)((()=>{i({type:"LOAD"})}),[]);const o={};e.map((e=>{o[e.name]=""}));const[a,s]=(0,r.useState)(o),[u,l]=(0,r.useState)(!1);return(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsx)(oc,{children:(0,rl.jsxs)(oc.Group,{children:[u?(0,rl.jsx)(oc.Field,{children:(0,rl.jsx)(Al,{loading:n.loading,onClick:()=>{i({type:"LOAD_NOT_END"}),l(!1)},children:"\u5df2\u7d50\u675f"})}):(0,rl.jsx)(oc.Field,{children:(0,rl.jsx)(Al,{loading:n.loading,color:"olive",onClick:()=>{i({type:"LOAD_END"}),l(!0)},children:"\u9032\u884c\u4e2d"})}),(0,rl.jsx)(oc.Field,{children:(0,rl.jsx)(Qq,{})}),(0,rl.jsx)(oc.Field,{children:(0,rl.jsxs)($q,{color:n.total.bonus>0?"red":"green",size:"tiny",children:[(0,rl.jsxs)($q.Value,{children:["$",rB(n.total.bonus)]}),(0,rl.jsx)($q.Label,{children:"\u9810\u4f30\u640d\u76ca"})]})})]})}),(0,rl.jsx)(jq,{columns:e,rows:n.data,state:n,dispatch:i,handleAdd:()=>{i({type:"ADD"}),s({...o,fromDate:(new Date).toISOString().substring(0,10)})},handleEdit:(e,t)=>{i({type:"EDIT",payload:{index:t}}),s(e)}}),(0,rl.jsxs)(Ek,{onClose:()=>i({type:"CLOSE"}),open:n.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u7de8\u8f2f"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(Lq,{row:a,columns:e,handleInputChange:e=>{s({...a,[e.target.name]:e.target.value})},handleStockChange:(e,t)=>{let{value:n}=t;s({...a,stockName:n})}})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>i({type:-1==n.rowIndex?"CREATE":"UPDATE",payload:{row:a}}),children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:()=>i({type:"DELETE",payload:{row:a}}),children:"\u522a\u9664"})]})]})]})}const Yq=JSON.parse('{"Y":[{"name":"stockName","label":"\u80a1\u7968\u540d","type":"text","editable":"true","editType":"dropdown","viewable":"true"},{"name":"transDate","label":"\u4ea4\u6613\u65e5","type":"date","editable":"true","viewable":"true"},{"name":"inQty","label":"\u8cb7\u5165\u80a1\u6578","type":"number","editable":"true","viewable":"true"},{"name":"outQty","label":"\u8ce3\u51fa\u80a1\u6578","type":"number","editable":"true","viewable":"true"},{"name":"price","label":"\u55ae\u50f9","type":"number","editable":"true","viewable":"true"},{"name":"amt","label":"\u5c0f\u8a08","type":"number","viewable":"true"},{"name":"qtys","label":"\u9918\u80a1","type":"number"},{"name":"inAmt","label":"\u7d2f\u8a08\u8cfc\u5165\u91d1\u984d","type":"number"},{"name":"outAmt","label":"\u7d2f\u8a08\u552e\u51fa\u91d1\u984d","type":"number"}]}');function Xq(e){let{columns:t,rows:n,handleAdd:r,loading:i,handleEdit:o,dispatch:a,total:s}=e;return console.log(s),(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsx)(Al,{onClick:()=>{a({type:"LOAD"})},children:"\u5168\u90e8"}),(0,rl.jsxs)(rk,{celled:!0,unstackable:!0,sortable:!0,children:[(0,rl.jsx)(rk.Header,{children:(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.HeaderCell,{children:(0,rl.jsx)(Al,{primary:!0,onClick:r,loading:i,children:"\u65b0\u589e"})}),t.map(((e,t)=>"amt"==e.name?(0,rl.jsx)(rk.HeaderCell,{children:0==s.amt?"\u5c0f\u8a08":"$ "+rB(s.amt)},t):(0,rl.jsx)(rk.HeaderCell,{children:e.label},t)))]})}),(0,rl.jsx)(rk.Body,{children:n.map(((e,n)=>(0,rl.jsxs)(rk.Row,{children:[(0,rl.jsx)(rk.Cell,{children:(0,rl.jsx)(Al,{onClick:()=>o(e,n),children:"\u7de8\u8f2f"})}),t.map(((t,n)=>"amt"==t.name?(0,rl.jsxs)(rk.Cell,{children:["$ ",rB(e[t.name])]},n):(0,rl.jsx)(rk.Cell,{onClick:()=>{return n=e[t.name],void a({type:"FILTER",payload:{value:n}});var n},children:e[t.name]},n)))]},e.id)))})]})]})}function Jq(e){let{onChange:t,value:n}=e;const[i,o]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async e=>{const t=(await Bx.collection(e).limit(20).orderBy("stockNo").get()).docs.map((e=>{const t=e.data().stockNo,n=e.data().stockName;return{key:n,text:t+" "+n,value:n}}));o(t)})("master")}),[]),(0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:"\u80a1\u7968\u540d\u7a31"}),(0,rl.jsx)(oc.Select,{selection:!0,search:!0,placeholder:"\u540d\u7a31",fluid:!0,options:i,onChange:t,name:"stockName",value:n})]})}function Zq(e){let{columns:t,row:n,handleInputChange:r,handleStockChange:i,isSold:o,setIsSold:a}=e;t=o?t.filter((e=>"inQty"!=e.name)):t.filter((e=>"outQty"!=e.name));const s=(e,o)=>{let a=[];return t.slice(e,e+o).map(((e,t)=>{e.editable&&("stockName"==e.name?a.push((0,rl.jsx)(Jq,{value:n.stockName,onChange:i},t)):a.push((0,rl.jsxs)(oc.Field,{children:[(0,rl.jsx)("label",{children:e.label}),(0,rl.jsx)(oc.Input,{type:e.type,name:e.name,value:n[e.name],onChange:r})]},t)))})),a};return(0,rl.jsxs)(rl.Fragment,{children:[(0,rl.jsxs)(Ji,{secondary:!0,pointing:!0,widths:2,children:[(0,rl.jsx)(Ji.Item,{active:!o,color:"teal",onClick:()=>a(!1),children:"\u8cb7\u9032"}),(0,rl.jsx)(Ji.Item,{active:o,color:"orange",onClick:()=>a(!0),children:"\u8ce3\u51fa"})]}),(0,rl.jsx)(oc,{children:(e=>{const n=[];for(let r=0;r<t.length;r++)r%e==0&&n.push((0,rl.jsx)(oc.Group,{widths:e,children:s(r,e)},r));return n})(4)})]})}const ez=async(e,t,n,r)=>{console.log(String(n));const i=(await Bx.collection(e).where("stockName","==",t).where("transDate",">=",String(n)).where("transDate","<=",String(r)).get()).docs.map((e=>({...e.data(),id:e.id})));return i},tz=(e,t,n)=>{Bx.collection(e).doc(t).update(n)},nz=async(e,t)=>{const n=e.table,r=e=>e.map((e=>{const{inQty:t,outQty:n,price:r}=e;let i=0;return i=t?Math.round(t*r):Math.round(n*r),{...e,amt:i}})),i=e=>{const t={amt:0,qty:0,inQtys:0,outQtys:0,inAmt:0,outAmt:0};return e.map((e=>{e.inQty?t.amt+=Number(e.amt):t.amt-=Number(e.amt)})),t};let o=[];switch(t.type){case"FILTER":const a=t.payload.value,s=e.data.filter((e=>e.transDate==a));return{...e,data:s,total:i(s)};case"LOAD_BY_NAME":let u=[];return u=await ez("master",e.search.stockName),o=await ez(e.table,e.search.stockName,e.search.fromDate,e.search.toDate),o.sort(((e,t)=>e.transDate<t.transDate?1:-1)),{...e,data:r(o),masterData:u[0]};case"LOAD":return o=await(async e=>{const t=(await Bx.collection(e).orderBy("transDate","desc").limit(20).get()).docs.map((e=>({...e.data(),id:e.id})));return t})(e.table),{...e,data:r(o),masterData:[],total:{amt:0}};case"ADD":return{...e,open:!0,rowIndex:-1};case"CREATE":const l=t.payload.row;let c=e.data.slice(),h=await ez("master",l.stockName);const d=h[0].id,f=h[0].qtys,p=h[0].costs,m=h[0].soldAmt;let g=0,y=0;l.inQty?(console.log("in"),g=Number(f)+Number(l.inQty),y=Number(p)+Math.round(Number(l.inQty)*Number(l.price)),l.qtys=g,l.inAmt=y,tz("master",d,{qtys:g,costs:y})):(console.log("out"),g=Number(f)-Number(l.outQty),y=Number(m)+Math.round(Number(l.outQty)*Number(l.price)),l.qtys=g,l.outAmt=y,tz("master",d,{qtys:g,soldAmt:y}));const v=await(async(e,t)=>(await Bx.collection(e).add(t)).id)(n,l);return c.unshift({...l,id:v}),{...e,data:r(c),open:!1,rowIndex:-1};case"EDIT":const{index:b}=t.payload;return{...e,open:!0,rowIndex:b};case"UPDATE":const w=t.payload.row;tz(n,w.id,w);const E=e.data.slice();return Object.assign(E[e.rowIndex],w),{...e,open:!1,data:E,rowIndex:-1};case"DELETE":console.log("de");const S=t.payload.row;(async(e,t)=>{await Bx.collection(e).doc(t.id).delete()})(n,S);let T=await ez("master",S.stockName);return S.inQty?tz("master",T[0].id,{qtys:Number(T[0].qtys)-Number(S.inQty),costs:Number(T[0].costs)-Math.round(Number(S.inQty)*Number(S.price))}):tz("master",T[0].id,{qtys:Number(T[0].qtys)+Number(S.outQty),soldAmt:Number(T[0].soldAmt)-Math.round(Number(S.outQty)*Number(S.price))}),{...e,data:e.data.filter((e=>e.id!=S.id)),open:!1,rowIndex:-1};case"CLOSE":return{...e,open:!1}}};function rz(e){let{data:t,stockName:n,fromDate:i,toDate:o}=e;const[a,s]=(0,r.useState)([]);(0,r.useEffect)((()=>{Bx.collection("master").where("stockName","==",n).where("fromDate","==",i).onSnapshot((e=>{var t=[];e.forEach((e=>{t.push(e.data())})),s(u(t[0])),console.log(t)}))}),[]);const u=e=>{const{qtys:t,price:n,costs:r,outQtys:i,soldAmt:o}=e;let a=0;t>0&&(a=Math.round((r-o)/t*100)/100);let s=0;return s=0==t?o-r:Math.round((n-a)*t),{...e,avgCost:a,bonus:s,roi:Math.round(s/r*1e4)/100}};(()=>{let e=Pq.Y;e=e.filter((e=>e.viewable))})();return(0,rl.jsxs)("div",{children:[(0,rl.jsxs)($q,{size:"small",children:[(0,rl.jsx)($q.Value,{children:a.qtys}),(0,rl.jsx)($q.Label,{children:"\u9918\u80a1"})]}),(0,rl.jsxs)($q,{size:"small",children:[(0,rl.jsx)($q.Value,{children:a.avgCost}),(0,rl.jsx)($q.Label,{children:"\u640d\u76ca\u5e73\u8861\u50f9"})]}),(0,rl.jsxs)($q,{size:"small",children:[(0,rl.jsx)($q.Value,{children:a.price}),(0,rl.jsx)($q.Label,{children:"\u73fe\u50f9"})]}),(0,rl.jsxs)($q,{color:a.bonus>0?"red":"green",children:[(0,rl.jsx)($q.Value,{children:a.bonus}),(0,rl.jsx)($q.Label,{children:"\u9810\u4f30\u640d\u76ca"})]}),(0,rl.jsxs)($q,{color:a.roi>0?"red":"green",children:[(0,rl.jsx)($q.Value,{children:a.roi}),(0,rl.jsx)($q.Label,{children:"\u5831\u916c\u7387"})]})]})}function iz(){const e=(()=>{let e=Yq.Y;return e=e.filter((e=>e.viewable)),e})();let{stockName:t,fromDate:n,toDate:i}=xu();const o={table:"detail",data:[],total:{amt:0},search:{stockName:t,fromDate:n,toDate:i},masterData:null};const[a,s]=function(e,t){const[n,i]=(0,r.useState)(t);return[n,async t=>i(await e(n,t))]}(nz,o);(0,r.useEffect)((()=>{t?console.log("a"):console.log("b"),s(t?{type:"LOAD_BY_NAME"}:{type:"LOAD"})}),[t]);const u={};e.map((e=>{u[e.name]="",u.stockName=t}));const[l,c]=(0,r.useState)(u),[h,d]=(0,r.useState)(!1);return(0,rl.jsxs)(rl.Fragment,{children:[t&&(0,rl.jsx)(rz,{data:a.masterData,stockName:t,fromDate:n,toDate:i}),(0,rl.jsx)(Xq,{columns:e,rows:a.data,dispatch:s,total:a.total,handleAdd:()=>{s({type:"ADD"}),c({...u,transDate:(new Date).toISOString().substring(0,10)})},handleEdit:(e,t)=>{s({type:"EDIT",payload:{index:t}}),c(e)}}),(0,rl.jsxs)(Ek,{onClose:()=>s({type:"CLOSE"}),open:a.open,closeIcon:!0,children:[(0,rl.jsx)(Ek.Header,{children:"\u7de8\u8f2f"}),(0,rl.jsx)(Ek.Content,{children:(0,rl.jsx)(Zq,{row:l,columns:e,handleInputChange:e=>{c({...l,[e.target.name]:e.target.value})},handleStockChange:(e,t)=>{let{value:n}=t;c({...l,stockName:n})},isSold:h,setIsSold:d})}),(0,rl.jsxs)(Ek.Actions,{children:[(0,rl.jsx)(Al,{primary:!0,onClick:()=>s({type:-1==a.rowIndex?"CREATE":"UPDATE",payload:{row:l}}),children:"\u5132\u5b58"}),(0,rl.jsx)(Al,{floated:"left",color:"red",onClick:()=>s({type:"DELETE",payload:{row:l}}),children:"\u522a\u9664"})]})]})]})}function oz(){return(0,rl.jsx)(Gn,{children:(0,rl.jsxs)(Wu,{children:[(0,rl.jsx)(il,{}),(0,rl.jsxs)(Bu,{children:[(0,rl.jsx)(Vu,{path:"/",element:(0,rl.jsx)(iq,{})}),(0,rl.jsx)(Vu,{path:"/login",element:(0,rl.jsx)(zx,{})}),(0,rl.jsx)(Vu,{path:"/stock",element:(0,rl.jsx)(sA,{})}),(0,rl.jsx)(Vu,{path:"/stock2025",element:(0,rl.jsx)(gB,{})}),(0,rl.jsx)(Vu,{path:"/maya",element:(0,rl.jsx)(Tk,{})}),(0,rl.jsx)(Vu,{path:"/money",element:(0,rl.jsx)(DB,{})}),(0,rl.jsx)(Vu,{path:"/demo",element:(0,rl.jsx)(VB,{})}),(0,rl.jsx)(Vu,{path:"/demo1",element:(0,rl.jsx)(GB,{})}),(0,rl.jsx)(Vu,{path:"/stock-money",element:(0,rl.jsx)(yq,{})}),(0,rl.jsx)(Vu,{path:"/stock-basic",element:(0,rl.jsx)(JB,{})}),(0,rl.jsx)(Vu,{path:"/stock-master",element:(0,rl.jsx)(iq,{})}),(0,rl.jsx)(Vu,{path:"/stock-detail",element:(0,rl.jsx)(hq,{})}),(0,rl.jsx)(Vu,{path:"/stock-detail/:stockName/fromDate/:fromDate/toDate",element:(0,rl.jsx)(hq,{})}),(0,rl.jsx)(Vu,{path:"/stock-detail/:stockName/fromDate/:fromDate/toDate/:toDate",element:(0,rl.jsx)(hq,{})}),(0,rl.jsx)(Vu,{path:"/demo4",element:(0,rl.jsx)(Cq,{})}),(0,rl.jsx)(Vu,{path:"/demo5",element:(0,rl.jsx)(Rq,{})}),(0,rl.jsx)(Vu,{path:"/demo-detail",element:(0,rl.jsx)(iz,{})}),(0,rl.jsx)(Vu,{path:"/demo-detail/:stockName",element:(0,rl.jsx)(iz,{})}),(0,rl.jsx)(Vu,{path:"/demo-detail/:stockName/fromDate/:fromDate",element:(0,rl.jsx)(iz,{})}),(0,rl.jsx)(Vu,{path:"/demo-detail/:stockName/fromDate/:fromDate/toDate",element:(0,rl.jsx)(iz,{})}),(0,rl.jsx)(Vu,{path:"/demo-detail/:stockName/fromDate/:fromDate/toDate/:toDate",element:(0,rl.jsx)(iz,{})}),(0,rl.jsx)(Vu,{path:"/demo-master",element:(0,rl.jsx)(Wq,{})})]})]})})}const az=document.getElementById("root");t.createRoot(az).render((0,rl.jsx)(oz,{}))})()})();
//# sourceMappingURL=main.2998a369.js.map